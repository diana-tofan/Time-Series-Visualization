(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/data.2340907b.csv"},23:function(e,t,n){e.exports=n(40)},32:function(e,t,n){},34:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),o=n.n(i),c=n(22),s=n(5),l=n(7),u={initial:2e5,rate:5,years:25,monthlyOverpayment:0},m=Object(s.b)({mortgage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET/INITIAL":return Object(l.a)({},e,{initial:t.val});case"SET/RATE":return Object(l.a)({},e,{rate:t.val});case"SET/YEARS":return Object(l.a)({},e,{years:t.val});case"SET/MONTHLY_OVERPAYMENT":return Object(l.a)({},e,{monthlyOverpayment:t.val});default:return e}}}),d=(n(32),n(8)),h=n(9),p=n(11),f=n(10),v=n(12),w=(n(34),n(1)),y=n(21),b=n.n(y),O=n(2),D=n.n(O),g=function(e){var t=e.split("T")[0],n=e.split("T")[1].slice(0,-1);return D()("".concat(t," ").concat(n),"YYYYMMDD HHmmss").toDate()},E=function(e){var t=e.split("T")[1].slice(0,-1);return D()("".concat(t),"HHmmss").format("HH:mm:ss")},j=function(e){return D()("".concat(e.split("T")[0]),"YYYYMMDD").format("YYYY-MM-DD").split("T")[0]},M=function(e){var t=e.map(function(t){return{date:j(t[e.columns[0]]),time:E(t[e.columns[0]])}});return t.push({date:j(e.columns[0]),time:g(e.columns[0])}),t.reduce(function(e,t){return e[t.date]=e[t.date]||[],e[t.date].push(t.time),e},Object.create(null))},Y=function(e){var t=e.map(function(t){return{timestamp:j(t[e.columns[0]])}});t.push({timestamp:j(e.columns[0])});var n=t.map(function(e){return e.timestamp});return n.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{})},k=n(15),T=n(3),N=(n(38),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={showTooltip:!1,renderBarChart:!1,style:{}},n.renderChart=n.renderChart.bind(Object(T.a)(Object(T.a)(n))),n.updateDimensions=n.updateDimensions.bind(Object(T.a)(Object(T.a)(n))),n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"updateDimensions",value:function(){this.setState({cellSize:window.innerWidth/100,cellMargin:window.innerWidth/400})}},{key:"componentWillMount",value:function(){this.updateDimensions()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){return r.a.createElement("div",{id:"calendar"},this.drawDayLabels(),this.state.showTooltip&&r.a.createElement("div",{className:"tooltip",style:this.state.style},D()(this.state.showTooltip).format("dddd, MMMM DD YYYY"),r.a.createElement("div",{className:"text"},"Count: ",this.state.count)),r.a.createElement("div",{className:"months"},this.drawCalendar(this.props.data)))}},{key:"renderChart",value:function(e){var t=D()(e).format("YYYY-MM-DD"),n=M(this.props.rawData);console.log(n[t])}},{key:"drawCalendar",value:function(e){var t=this,n=function(e){var t=w.g.floor(e);return w.i(w.h.floor(t),w.g.offset(t,1)).length},a=w.d(Object.keys(e)),i=w.c(Object.keys(e)),o=this.state.cellMargin,c=this.state.cellSize,s=function(e){return(e.getDay()+6)%7},l=w.f("%W"),u=w.f("%B"),m=w.g.range(new Date(parseInt("".concat(a.split("-")[0])),0,1),new Date(parseInt("".concat(i.split("-")[0])),11,31));return m.map(function(a){var i=w.e(a,new Date(a.getFullYear(),a.getMonth()+1,1)),m=i.map(function(t){return Object.keys(e).find(function(e){return new Date(e).setHours(0,0,0,0)===t.setHours(0,0,0,0)})}).map(function(t){return!!t&&e[t]}).filter(function(e){return!!e});return r.a.createElement("svg",{className:"month",height:7*c+8*o+20,width:c*n(a)+o*(n(a)+1),key:a},r.a.createElement("g",null,r.a.createElement("text",{className:"month-name",y:7*c+8*o+15,x:(c*n(a)+o*(n(a)+1))/2,textAnchor:"middle"},u(a)),i.map(function(n){var a,i,u,d=Object.keys(e).find(function(e){return new Date(e).setHours(0,0,0,0)===n.setHours(0,0,0,0)}),h=!!e[d]&&(a=e[d],i=Math.max.apply(Math,Object(k.a)(m)),u=Math.min.apply(Math,Object(k.a)(m)),(a-u)/(i-u)*.75+.25),p=e[d]?w.b(h):"#eaeaea";return r.a.createElement("rect",{key:n,className:"day",width:c,height:c,rx:50,ry:50,fill:p,y:s(n)*c+s(n)*o+o,x:(l(n)-l(new Date(n.getFullYear(),n.getMonth(),1)))*c+(l(n)-l(new Date(n.getFullYear(),n.getMonth(),1)))*o+o,onMouseOver:function(a){return t.setState({showTooltip:n,count:e[d]?e[d]:0,style:{top:a.clientY+10,left:a.clientX+10}})},onMouseOut:function(){return t.setState({showTooltip:!1})},onClick:function(){return t.renderChart(n)}})})))})}},{key:"drawDayLabels",value:function(){var e=Array.apply(null,Array(7)).map(function(e,t){return D()(t,"e").startOf("week").isoWeekday(t+1).format("ddd")});return r.a.createElement("g",null,e.map(function(e){return r.a.createElement("text",{key:e,className:"dayLabels"},e)}))}}]),t}(r.a.Component)),C=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(f.a)(t).call(this))).state={data:[]},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a(b.a).then(function(t){e.setState({data:Y(t),rawData:t})}).catch(function(e){throw e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"title"}," Visualizing Time-Series Data ")),r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("p",null,"Calendar heatmap"),Object.keys(this.state.data).length>0&&r.a.createElement(N,{data:this.state.data,rawData:this.state.rawData}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=Object(s.c)(m);o.a.render(r.a.createElement(c.a,{store:S},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.f28d6c19.chunk.js.map