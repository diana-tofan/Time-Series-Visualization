{"version":3,"sources":["helpers/parser.js","reducers/app.js","reducers/calendar.js","reducers/radialChart.js","reducers/index.js","components/calendar/DayLabels.js","components/calendar/Tooltip.js","components/calendar/YearLabel.js","components/calendar/Heatmap.js","components/radial-chart/RadialChart.js","components/App.js","serviceWorker.js","index.js"],"names":["parseTimestamp","timeStamp","dateString","split","timeString","slice","moment","concat","toDate","parseTime","utc","format","parseDate","getDayInsights","data","newData","map","item","date","columns","time","push","reduce","r","a","Object","create","parseData","replace","timestamp","x","obj","initialState","dayInsights","files","isCalendarVisible","showTooltip","yearIndex","isRadialChartVisible","selectedDay","rootReducer","combineReducers","app","state","arguments","length","undefined","action","type","objectSpread","val","calendar","currentYear","parseInt","radialChart","weekArray","Array","apply","_","i","startOf","isoWeekday","DayLabels","react_default","createElement","className","day","key","Tooltip","props","style","count","YearLabel","previousYear","minDate","subtract","nextYear","maxDate","add","showPreviousArrow","showNextArrow","classNames","disabled","onClick","changeYear","Heatmap","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","renderBarChart","renderChart","bind","assertThisInitialized","updateDimensions","renderYear","renderMonth","renderDay","setState","cellSize","window","innerWidth","cellMargin","moments","keys","d","min","maxYear","max","id","calendar_DayLabels","calendar_Tooltip","calendar_YearLabel","drawCalendar","value","showRadialChart","selectDay","dateData","target","size","months","d3","range","Date","years","yearsArr","year","monthsArr","memo","index","_this2","hidden","month","_this3","weeksInMonth","m","floor","offset","monthName","days","getFullYear","getMonth","lastDay","endOf","firstDay","extraSpace","height","width","y","textAnchor","_this4","isCurrentDay","getDay","week","find","setHours","filter","j","Math","toConsumableArray","fillColor","current-day","rx","ry","fill","onMouseOver","ev","top","clientY","left","clientX","onMouseOut","React","Component","connect","dispatch","formatNumber","arc","startAngle","PI","numBars","endAngle","innerRadius","occurrences","hour","minute","second","millisecond","toString","acc","barHeight","temp","extent","values","domain","ticks","tickFormat","transform","startOffset","xlinkHref","0","1","2","3","4","5","6","7","8","9","10","11","uploadFile","showCalendar","setData","file","name","bytes","log","round","pow","bytesToSize","dist_es","accept","onDrop","acceptedFiles","rejectedFiles","forEach","reader","FileReader","onload","result","parsed","onabort","console","onerror","readAsBinaryString","_ref","getRootProps","getInputProps","isDragActive","assign","dropzone--isActive","dropzone--isDone","calendar_Heatmap","radial_chart_RadialChart","Boolean","location","hostname","match","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","src_components_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.af5b4035.chunk.js","sourcesContent":["import moment from 'moment';\n\nconst parseTimestamp = timeStamp => {\n  const dateString = timeStamp.split('T')[0];\n  const timeString = timeStamp.split('T')[1].slice(0, -1);\n  return moment(`${dateString} ${timeString}`, 'YYYYMMDD HHmmss').toDate();\n};\n\nconst parseTime = timeStamp => {\n  const timeString = timeStamp.split('T')[1].slice(0, -1);\n  return moment(`${timeString}`, 'HHmmss').utc().format(\"HH:mm:ss\");\n};\n\nconst parseDate = timeStamp => moment(`${timeStamp.split('T')[0]}`, 'YYYYMMDDxxx')//.toDate()\n  .format('YYYY-MM-DD').split('T')[0];\n\nconst countOccurrences = arr => arr.reduce(function(obj, item) {\n  obj[item] = (obj[item] || 0) + 1;\n  return obj;\n}, {});\n\nconst parseData = data => {\n  const cleanedData = data.map(item => (item[data.columns[0]]).replace(/[-:.]/g, ''));\n  let newData = cleanedData.map(item => ({ timestamp: parseDate(item) }));\n  newData.push({ timestamp: parseDate(data.columns[0]) });\n  const x = newData.map(item => item.timestamp);\n  return countOccurrences(x);\n};\n\nconst groupBy = arr => arr.reduce(function (r, a) {\n  r[a.date] = r[a.date] || [];\n  r[a.date].push(a.time);\n  return r;\n}, Object.create(null));\n\nexport const getDayInsights = data => {\n  let newData = data.map(item => ({ date: parseDate(item[data.columns[0]]), time: parseTime(item[data.columns[0]]) }));\n  newData.push({ date: parseDate(data.columns[0]), time: parseTimestamp(data.columns[0]) });\n  return groupBy(newData);\n};\n\nexport default parseData;\n","import parseData, { getDayInsights } from '../helpers/parser';\n\nconst SET_DATA = 'SET_DATA';\nconst UPLOAD_FILE = 'UPLOAD_FILE';\n\nconst initialState = {\n  data: [],\n  dayInsights: [],\n  files: []\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_DATA:\n      return {\n        ...state,\n        data: parseData(action.val),\n        dayInsights: getDayInsights(action.val)\n      };\n    case UPLOAD_FILE:\n      return {\n        ...state,\n        files: action.val\n      };\n    default:\n      return state;\n  }\n}\n\nexport const setData = val => ({ type: SET_DATA, val });\nexport const uploadFile = val => ({ type: UPLOAD_FILE, val });\n","const SHOW_CALENDAR = 'SHOW_CALENDAR';\nconst SHOW_TOOLTIP = 'SHOW_TOOLTIP';\nconst CHANGE_YEAR = 'CHANGE_YEAR';\n\nconst initialState = {\n  isCalendarVisible: false,\n  showTooltip: false,\n  yearIndex: 0\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_CALENDAR:\n      return {\n        ...state,\n        isCalendarVisible: action.val\n      };\n    case SHOW_TOOLTIP:\n      return {\n        ...state,\n        showTooltip: action.val\n      };\n    case CHANGE_YEAR:\n      return {\n        ...state,\n        currentYear: parseInt(state.currentYear) + action.val,\n        yearIndex: state.yearIndex + action.val\n      };\n    default:\n      return state;\n  }\n}\n\nexport const showCalendar = val => ({ type: SHOW_CALENDAR, val });\nexport const showTooltip = val => ({ type: SHOW_TOOLTIP, val });\n","const SHOW_RADIAL_CHART = 'SHOW_RADIAL_CHART';\nconst SELECT_DAY = 'SELECT_DAY';\n\nconst initialState = {\n  isRadialChartVisible: false,\n  selectedDay: null\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_RADIAL_CHART:\n      return {\n        ...state,\n        isRadialChartVisible: action.val\n      };\n    case SELECT_DAY:\n      return {\n        ...state,\n        selectedDay: action.val\n      };\n    default:\n      return state;\n  }\n}\n\nexport const showRadialChart = val => ({ type: SHOW_RADIAL_CHART, val });\nexport const selectDay = val => ({ type: SELECT_DAY, val });\n","import { combineReducers } from 'redux';\nimport app from './app';\nimport calendar from './calendar';\nimport radialChart from './radialChart';\n\nconst rootReducer = combineReducers({\n  app,\n  calendar,\n  radialChart\n});\n\nexport default rootReducer;\n","import React from 'react';\nimport moment from 'moment';\n\nconst weekArray = Array.apply(null, Array(7)).map(function (_, i) {\n  return moment(i, 'e').startOf('week').isoWeekday(i+1).format('ddd');\n});\n\nconst DayLabels = () =>\n  <div className='dayLabelsContainer'>\n    <g>\n      {\n        weekArray.map(day =>\n          <text\n            key={day}\n            className='dayLabels'\n          >\n            {day}\n          </text>\n        )\n      }\n    </g>\n  </div>;\n\nexport default DayLabels;\n","import React from 'react';\nimport moment from 'moment';\n\nconst Tooltip = props =>\n  props.showTooltip &&\n    <div className='tooltip' style={props.style}>\n      {moment(props.showTooltip).format('dddd, MMMM DD YYYY')}\n      <div className='text'>\n        Count: {props.count}\n      </div>\n    </div>;\n\nexport default Tooltip;\n","import React from 'react';\nimport moment from 'moment';\nimport classNames from 'classnames';\n\nconst YearLabel = props => {\n  const previousYear = moment(props.minDate).subtract(1, 'years').format('YYYY');\n  const nextYear = moment(props.maxDate).add(1, 'years').format('YYYY');\n  const showPreviousArrow = previousYear >= props.minDate.format('YYYY');\n  const showNextArrow = nextYear <= props.maxDate.format('YYYY');\n\n  return (\n    <div className='yearLabel'>\n      <i\n        className={classNames('fas fa-chevron-left', {'disabled': !showPreviousArrow})}\n        onClick={() => showPreviousArrow && props.changeYear(-1)}\n      />\n      { props.minDate.format('YYYY') }\n      <i\n        className={classNames('fas fa-chevron-right', {'disabled': !showNextArrow})}\n        onClick={() => showNextArrow && props.changeYear(+1)}\n      />\n    </div>\n  )\n};\n\nexport default YearLabel;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as d3 from 'd3';\nimport classNames from 'classnames';\nimport moment from 'moment';\nimport { showRadialChart, selectDay } from '../../reducers/radialChart';\n\nimport DayLabels from './DayLabels';\nimport Tooltip from './Tooltip';\nimport YearLabel from './YearLabel';\nimport Year from './Year';\n\nclass Heatmap extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      showTooltip: false,\n      renderBarChart: false,\n      style: {},\n      currentYear: null,\n      i: 0\n    };\n    this.renderChart = this.renderChart.bind(this);\n    this.updateDimensions = this.updateDimensions.bind(this);\n    this.changeYear = this.changeYear.bind(this);\n    this.renderYear = this.renderYear.bind(this);\n    this.renderMonth = this.renderMonth.bind(this);\n    this.renderDay = this.renderDay.bind(this);\n  }\n\n  updateDimensions() {\n    this.setState({\n      cellSize: window.innerWidth / 125,\n      cellMargin: window.innerWidth / 400\n    });\n  }\n\n  componentWillMount() {\n    const moments = Object.keys(this.props.data).map(d => moment(d));\n    this.setState({\n      currentYear: moment.min(moments).format('YYYY'),\n      maxYear: moment.max(moments).format('YYYY'),\n      minDate: moment.min(moments),\n      maxDate: moment.max(moments)\n    });\n    this.updateDimensions();\n  }\n\n  componentDidMount() {\n    // window.addEventListener(\"resize\", this.updateDimensions);\n  }\n\n  componentWillUnmount() {\n    // window.removeEventListener(\"resize\", this.updateDimensions);\n  }\n\n  render() {\n    return (\n      <div id='calendar'>\n        <DayLabels />\n        <Tooltip\n          style={this.state.style}\n          showTooltip={this.state.showTooltip}\n          count={this.state.count}\n        />\n        <YearLabel\n          minDate={this.state.minDate}\n          maxDate={this.state.maxDate}\n          changeYear={this.changeYear}\n        />\n        <div className='months'>\n          { this.drawCalendar(this.props.data, this.state.i) }\n        </div>\n      </div>\n    );\n  }\n\n  changeYear(value) {\n    this.setState({\n      currentYear: parseInt(this.state.currentYear)+value,\n      i: this.state.i+value\n    });\n  }\n\n  renderChart(d) {\n    const day = moment(d).format('YYYY-MM-DD');\n    this.props.showRadialChart(true);\n    this.props.selectDay(day);\n  }\n\n  drawCalendar(dateData, i) {\n    // const monthName = d3.timeFormat('%B'),\n    // months = d3.timeMonth.range(new Date(parseInt(`${minDate.split('-')[0]}`), 0, 1),\n    //   new Date(parseInt(`${maxDate.split('-')[0]}`), 11, 31));\n\n    const minDate = this.state.minDate.format('YYYY-MM-DD'); // new Date(2016, 0, 1);\n    const maxDate = this.state.maxDate.format('YYYY-MM-DD'); // new Date(2020, 11, 31);\n\n    const months = d3.timeMonth.range(new Date(parseInt(`${minDate.split('-')[0]}`), 0, 1),\n      new Date(parseInt(`${maxDate.split('-')[0]}`), 11, 31));\n\n    // const months = d3.timeMonth.range(minDate, maxDate);\n    const years = d3.timeYear.range(new Date(minDate), new Date(maxDate));\n\n    const yearsArr = years.map(year => moment(year).format('YYYY'));\n    const chunk = (target, size) => {\n      return target.reduce((memo, value, index) => {\n        // Here it comes the only difference\n        if (index % (target.length / size) === 0 && index !== 0) memo.push([]);\n        memo[memo.length - 1].push(value);\n        return memo\n      }, [[]])\n    };\n    const monthsArr = chunk(months, months.length / 12);\n\n    // render only first year\n    return this.renderYear(yearsArr, years[0], months, dateData, monthsArr);\n  }\n\n  renderYear(years, year, months, dateData, monthsArr) {\n    const previousYear = moment(this.state.currentYear).subtract(1, 'years').format('YYYY');\n    const nextYear = moment(this.state.currentYear).add(1, 'years').format('YYYY');\n    const showPreviousArrow = previousYear >= this.state.minDate.format('YYYY');\n    const showNextArrow = nextYear <= this.state.maxDate.format('YYYY');\n    return (\n      <div key={year}>\n          {\n            monthsArr.map((months, i) => {\n              return <div className={classNames('year', {'hidden': i !== this.state.i})} key={i}>\n                {months.map(month => this.renderMonth(month, dateData))}\n              </div>\n            })\n          }\n      </div>\n      );\n  }\n\n  renderMonth(month, dateData) {\n    const weeksInMonth = month => {\n      const m = d3.timeMonth.floor(month);\n      return d3.timeWeeks(d3.timeWeek.floor(m), d3.timeMonth.offset(m,1)).length;\n    };\n\n    const cellMargin = this.state.cellMargin,\n      cellSize = this.state.cellSize;\n\n    const monthName = d3.timeFormat('%B');\n    const yearName = d3.timeFormat('%Y');\n\n    const days = d3.timeDays(month, new Date(month.getFullYear(), month.getMonth()+1, 1));\n    const lastDay = moment(month).endOf('month').format('ddd'); // last day of current month\n    const firstDay = moment(month).add(1, 'months').startOf('month').format('ddd'); // first day of next month\n    let extraSpace = 0;\n    if ((lastDay === 'Mon' && firstDay === 'Tue') || (lastDay === 'Tue' && firstDay === 'Wed')) {\n      extraSpace += 10;\n    }\n    return (\n      <svg\n        className='month'\n        height={((cellSize * 7) + (cellMargin * 8) + 20)}\n        width={(cellSize * weeksInMonth(month)) + (cellMargin * (weeksInMonth(month) + 5)) + extraSpace}\n        key={month}\n      >\n        <g>\n          <text\n            className='month-name'\n            y={(cellSize * 7) + (cellMargin * 8) + 15}\n            x={((cellSize * weeksInMonth(month)) + (cellMargin * (weeksInMonth(month) + 1))) / 2}\n            textAnchor='middle'\n          >\n            { monthName(month) }\n          </text>\n          { days.map(d => this.renderDay(d, month, dateData)) }\n        </g>\n      </svg>\n    );\n  }\n\n  renderDay(d, month, dateData) {\n    const cellMargin = this.state.cellMargin,\n      cellSize = this.state.cellSize;\n    let isCurrentDay = false;\n    if (moment(d).format('DD-MM-YY') === moment().format('DD-MM-YY')) {\n      isCurrentDay = true;\n    }\n\n    const day = d => (d.getDay() + 6) % 7,\n      week = d3.timeFormat('%W');\n\n    const normalize = (val, max, min) => (1 - 0.25) * ((val - min) / (max - min)) + 0.25;\n\n    const days = d3.timeDays(month, new Date(month.getFullYear(), month.getMonth()+1, 1));\n    let filters = days.map(d =>\n      Object.keys(dateData).find(key =>\n        new Date(key).setHours(0,0,0,0) === d.setHours(0,0,0,0))\n    );\n    const count = filters.map(i => !!i && dateData[i]).filter(j => !!j);\n\n    const item = Object.keys(dateData).find(key =>\n      new Date(key).setHours(0,0,0,0) === d.setHours(0,0,0,0));\n    const value = !!dateData[item] && normalize(dateData[item], Math.max(...count), Math.min(...count));\n    const fillColor = !!dateData[item] ? d3.interpolatePurples(value) : '#ececec';\n    return (\n      <rect\n        key={d}\n        className={classNames('day', {'current-day': isCurrentDay})}\n        width={cellSize}\n        height={cellSize}\n        rx={50}\n        ry={50}\n        fill={fillColor}\n        y={(day(d) * cellSize) + (day(d) * cellMargin) + cellMargin}\n        x={((week(d) - week(new Date(d.getFullYear(),d.getMonth(),1))) * cellSize) + ((week(d) - week(new Date(d.getFullYear(),d.getMonth(),1))) * cellMargin) + cellMargin}\n        onMouseOver={(ev) => this.setState({\n          showTooltip: d,\n          count: !!dateData[item] ? dateData[item] : 0,\n          style: {\n            top: ev.clientY + 10,\n            left: ev.clientX + 10\n          }\n        })}\n        onMouseOut={() => this.setState({\n          showTooltip: false\n        })}\n        onClick={() => this.renderChart(d)}\n      >\n      </rect>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  showRadialChart: val => dispatch(showRadialChart(val)),\n  selectDay: val => dispatch(selectDay(val)),\n});\n\nexport default connect(null, mapDispatchToProps)(Heatmap);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport * as d3 from 'd3';\n\nconst RadialChart = props => {\n  const dayInsights = props.dayInsights[props.selectedDay];\n\n  const width = 960,\n    height = 600,\n    barHeight = height / 2 - 40;\n  const color = d3.scaleOrdinal()\n    .range([\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\",\"#fdb462\",\"#b3de69\",\"#fccde5\",\"#d9d9d9\",\"#bc80bd\",\"#ccebc5\",\"#ffed6f\"]);\n\n  const formatNumber = d3.format(\"s\");\n\n  // const extent = dayInsights && d3.extent(dayInsights, function(d) { return d; });\n  // const barScale = extent && d3.scaleLinear()\n  //   .domain(extent)\n  //   .range([0, barHeight]);\n  //\n  // // const numBars = dayInsights && dayInsights.length;\n  //\n  // const x = extent && d3.scaleLinear()\n  //   .domain(extent)\n  //   .range([0, -barHeight]);\n  //\n  // const xAxis = d3.axisLeft()\n  //   .ticks(3)\n  //   .tickFormat(formatNumber);\n\n  const transform = \"translate(\" + width/2 + \",\" + height/2 + \")\";\n\n  const arc = d3.arc()\n    .startAngle((d, i) => (i * 2 * Math.PI) / numBars)\n    .endAngle((d, i) => ((i + 1) * 2 * Math.PI) / numBars)\n    .innerRadius(0);\n\n  const roundedHours = dayInsights && dayInsights.map(hour => {\n    const m = moment(`${props.selectedDay} ${hour}`);\n      return m.minute() || m.second() || m.millisecond()\n        ? parseInt(m.add(1, 'hour').startOf('hour').format('HH'))\n        : parseInt(m.startOf('hour').toString().format('HH'))\n    }\n  );\n\n  const occurrences = roundedHours.reduce((acc, item) => {\n    acc[item] = (acc[item] || 0) + 1;\n    return acc;\n  }, {});\n\n  const keys = [...Array(24).keys()];\n\n  const labelRadius = barHeight * 1.025;\n  // const d = \"m0 \" + \"-\" + labelRadius + \" a\" + labelRadius + \" \" + labelRadius + \" 0 1,1 -0.01 0\";\n  const d = `m0 -${labelRadius} a${labelRadius} ${labelRadius} 0 1,1 -0.01 0`;\n   const temp = [...Array(12).keys()];\n   const obj = {\n     0: 4,\n     1: 10,\n     2: 3,\n     3: 0,\n     4: 0,\n     5: 5,\n     6: 1,\n     7: 8,\n     8: 9,\n     9: 0,\n     10: 0,\n     11: 2\n   };\n   const numBars = 12;\n\n   const extent = d3.extent(Object.values(occurrences), d => d);\n\n  const barScale = extent && d3.scaleLinear()\n    .domain(extent)\n    .range([0, barHeight]);\n\n  // const numBars = dayInsights && dayInsights.length;\n\n  const x = extent && d3.scaleLinear()\n    .domain(extent)\n    .range([0, -barHeight]);\n\n  const xAxis = d3.axisLeft()\n    .ticks(3)\n    .tickFormat(formatNumber);\n\n  return (\n    <div className='container'>\n      <div className='dayLabel'>\n        { moment(props.selectedDay).format('dddd, MMMM DD YYYY') }\n      </div>\n      <div className='dayOverview'>\n        {\n          dayInsights\n            ? <svg\n              className='radialBarChart'\n              width={width}\n              height={height}\n            >\n            <g transform={transform}>\n                <circle\n                  r={barHeight}\n                  className='circle'\n                >\n                </circle>\n                <g className='labels'>\n                  <def>\n                    <path\n                      id='labelPath'\n                      d={d}\n                    />\n                  </def>\n                {\n                  temp.map((key,i) =>\n                    <text textAnchor='middle'>\n                      <textPath\n                        startOffset={`${i * 100 / numBars + 50 / numBars}%`}\n                        xlinkHref='#labelPath'\n                      >\n                        {key+1}\n                      </textPath>\n                    </text>\n                  )\n                }\n                </g>\n                {\n                  Object.values(obj).map((item, i) => {\n                    return (\n                      <path\n                        d={`${arc(item, i)}`}\n                      />\n                    )\n                  }\n                  )\n                }\n                </g>\n              </svg>\n            : <span>\n                No data recorded\n              </span>\n        }\n      </div>\n    </div>\n  )\n};\n\nconst mapStateToProps = state => ({\n  dayInsights: state.app.dayInsights,\n  selectedDay: state.radialChart.selectedDay\n});\n\nexport default connect(mapStateToProps)(RadialChart);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport Dropzone from 'react-dropzone';\nimport * as d3 from 'd3';\n\nimport { setData, uploadFile } from '../reducers/app';\nimport { showCalendar } from '../reducers/calendar';\n\nimport Heatmap from './calendar/Heatmap';\nimport RadialChart from './radial-chart/RadialChart';\n\nimport './App.css';\n\nconst App = props => {\n  const onDrop = (acceptedFiles, rejectedFiles) => {\n    props.uploadFile(acceptedFiles);\n    acceptedFiles.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        const data = reader.result;\n        const parsed = d3.csvParse(data);\n        props.setData(parsed);\n        props.showCalendar(true);\n      };\n      reader.onabort = () => console.log('file reading was aborted');\n      reader.onerror = () => console.log('file reading has failed');\n      reader.readAsBinaryString(file);\n    });\n  };\n\n  const bytesToSize = bytes => {\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) return '0 Byte';\n    const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n  };\n\n  const files = props.files.map(file => (\n    <span>\n         <b key={file.name}>\n           {file.name}\n         </b>\n         <div className='file-size'>\n           {bytesToSize(file.size)}\n         </div>\n      </span>\n  ));\n\n  return (\n    <div className='app'>\n      <header className='header'>\n        <div className='title'> Visualizing Time-Series Data </div>\n      </header>\n      <div className='content'>\n        <section>\n          <p>Upload file</p>\n          <Dropzone\n            accept='text/csv'\n            onDrop={onDrop}\n          >\n            {({getRootProps, getInputProps, isDragActive}) => {\n              return (\n                <div\n                  {...getRootProps()}\n                  className={classNames('dropzone', {'dropzone--isActive': isDragActive, 'dropzone--isDone': !!files.length})}\n                >\n                  <input {...getInputProps()} />\n                  {\n                    !!files.length\n                      ? <span className='file-name'>\n                          <i className=\"fa fa-remove\" />\n                        {files}\n                        </span>\n                      : <span className='upload-message'>\n                          <i className=\"fa fa-upload\" />\n                            Drag & Drop your file or <u>Browse</u>\n                        </span>\n                  }\n                </div>\n              )\n            }}\n          </Dropzone>\n        </section>\n        {\n          props.isCalendarVisible &&\n          <section>\n            <p>Calendar heatmap</p>\n            <Heatmap\n              data={props.data}\n              dayInsights={props.dayInsights}\n            />\n          </section>\n        }\n        {\n          props.isRadialChartVisible &&\n          <section>\n            <p>Day overview</p>\n            <RadialChart\n              key={props.data}\n            />\n          </section>\n        }\n      </div>\n    </div>\n  )\n};\n\nconst mapStateToProps = state => ({\n  data: state.app.data,\n  dayInsights: state.app.dayInsights,\n  files: state.app.files,\n  isCalendarVisible: state.calendar.isCalendarVisible,\n  isRadialChartVisible: state.radialChart.isRadialChartVisible\n});\n\nconst mapDispatchToProps = dispatch => ({\n  uploadFile: val => dispatch(uploadFile(val)),\n  showCalendar: val => dispatch(showCalendar(val)),\n  setData: val => dispatch(setData(val))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\n\nimport rootReducer from './reducers';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}