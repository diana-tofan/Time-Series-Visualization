(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t){},26:function(e,t,a){e.exports=a(45)},35:function(e,t,a){},37:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/data.2340907b.csv"},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),i=a.n(o),c=a(24),s=a(6),l=a(8),u={initial:2e5,rate:5,years:25,monthlyOverpayment:0},m=Object(s.b)({mortgage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET/INITIAL":return Object(l.a)({},e,{initial:t.val});case"SET/RATE":return Object(l.a)({},e,{rate:t.val});case"SET/YEARS":return Object(l.a)({},e,{years:t.val});case"SET/MONTHLY_OVERPAYMENT":return Object(l.a)({},e,{monthlyOverpayment:t.val});default:return e}}}),d=(a(35),a(9)),h=a(10),f=a(12),Y=a(11),p=a(13),v=(a(37),a(4)),D=(a(41),a(2)),y=a.n(D),g=function(e){var t=e.split("T")[0],a=e.split("T")[1].slice(0,-1);return y()("".concat(t," ").concat(a),"YYYYMMDD HHmmss").toDate()},b=function(e){var t=e.split("T")[1].slice(0,-1);return y()("".concat(t),"HHmmss").utc().format("HH:mm:ss")},E=function(e){return y()("".concat(e.split("T")[0]),"YYYYMMDDxxx").format("YYYY-MM-DD").split("T")[0]},M=function(e){var t=e.map(function(t){return{date:E(t[e.columns[0]]),time:b(t[e.columns[0]])}});return t.push({date:E(e.columns[0]),time:g(e.columns[0])}),t.reduce(function(e,t){return e[t.date]=e[t.date]||[],e[t.date].push(t.time),e},Object.create(null))},w=function(e){var t=e.map(function(t){return t[e.columns[0]].replace(/[-:.]/g,"")}).map(function(e){return{timestamp:E(e)}});t.push({timestamp:E(e.columns[0])});var a=t.map(function(e){return e.timestamp});return a.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{})},O=a(5),j=a.n(O),k=a(16),N=a(3),T=(a(43),Array.apply(null,Array(7)).map(function(e,t){return y()(t,"e").startOf("week").isoWeekday(t+1).format("ddd")})),x=function(){return r.a.createElement("g",null,T.map(function(e){return r.a.createElement("text",{key:e,className:"dayLabels"},e)}))},S=function(e){return e.showTooltip&&r.a.createElement("div",{className:"tooltip",style:e.style},y()(e.showTooltip).format("dddd, MMMM DD YYYY"),r.a.createElement("div",{className:"text"},"Count: ",e.count))},C=function(e){var t=y()(e.minDate).subtract(1,"years").format("YYYY"),a=y()(e.maxDate).add(1,"years").format("YYYY"),n=t>=e.minDate.format("YYYY"),o=a<=e.maxDate.format("YYYY");return r.a.createElement("div",{className:"yearLabel"},r.a.createElement("i",{className:j()("fas fa-chevron-left",{disabled:!n}),onClick:function(){return n&&e.changeYear(-1)}}),e.minDate.format("YYYY"),r.a.createElement("i",{className:j()("fas fa-chevron-right",{disabled:!o}),onClick:function(){return o&&e.changeYear(1)}}))},B=(a(22),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(Y.a)(t).call(this,e))).state={showTooltip:!1,renderBarChart:!1,style:{},currentYear:null,i:0},a.renderChart=a.renderChart.bind(Object(N.a)(Object(N.a)(a))),a.updateDimensions=a.updateDimensions.bind(Object(N.a)(Object(N.a)(a))),a.changeYear=a.changeYear.bind(Object(N.a)(Object(N.a)(a))),a.renderYear=a.renderYear.bind(Object(N.a)(Object(N.a)(a))),a.renderMonth=a.renderMonth.bind(Object(N.a)(Object(N.a)(a))),a.renderDay=a.renderDay.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"updateDimensions",value:function(){this.setState({cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400})}},{key:"componentWillMount",value:function(){var e=Object.keys(this.props.data).map(function(e){return y()(e)});this.setState({currentYear:y.a.min(e).format("YYYY"),maxYear:y.a.max(e).format("YYYY"),minDate:y.a.min(e),maxDate:y.a.max(e)}),this.updateDimensions()}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{id:"calendar"},r.a.createElement(x,null),r.a.createElement(S,{style:this.state.style,showTooltip:this.state.showTooltip,count:this.state.count}),r.a.createElement(C,{minDate:this.state.minDate,maxDate:this.state.maxDate,changeYear:this.changeYear}),r.a.createElement("div",{className:"months"},this.drawCalendar(this.props.data,this.state.i)))}},{key:"changeYear",value:function(e){this.setState({currentYear:parseInt(this.state.currentYear)+e,i:this.state.i+e})}},{key:"renderChart",value:function(e){var t=y()(e).format("YYYY-MM-DD"),a=M(this.props.rawData);console.log(a[t])}},{key:"drawCalendar",value:function(e,t){var a,n,r=this.state.minDate.format("YYYY-MM-DD"),o=this.state.maxDate.format("YYYY-MM-DD"),i=v.e.range(new Date(parseInt("".concat(r.split("-")[0])),0,1),new Date(parseInt("".concat(o.split("-")[0])),11,31)),c=v.h.range(new Date(r),new Date(o)),s=c.map(function(e){return y()(e).format("YYYY")}),l=(a=i,n=i.length/12,a.reduce(function(e,t,r){return r%(a.length/n)===0&&0!==r&&e.push([]),e[e.length-1].push(t),e},[[]]));return this.renderYear(s,c[0],i,e,l)}},{key:"renderYear",value:function(e,t,a,n,o){var i=this,c=y()(this.state.currentYear).subtract(1,"years").format("YYYY"),s=y()(this.state.currentYear).add(1,"years").format("YYYY");this.state.minDate.format("YYYY"),this.state.maxDate.format("YYYY");return r.a.createElement("div",{key:t},o.map(function(e,t){return r.a.createElement("div",{className:j()("year",{hidden:t!==i.state.i}),key:t},e.map(function(e){return i.renderMonth(e,n)}))}))}},{key:"renderMonth",value:function(e,t){var a=this,n=function(e){var t=v.e.floor(e);return v.g(v.f.floor(t),v.e.offset(t,1)).length},o=this.state.cellMargin,i=this.state.cellSize,c=v.d("%B"),s=(v.d("%Y"),v.c(e,new Date(e.getFullYear(),e.getMonth()+1,1))),l=y()(e).endOf("month").format("ddd"),u=y()(e).add(1,"months").startOf("month").format("ddd"),m=0;return("Mon"===l&&"Tue"===u||"Tue"===l&&"Wed"===u)&&(m+=10),r.a.createElement("svg",{className:"month",height:7*i+8*o+20,width:i*n(e)+o*(n(e)+5)+m,key:e},r.a.createElement("g",null,r.a.createElement("text",{className:"month-name",y:7*i+8*o+15,x:(i*n(e)+o*(n(e)+1))/2,textAnchor:"middle"},c(e)),s.map(function(n){return a.renderDay(n,e,t)})))}},{key:"renderDay",value:function(e,t,a){var n=this,o=this.state.cellMargin,i=this.state.cellSize,c=!1;y()(e).format("DD-MM-YY")===y()().format("DD-MM-YY")&&(c=!0);var s,l,u,m=function(e){return(e.getDay()+6)%7},d=v.d("%W"),h=v.c(t,new Date(t.getFullYear(),t.getMonth()+1,1)).map(function(e){return Object.keys(a).find(function(t){return new Date(t).setHours(0,0,0,0)===e.setHours(0,0,0,0)})}).map(function(e){return!!e&&a[e]}).filter(function(e){return!!e}),f=Object.keys(a).find(function(t){return new Date(t).setHours(0,0,0,0)===e.setHours(0,0,0,0)}),Y=!!a[f]&&(s=a[f],l=Math.max.apply(Math,Object(k.a)(h)),u=Math.min.apply(Math,Object(k.a)(h)),(s-u)/(l-u)*.75+.25),p=a[f]?v.b(Y):"#ececec";return r.a.createElement("rect",{key:e,className:j()("day",{"current-day":c}),width:i,height:i,rx:50,ry:50,fill:p,y:m(e)*i+m(e)*o+o,x:(d(e)-d(new Date(e.getFullYear(),e.getMonth(),1)))*i+(d(e)-d(new Date(e.getFullYear(),e.getMonth(),1)))*o+o,onMouseOver:function(t){return n.setState({showTooltip:e,count:a[f]?a[f]:0,style:{top:t.clientY+10,left:t.clientX+10}})},onMouseOut:function(){return n.setState({showTooltip:!1})},onClick:function(){return n.renderChart(e)}})}}]),t}(r.a.Component)),H=a(25),A=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(Y.a)(t).call(this))).onDrop=function(t,a){e.setState({files:t}),t.forEach(function(t){var a=new FileReader;a.onload=function(){var t=a.result,n=v.a(t);e.setState({data:w(n),rawData:n})},a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.readAsBinaryString(t)})},e.state={data:[],files:[]},e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state.files.map(function(e){return r.a.createElement("span",null,r.a.createElement("b",{key:e.name},e.name),r.a.createElement("div",{className:"file-size"},function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(e.size)))});return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"title"}," Visualizing Time-Series Data ")),r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("p",null,"Upload file"),r.a.createElement(H.a,{onDrop:this.onDrop},function(t){var a=t.getRootProps,n=t.getInputProps,o=t.isDragActive;return r.a.createElement("div",Object.assign({},a(),{className:j()("dropzone",{"dropzone--isActive":o,"dropzone--isDone":!!e.length})}),r.a.createElement("input",n()),e.length?r.a.createElement("span",{className:"file-name"},r.a.createElement("i",{className:"fa fa-remove"}),e):r.a.createElement("span",{className:"upload-message"},r.a.createElement("i",{className:"fa fa-upload"}),"Drag & Drop your file or ",r.a.createElement("u",null,"Browse")))})),!!Object.keys(this.state.data).length&&r.a.createElement("section",null,r.a.createElement("p",null,"Calendar heatmap"),r.a.createElement(B,{data:this.state.data,rawData:this.state.rawData}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=Object(s.c)(m);i.a.render(r.a.createElement(c.a,{store:z},r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.ccb9cd77.chunk.js.map