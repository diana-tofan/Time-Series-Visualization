(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/github-logo.7338f8ee.svg"},20:function(e,t,n){e.exports=n.p+"static/media/pdf-logo.eb8752b9.svg"},25:function(e,t,n){},26:function(e,t,n){},29:function(e,t,n){e.exports=n.p+"static/media/clock.d668b059.svg"},33:function(e,t,n){e.exports=n.p+"static/media/itching_in_nose_tbc.4437b604.csv"},34:function(e,t,n){e.exports=n.p+"static/media/itch_tbc.345754fd.csv"},35:function(e,t,n){e.exports=n.p+"static/media/ptsd_filtered.c05231cb.csv"},36:function(e,t,n){e.exports=n.p+"static/media/data.2340907b.csv"},37:function(e,t,n){e.exports=n.p+"static/media/github-logo-hover.b2035e53.svg"},38:function(e,t,n){e.exports=n.p+"static/media/pdf-logo-hover.eebd97c5.svg"},41:function(e,t,n){e.exports=n(81)},51:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},69:function(e,t,n){},72:function(e,t,n){},76:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a,r,s,o,i=n(5),c=n(0),l=n.n(c),d=n(16),u=n.n(d),h=n(3),f=n(14),p=n(12),y=n(1),m=n.n(y),v=function(e,t){var n=e.split("T")[1].slice(0,-1),a=t||e.split(";")[1].split(";")[0];return m.a.utc("".concat(n),"HH:mm:ss").utcOffset(a).format("HH:mm:ss")},k=function(e){return m()("".concat(e.split("T")[0]),"YYYYMMDDxxx").format("YYYY-MM-DD").split("T")[0]},g=function(e){return e.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{})},O=function(e){var t=e.map(function(t){return{date:k(t[e.columns[0]]),time:v(t[e.columns[0]],t[e.columns[1]])}});return t.unshift({date:k(e.columns[0]),time:v(e.columns[0],e.columns[1])}),t.reduce(function(e,t){return e[t.date]=e[t.date]||[],e[t.date].push(t.time),e},{})},b=function(e,t,n){var a=Object.keys(t).filter(function(t){return m()(t).format("M")===e}).reduce(function(e,n){return e[n]=t[n],e},{}),r=Object.keys(a).reduce(function(e,t){return e.push(a[t]),e},[]),s=Object.keys(n).filter(function(t){return m()(t).format("M")===e}).reduce(function(e,t){return e[t]=n[t],e},{}),o=Object.values(s).reduce(function(e,t){return Object.keys(t).map(function(n){return e.hasOwnProperty(n)?e[n]+=t[n]:e[n]=t[n],null}),e},{});return{selectedMonth:e,daysOfMonth:o,monthInsights:r.flat()}},M=function(e,t,n){var a=Object.keys(t).filter(function(t){return m()(t).isoWeekday(1).format("w")===e.toString()}).reduce(function(e,n){return e[n]=t[n],e},{}),r=Object.keys(a).reduce(function(e,t){return e.push(a[t]),e},[]),s=Object.keys(n).filter(function(t){return m()(t).isoWeek()===e}).reduce(function(e,t){return e[t]=n[t],e},{}),o=Object.values(s).reduce(function(e,t){return Object.keys(t).map(function(n){return e.hasOwnProperty(n)?e[n]+=t[n]:e[n]=t[n],null}),e},{});return{selectedWeek:e,daysOfWeek:o,weekInsights:r.flat()}},D=function(e,t,n,a,r){for(var s=Object.keys(t).filter(function(t){return m()(t).isoWeekday()===m()(e,"ddd").isoWeekday()}).reduce(function(e,n){return e[n]=t[n],e},{}),o=Object.keys(s).reduce(function(e,t){return e.push(s[t]),e},[]),i=Object.keys(n).filter(function(t){return m()(t).isoWeekday()===m()(e,"ddd").isoWeekday()}).reduce(function(e,t){return e[t]=n[t],e},{}),c=Object.values(i).reduce(function(e,t){return Object.keys(t).map(function(n){return e.hasOwnProperty(n)?e[n]+=t[n]:e[n]=t[n],null}),e},{}),l=a&&a.daysArr.filter(function(e){return r[m()(e,"DD-MM-YYYY").format("YYYY-MM-DD")]}).length-1,d={},u=0;u<24;u++)d[u]=c[u]?Number(c[u]/l).toFixed(2):0;return{selectedWeekday:e,daysOfWeekday:c,weekdayInsights:o.flat(),weekdayObj:d}},W=function(e,t,n,a){for(var r=Object.keys(n).filter(function(t){return e.indexOf(m()(t).format("MMMM"))>-1||e.indexOf(m()(t).isoWeek())>-1||e.indexOf(m()(t).format("ddd"))>-1||e.indexOf(t)>-1||e.indexOf("all")>-1}).reduce(function(e,t){return e[t]=n[t],e},{}),s=Object.keys(r).reduce(function(e,t){return e.push(r[t]),e},[]),o=Object.keys(a).filter(function(t){return e.indexOf(m()(t).format("MMMM"))>-1||e.indexOf(m()(t).isoWeek())>-1||e.indexOf(m()(t).format("ddd"))>-1||e.indexOf(t)>-1||e.indexOf("all")>-1}).reduce(function(e,t){return e[t]=a[t],e},{}),i=Object.values(o).reduce(function(e,t){return Object.keys(t).map(function(n){return e.hasOwnProperty(n)?e[n]+=t[n]:e[n]=t[n],null}),e},{}),c=e.indexOf("all")>-1?Object.keys(o).length:1,l={},d=0;d<24;d++)l[d]=i[d]?Number(i[d]/c).toFixed(2):0;return{shiftSelection:e,selectedDays:i,selectedDaysInsights:s.flat(),selectedDaysObj:l}},w=function(e){var t=O(e);return Object.keys(t).reduce(function(e,n){for(var a=t[n],r=a&&a.map(function(e){var t=m()("".concat(n," ").concat(e));return parseInt(t.startOf("hour").format("HH"))}),s=r&&r.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),o={},i=0;i<=24;i++)o[i]=s[i]||0;return e[n]=s,e},{})},I=function(e,t,n){var a=Array.from({length:7},function(e,n){return m()(t).startOf("isoWeek").add(n,"days").format("YYYY-MM-DD")}),r=Object.keys(e).filter(function(e){return a.includes(e)}).reduce(function(e,t){return e.push({day:t,occurrences:n[t]}),e},[]);r=r.map(function(e){return e.occurrences.map(function(t){var n=m()("".concat(e.day," ").concat(t));return parseInt(n.startOf("hour").format("HH"))})});for(var s=a.filter(function(t){return e[t]}).length,o=[].concat.apply([],r).reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),i={},c=0;c<24;c++)i[c]=o[c]?Number(o[c]/s).toFixed(2):0;return i},Y=function(e,t,n){var a=Array.from({length:m()(t).daysInMonth()},function(e,n){return m()(t).startOf("isoMonth").add(n,"days").format("YYYY-MM-DD")}),r=Object.keys(e).filter(function(e){return a.includes(e)}).reduce(function(e,t){return e.push({day:t,occurrences:n[t]}),e},[]);r=r.map(function(e){return e.occurrences.map(function(t){var n=m()("".concat(e.day," ").concat(t));return parseInt(n.startOf("hour").format("HH"))})});for(var s=a.filter(function(t){return e[t]}).length,o=[].concat.apply([],r).reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),i={},c=0;c<24;c++)i[c]=o[c]?Number(o[c]/s).toFixed(2):0;return i},E=function(e,t){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},S=function(e,t){for(var n=m()(e).startOf("isoWeek"),a=m()(e).endOf("isoWeek"),r=[],s=n;s<=a;)E(m()(s).format("YYYY-MM-DD"),Object.keys(t))&&r.push(m()(s).format("DD-MM-YYYY")),s=s.clone().add(1,"d");return r},j=function(e,t){for(var n=m()(e).startOf("month"),a=m()(e).endOf("month"),r=[],s=n;s<=a;)E(m()(s).format("YYYY-MM-DD"),Object.keys(t))&&r.push(m()(s).format("DD-MM-YYYY")),s=s.clone().add(1,"d");return r},C=function(e,t){for(var n=m()(e).startOf("year"),a=m()(e).endOf("year"),r=[],s=m()(e);s<=a;)E(m()(s).format("YYYY-MM-DD"),Object.keys(t))&&r.push(m()(s).format("DD-MM-YYYY")),s=s.clone().add(7,"d");for(var o=[],i=m()(e);i>=n;)E(m()(i).format("YYYY-MM-DD"),Object.keys(t))&&o.push(m()(i).format("DD-MM-YYYY")),i=i.clone().subtract(7,"d");var c=Object(p.a)(new Set(r.concat(o)));return{daysArr:c,length:c.length}},x=function(e,t){var n=t.filter(function(t){return m()(t,"HH:mm:ss").format("HH")===m()(e.data,"H").format("HH")});return g(n.map(function(e){return m()(e,"HH:mm:ss").format("HH:mm")}))},N=function(e){var t=e.map(function(t){return t[e.columns[0]].replace(/[-:.]/g,"")}).map(function(e){return{timestamp:k(e)}});t.unshift({timestamp:k(e.columns[0])});var n=t.map(function(e){return e.timestamp});return g(n)},A={data:[],rawData:[],minDate:null,maxDate:null,dayInsights:[],weekInsights:[],monthInsights:[],daysOfMonth:[],selectedWeek:null,selectedMonth:null,shiftSelection:[],weekdayInsights:[],daysOfWeekday:[],daysOfWeek:[],selectedWeekday:null,datasetName:"",files:[],allDays:[],showTooltip:!1,isSpinnerVisible:!1},_=function(e){return{type:"SHOW_SPINNER",val:e}},H=function(e){return{type:"SET_MONTH_INSIGHTS",val:e}},T=function(e){return{type:"SET_WEEK_INSIGHTS",val:e}},B=function(e){return{type:"SET_WEEKDAY_INSIGHTS",val:e}},R=function(e){return{type:"ON_SHIFT_CLICK",val:e}},L=function(e){return{type:"RESET_SHIFT_SELECTION",val:e}},z=function(e){return{type:"REMOVE_ITEM",val:e}},V={isCalendarVisible:!1,yearIndex:0,cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400,screenWidth:"object"===typeof window?window.innerWidth:null,selectedDay:null,currentWeek:null,currentMonth:null,currentWeekdays:null,color:null,colors:[]},F=function(e){return{type:"SELECT_DAY",val:e}},P=function(e){return{type:"SAVE_COLOR",val:e}},U={isRadialChartVisible:!1,highlightedWeekday:null},K=function(e){return{type:"HIGHLIGHT_DAY",val:e}},G={isBarChartVisible:!1,showWeekOverview:!1,showMonthOverview:!1,showWeekdayOverview:!1,modalData:null,timeArray:[]},X=function(e){return{type:"SHOW_BAR_CHART",val:e}},q=function(e){return{type:"SHOW_WEEK_OVERVIEW",val:e}},J=function(e){return{type:"SHOW_MONTH_OVERVIEW",val:e}},Z=function(e){return{type:"SHOW_WEEKDAY_OVERVIEW",val:e}},$=function(e){return{type:"OPEN_MODAL",val:e}},Q=Object(f.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":var n=N(t.val),a=Object.keys(n).map(function(e){return m()(e)});return Object(i.a)({},e,{rawData:t.val,data:n,dayInsights:O(t.val),minDate:m.a.min(a),maxDate:m.a.max(a),allDays:w(t.val)});case"UPLOAD_FILE":return Object(i.a)({},e,{files:t.val});case"SET_DATASET_NAME":return Object(i.a)({},e,{datasetName:t.val});case"SHOW_SPINNER":return Object(i.a)({},e,{isSpinnerVisible:t.val});case"SET_MONTH_INSIGHTS":return Object(i.a)({},e,{monthInsights:t.val.monthInsights,daysOfMonth:t.val.daysOfMonth,selectedMonth:t.val.selectedMonth});case"SET_WEEKDAY_INSIGHTS":return Object(i.a)({},e,{weekdayInsights:t.val.weekdayInsights,daysOfWeekday:t.val.daysOfWeekday,selectedWeekday:t.val.selectedWeekday});case"SET_WEEK_INSIGHTS":return Object(i.a)({},e,{weekInsights:t.val.weekInsights,daysOfWeek:t.val.daysOfWeek,selectedWeek:t.val.selectedWeek});case"ON_SHIFT_CLICK":return Object(i.a)({},e,{shiftSelection:Object(p.a)(new Set(e.shiftSelection.concat(t.val)))});case"REMOVE_ITEM":return Object(i.a)({},e,{shiftSelection:e.shiftSelection.filter(function(e){return e!==t.val})});case"RESET_SHIFT_SELECTION":return Object(i.a)({},e,{shiftSelection:[]});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CALENDAR":return Object(i.a)({},e,{isCalendarVisible:t.val});case"CHANGE_YEAR":return Object(i.a)({},e,{yearIndex:e.yearIndex+t.val});case"SCREEN_RESIZE":return Object.assign({},e,{screenWidth:window.innerWidth,cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400});case"SELECT_DAY":var n=t.val&&t.val.day,a=t.val&&t.val.color,r=t.val&&t.val.data;return Object(i.a)({},e,{selectedDay:n,color:a,currentWeek:S(n,r),currentMonth:j(n,r),currentWeekdays:C(n,r)});case"SAVE_COLOR":return Object.assign({},e,{colors:Object(p.a)(new Set(e.colors.concat({day:t.val.day,value:t.val.value})))});case"RESET_COLORS":return Object(i.a)({},e,{colors:[]});default:return e}},radialChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_RADIAL_CHART":return Object(i.a)({},e,{isRadialChartVisible:t.val});case"HIGHLIGHT_DAY":return Object(i.a)({},e,{highlightedWeekday:t.val});default:return e}},barChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_BAR_CHART":return Object(i.a)({},e,{isBarChartVisible:t.val,showWeekOverview:!1,showMonthOverview:!1,showWeekdayOverview:!1});case"SHOW_WEEK_OVERVIEW":return Object(i.a)({},e,{showWeekOverview:t.val,showMonthOverview:!1,showWeekdayOverview:!1});case"SHOW_MONTH_OVERVIEW":return Object(i.a)({},e,{showMonthOverview:t.val,showWeekOverview:!1,showWeekdayOverview:!1});case"SHOW_WEEKDAY_OVERVIEW":return Object(i.a)({},e,{showWeekdayOverview:t.val,showWeekOverview:!1,showMonthOverview:!1});case"OPEN_MODAL":return Object(i.a)({},e,{modalData:t.val&&t.val.data,timeArray:t.val?x(t.val.data,t.val.arr):[]});case"RESET":return G;default:return e}}}),ee=(n(51),n(6)),te=n(7),ne=n(9),ae=n(8),re=n(10),se=n(11),oe=n.n(se),ie=function(e){function t(e){var n;return Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).onWeekdayClick=function(e,t){if(e.shiftKey)n.setState({toggle:!n.state.toggle},function(){n.state.toggle?n.props.onShiftClick(t):n.props.removeItem(t)});else{n.props.selectDay(null),n.props.resetShiftSelection(),n.props.setMonthInsights({monthInsights:[],daysOfMonth:[]});var a=D(t,n.props.dayInsights,n.props.allDays);n.props.setWeekdayInsights({selectedWeekday:a.selectedWeekday,daysOfWeekday:a.daysOfWeekday,weekdayInsights:a.weekdayInsights}),n.props.showBarChart(!0),n.setState({toggle:!1})}},n.state={toggle:!1},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this,t=Array.apply(null,Array(7)).map(function(e,t){return m()(t,"e").startOf("week").isoWeekday(t+1).format("ddd")});return l.a.createElement("div",{className:"day-labels-container"},t.map(function(t){return l.a.createElement("text",{key:t,className:oe()("day-labels",{bold:e.props.selectedWeekday===t||e.props.shiftSelection.indexOf(t)>-1}),onClick:function(n){return e.onWeekdayClick(n,t)}},t)}))}}]),t}(l.a.Component),ce=Object(h.b)(function(e){return{allDays:e.app.allDays,dayInsights:e.app.dayInsights,selectedWeekday:e.app.selectedWeekday,shiftSelection:e.app.shiftSelection}},function(e){return{setWeekdayInsights:function(t){return e(B(t))},setMonthInsights:function(t){return e(H(t))},showBarChart:function(t){return e(X(t))},selectDay:function(t){return e(F(t))},onShiftClick:function(t){return e(R(t))},resetShiftSelection:function(t){return e(L(t))},removeItem:function(t){return e(z(t))}}})(ie),le=Object(h.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate}},function(e){return{changeYear:function(t){return e(function(e){return{type:"CHANGE_YEAR",val:e}}(t))}}})(function(e){var t=m()(e.minDate).subtract(1,"years").format("YYYY"),n=m()(e.maxDate).add(1,"years").format("YYYY"),a=t>=e.minDate.format("YYYY"),r=n<=e.maxDate.format("YYYY");return l.a.createElement("div",{className:"year-label"},l.a.createElement("i",{className:oe()("fas fa-chevron-left",{disabled:!a}),onClick:function(){return a&&e.changeYear(-1)}}),e.minDate.format("YYYY"),l.a.createElement("i",{className:oe()("fas fa-chevron-right",{disabled:!r}),onClick:function(){return r&&e.changeYear(1)}}))}),de=n(2),ue=n(13),he=n.n(ue),fe=n(40),pe=function(e){var t={r:0,g:0,b:0},n=[],a=function(t){t.forEach(function(t){if(!n.find(function(e){return m()(e.day,"DD-MM-YYYY").format("YYYY-MM-DD")===t})){var a=de.f(ve(e.data).oranges(e.data[t]));n.push({day:t,value:a})}})};e.selectedWeek&&(n=e.colors.filter(function(t){return m()(t.day).isoWeek()===e.selectedWeek&&t}),a(Object.keys(e.allDays).filter(function(t){return m()(t).isoWeek()===e.selectedWeek})));e.selectedMonth&&(n=e.colors.filter(function(t){return m()(t.day,"DD-MM-YYYY").format("M")===e.selectedMonth&&t}),a(function(e,t,n){for(var a=m()(e,"M").daysInMonth(),r=[],s=function(){var s=m()(e,"M").date(a).format("".concat(t,"-MM-DD"));Object.keys(n).find(function(e){return e===s})&&r.push(s),a--};a;)s();return r}(e.selectedMonth,m()(e.minDate).format("YYYY"),e.data)));e.selectedWeekday&&(n=e.colors.filter(function(t){return m()(t.day,"DD-MM-YYYY").format("ddd")===e.selectedWeekday&&t}),a(Object.keys(e.allDays).filter(function(t){return m()(t).isoWeekday()===m()(e.selectedWeekday,"ddd").isoWeekday()})));return n.forEach(function(e){t.r+=e.value.r,t.g+=e.value.g,t.b+=e.value.b}),de.r(t.r/n.length,t.g/n.length,t.b/n.length)},ye=function(e,t,n){if(e&&t){for(var a=e.length;a--;)if(e[a]===n)return!0;return!1}},me=function(e,t){var n=Object.keys(e.data).find(function(e){return m()(e,"YYYY-MM-DD").format("DD-MM-YYYY")===t});return n?de.f(ve(e.data).oranges(e.data[n])):"#efefef"},ve=function(e){var t=de.p(Object.values(e)),n=de.o(Object.values(e));return{purples:ke(t,n),oranges:ge(t,n),blues:Oe(t,n)}},ke=function(e,t){var n=(t-e)/20;return de.t().range(["#dadaeb","#d1d0e6","#c9c7e1","#c0bedc","#b7b5d7","#afacd2","#a6a3ce","#9e9ac9","#9591c4","#8c89c0","#8380bc","#7d76b7","#786db2","#7464ad","#6f5aa8","#6950a3","#64469e","#5f3d99","#5a3294","#54278f"]).domain([e+n,e+2*n,e+3*n,e+4*n,e+5*n,e+6*n,e+7*n,e+8*n,e+9*n,e+10*n,e+11*n,e+12*n,e+13*n,e+14*n,e+15*n,e+16*n,e+17*n,e+18*n,e+19*n,e+20*n])},ge=function(e,t){var n=(t-e)/10;return de.t().range(["#fdd0a2","#febb81","#fea763","#fd9243","#f67e30","#ea6c23","#dc5c18","#cb4d0e","#b94107","#a63603"]).domain([e+n,e+2*n,e+3*n,e+4*n,e+5*n,e+6*n,e+7*n,e+8*n,e+9*n,e+10*n])},Oe=function(e,t){var n=(t-e)/10;return de.t().range(["#9ecae1","#86bbdb","#6faed5","#599fce","#4190c5","#3581bd","#2a72b3","#2063a9","#15549f","#084594"]).domain([e+n,e+2*n,e+3*n,e+4*n,e+5*n,e+6*n,e+7*n,e+8*n,e+9*n,e+10*n])},be=function(e){function t(e){var n;return Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).isEqual=function(e){var t=e.currentWeek&&e.currentWeek.includes(m()(n.props.day).format("DD-MM-YYYY"))||n.props.currentWeek&&n.props.currentWeek.includes(m()(e.day).format("DD-MM-YYYY")),a=e.currentMonth&&e.currentMonth.includes(m()(n.props.day).format("DD-MM-YYYY"))||n.props.currentMonth&&n.props.currentMonth.includes(m()(e.day).format("DD-MM-YYYY")),r=e.currentWeekdays&&e.currentWeekdays.daysArr.includes(m()(n.props.day).format("DD-MM-YYYY"))||n.props.currentWeekdays&&n.props.currentWeekdays.daysArr.includes(m()(e.day).format("DD-MM-YYYY"));return t||a||r},n.onDayClick=function(e,t,a){console.log(n.refs.day.getBoundingClientRect()),e.stopPropagation();var r=m()(t).format("YYYY-MM-DD");if(e.shiftKey)n.setState({toggle:!n.state.toggle},function(){n.state.toggle?n.props.onShiftClick(r):n.props.removeItem(r)});else{n.props.setMonthInsights({selectedMonth:null,monthInsights:[],daysOfMonth:[]}),n.props.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),n.props.setWeekInsights({selectedWeek:null,daysOfWeek:[],weekInsights:[]}),n.props.resetShiftSelection();var s=de.f(ve(n.props.data).oranges(n.props.data[r]));n.props.selectDay({day:t,color:s,data:n.props.data}),n.props.showBarChart(!0);var o=m()(t).subtract(1,"d").format("DD-MM-YYYY"),i=m()(t).add(1,"d").format("DD-MM-YYYY"),c=n.props.colors.find(function(e){return e.day===m()(t).format("DD-MM-YYYY")}),l=n.props.colors.find(function(e){return e.day===o}),d=n.props.colors.find(function(e){return e.day===i});!c&&n.props.saveColor({day:m()(t).format("DD-MM-YYYY"),value:s}),!l&&n.props.saveColor({day:o,value:me(n.props,o)}),!d&&n.props.saveColor({day:i,value:me(n.props,i)})}},n.state={toggle:!1},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=function(e){return m()(e).format("DD-MM-YY")};return n(this.props.day)===n(e.selectedDay)||n(e.day)===n(this.props.selectedDay)||this.props.selectedWeek!==e.selectedWeek||this.isEqual(e)||this.props.fill!==e.fill||this.props.highlightedWeekday!==e.highlightedWeekday||this.props.shiftSelection!==e.shiftSelection||this.props.cellSize!==e.cellSize}},{key:"render",value:function(){var e=this,t=this.props,n=this.props,a=n.cellMargin,r=n.cellSize,s=t.day,o=!1;m()(s).format("DD-MM-YY")===m()(t.selectedDay).format("DD-MM-YY")&&(o=!0);var i=function(e){return(e.getDay()+6)%7},c=de.z("%W"),d=function(e,t){var n=Object.keys(e.data).find(function(t){return new Date(t).setHours(0,0,0,0)===e.day.setHours(0,0,0,0)});if(n){var a=m()(e.day).format("DD-MM-YYYY"),r=ye(e.currentWeek,e.showWeekOverview,a)||e.selectedWeek&&e.selectedWeek===m()(e.day).isoWeek()||!!e.shiftSelection.length&&e.shiftSelection.indexOf(m()(e.day).isoWeek())>-1,s=ye(e.currentMonth,e.showMonthOverview,a)||e.selectedMonth&&e.selectedMonth===m()(e.day).format("M")||!!e.shiftSelection.length&&e.shiftSelection.indexOf(m()(e.day).format("MMMM"))>-1,o=ye(e.currentWeekdays.daysArr,e.showWeekdayOverview,a)||e.selectedWeekday&&e.selectedWeekday===m()(e.day).format("ddd")||!!e.shiftSelection.length&&e.shiftSelection.indexOf(m()(e.day).format("ddd"))>-1,i=e.highlightedWeekday&&e.highlightedWeekday===m()(e.day).format("ddd"),c=!!e.shiftSelection.length&&(e.shiftSelection.indexOf(m()(e.day).format("YYYY-MM-DD"))>-1||e.shiftSelection.indexOf("all")>-1),l=ve(e.data),d=t||c||r||s||o||i?i?l.blues(e.data[n]):l.oranges(e.data[n]):l.purples(e.data[n]);return{count:e.data[n],fillColor:d}}return{fillColor:"#efefef",count:0}}(t,o),u=!!t.shiftSelection.length&&(m()(s).format("M")===t.selectedMonth||m()(s).isoWeek()===t.selectedWeek||m()(s).format("ddd")===t.selectedWeekday||m()(s).format("DD-MM-YY")===m()(t.selectedDay).format("DD-MM-YY")),h=o||u&&t.data[m()(s).format("YYYY-MM-DD")];return l.a.createElement("rect",{"data-tip":"".concat(m()(s).format("dddd, DD MMM YYYY"),"<br>Count: ").concat(d.count),"data-for":"svgTooltip",ref:"day",key:s,className:"day fade-in",stroke:h?"#000":"",strokeWidth:h?1:0,width:r,height:r,rx:50,ry:50,fill:d.fillColor,y:i(s)*r+i(s)*a+a+20,x:(c(s)-c(new Date(s.getFullYear(),s.getMonth(),1)))*r+(c(s)-c(new Date(s.getFullYear(),s.getMonth(),1)))*a+a,onClick:function(t){return e.onDayClick(t,s,d)}})}}]),t}(l.a.Component),Me=Object(h.b)(function(e){return{data:e.app.data,selectedDay:e.calendar.selectedDay,selectedMonth:e.app.selectedMonth,selectedWeek:e.app.selectedWeek,selectedWeekday:e.app.selectedWeekday,shiftSelection:e.app.shiftSelection,showWeekOverview:e.barChart.showWeekOverview,showMonthOverview:e.barChart.showMonthOverview,showWeekdayOverview:e.barChart.showWeekdayOverview,currentWeek:e.calendar.currentWeek,currentMonth:e.calendar.currentMonth,currentWeekdays:e.calendar.currentWeekdays,dayInsights:e.app.dayInsights,cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin,allDays:e.app.allDays,colors:e.calendar.colors,highlightedWeekday:e.radialChart.highlightedWeekday}},function(e){return{showBarChart:function(t){return e(X(t))},selectDay:function(t){return e(F(t))},setWeekInsights:function(t){return e(T(t))},setMonthInsights:function(t){return e(H(t))},setWeekdayInsights:function(t){return e(B(t))},saveColor:function(t){return e(P(t))},onShiftClick:function(t){return e(R(t))},resetShiftSelection:function(t){return e(L(t))},removeItem:function(t){return e(z(t))}}})(be),De=function(e){function t(e){var n;return Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).brushEnd=function(){if(de.j.selection){var e=Object(fe.a)(de.j.selection,2),t=e[0],n=e[1];console.log(t,n)}},n.showMoreData=function(){var e=n.state.count,t=n.props.month,a=de.y(t,new Date(t.getFullYear(),t.getMonth()+1,1));e<a.length&&requestAnimationFrame(function(){return n.setState({count:e+2})})},n.getWeeksInMonth=function(e){var t=de.A.floor(e);return de.D(de.C.floor(t),de.A.offset(t,1)).length},n.getChunk=function(e,t){return e.reduce(function(n,a,r){return r%(e.length/t)===0&&0!==r&&n.push([]),n[n.length-1].push(a),n},[[]])},n.renderMonthOverview=function(e,t){if(e.stopPropagation(),e.shiftKey)n.setState({toggle:!n.state.toggle},function(){n.state.toggle?n.props.onShiftClick(t):n.props.removeItem(t)});else{n.props.selectDay(null),n.props.resetShiftSelection(),n.props.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),n.props.setWeekInsights({selectedWeek:null,daysOfWeek:[],weekInsights:[]});var a=b(m()().month(t).format("M"),n.props.dayInsights,n.props.allDays);n.props.setMonthInsights({selectedMonth:a.selectedMonth,daysOfMonth:a.daysOfMonth,monthInsights:a.monthInsights}),n.props.showBarChart(!0)}},n.renderWeekOverview=function(e,t){if(e.stopPropagation(),e.shiftKey)n.setState({toggle:!n.state.toggle},function(){n.state.toggle?n.props.onShiftClick(t):n.props.removeItem(t)});else{n.props.selectDay(null),n.props.resetShiftSelection(),n.props.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),n.props.setMonthInsights({selectedMonth:null,daysOfMonth:[],monthInsights:[]});var a=M(t,n.props.dayInsights,n.props.allDays);n.props.setWeekInsights({selectedWeek:a.selectedWeek,daysOfWeek:a.daysOfWeek,weekInsights:a.weekInsights}),n.props.showBarChart(!0)}},n.renderDays=function(e,t){return e.map(function(e){return l.a.createElement(Me,{fill:t||m()(e).format("ddd")===n.props.selectedWeekday,day:e,month:n.props.month,key:e,className:"day"})})},n.getWeekIndices=function(e){var t=m()(e).startOf("month"),n=m()(e).endOf("month"),a=[],r=m()(t);for(a.push(r.isoWeek());r.month()===t.month();)r.add(1,"weeks"),a.push(r.isoWeek());return r.isoWeek()!==n.isoWeek()&&a.pop(),a},n.renderWeekLabels=function(e,t,a){var r=n.getWeekIndices(a),s=r.length,o=[.1,.3,.5,.7,.9,1.1].slice(0,s);return r.map(function(r,s){return l.a.createElement("text",{className:oe()("week slow-fade-in",{bold:n.props.selectedWeek===r||n.props.shiftSelection.indexOf(r)>-1}),key:r,y:e,x:(e*n.getWeeksInMonth(a)+t*n.getWeeksInMonth(a))*o[s],textAnchor:"middle",onClick:function(e){return n.renderWeekOverview(e,r)}},r)})},n.state={count:1,toggle:!1},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){this.showMoreData(),this.brush=de.e().on("end",this.brushEnd),de.v(this.refs.brush).call(this.brush)}},{key:"componentDidUpdate",value:function(){this.showMoreData(),he.a.rebuild()}},{key:"render",value:function(){var e=this,t=this.props,n=t.month,a=t.cellMargin,r=t.cellSize,s=de.z("%B"),o=de.y(n,new Date(n.getFullYear(),n.getMonth()+1,1)),i=m()(n).endOf("month").format("ddd"),c=m()(n).add(1,"months").startOf("month").format("ddd"),d=0;("Mon"===i&&"Tue"===c||"Tue"===i&&"Wed"===c)&&(d+=10);var u=this.state.count,h=u>=o.length,f=h?o:o.slice(0,u),p=m()(this.props.selectedMonth,"M").format("MMMM")===s(n);return l.a.createElement("svg",{className:"month",height:7*r+8*a+50,width:r*this.getWeeksInMonth(n)+a*(this.getWeeksInMonth(n)+5)+d,key:n},l.a.createElement("g",null,h&&l.a.createElement("text",{className:oe()("month-name","slow-fade-in",{bold:p||this.props.shiftSelection.indexOf(s(n))>-1}),y:7*r+8*a+35,x:(r*this.getWeeksInMonth(n)+a*(this.getWeeksInMonth(n)+1))/2,textAnchor:"middle",onClick:function(t){return e.renderMonthOverview(t,s(n))}},s(n)),h&&this.renderWeekLabels(r,a,n),this.renderDays(f,p)))}}]),t}(l.a.PureComponent),We=Object(h.b)(function(e){return{allDays:e.app.allDays,data:e.app.data,dayInsights:e.app.dayInsights,cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin,selectedWeek:e.app.selectedWeek,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday,shiftSelection:e.app.shiftSelection}},function(e){return{setWeekInsights:function(t){return e(T(t))},setMonthInsights:function(t){return e(H(t))},setWeekdayInsights:function(t){return e(B(t))},showBarChart:function(t){return e(X(t))},selectDay:function(t){return e(F(t))},onShiftClick:function(t){return e(R(t))},resetShiftSelection:function(t){return e(L(t))},removeItem:function(t){return e(z(t))}}})(De),we=function(e){function t(){var e,n;Object(ee.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(ne.a)(this,(e=Object(ae.a)(t)).call.apply(e,[this].concat(r)))).getChunk=function(e,t){return e.reduce(function(n,a,r){return r%(e.length/t)===0&&0!==r&&n.push([]),n[n.length-1].push(a),n},[[]])},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidUpdate",value:function(){he.a.rebuild()}},{key:"render",value:function(){var e=this.props,t=e.minDate.format("YYYY-MM-DD"),n=e.maxDate.format("YYYY-MM-DD"),a=de.A.range(new Date(parseInt("".concat(t.split("-")[0])),0,1),new Date(parseInt("".concat(n.split("-")[0])),11,31)),r=this.getChunk(a,a.length/12);return l.a.createElement("div",{className:"year-wrapper",ref:"brush",onClick:function(e){return e.stopPropagation()}},r.map(function(t,n){return l.a.createElement("g",{className:oe()("year",{hidden:n!==e.yearIndex}),key:n},t.map(function(e,t){return l.a.createElement(We,{key:t,month:e})}))}),l.a.createElement(he.a,{id:"svgTooltip",multiline:!0,class:"tooltip"}))}}]),t}(l.a.PureComponent),Ie=Object(h.b)(function(e){return{data:e.app.data,minDate:e.app.minDate,maxDate:e.app.maxDate,yearIndex:e.calendar.yearIndex}})(we),Ye=(n(64),function(e){return l.a.createElement("div",{className:"card ".concat(e.className),id:"card",onKeyDown:e.onKeyDown,tabIndex:e.tabIndex},e.children)}),Ee=(n(66),function(e){return l.a.createElement("section",{className:"section ".concat(e.className||"")},l.a.createElement("p",null,e.title),e.children)}),Se=(n(25),function(e,t){var n=t.selectedMonth||t.selectedWeekday||t.selectedDay||t.selectedWeek,a=function(e){return e.selectedMonth?"months":e.selectedWeekday||e.selectedWeek?"weeks":"days"}(t);if(t.selectedDay)!function(e,t){t.setMonthInsights({monthInsights:[],daysOfMonth:[],selectedMonth:null}),t.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),t.setWeekInsights({weekInsights:[],daysOfWeek:[],selectedWeek:null});var n=t.colors.find(function(t){return t.day===m()(e).format("DD-MM-YYYY")}),a=n&&de.f(n.value);a||(a=me(t,m()(e).format("DD-MM-YYYY"),m()(e).startOf("month")),t.saveColor({day:m()(e).format("DD-MM-YYYY"),value:a})),t.selectDay({day:e,color:a,data:t.data}),t.showBarChart(!0)}(m()(n).add(e,a),t);else if(t.selectedWeek)!function(e,t){t.selectDay(null),t.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),t.setMonthInsights({monthInsights:[],daysOfMonth:[],selectedMonth:null});var n=M(e,t.dayInsights,t.allDays);t.setWeekInsights({selectedWeek:n.selectedWeek,daysOfWeek:n.daysOfWeek,weekInsights:n.weekInsights}),t.showBarChart(!0)}(parseInt(t.selectedWeek)+e,t);else if(t.selectedMonth)!function(e,t){t.selectDay(null),t.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),t.setWeekInsights({weekInsights:[],daysOfWeek:[],selectedWeek:null});var n=b(e.toString(),t.dayInsights,t.allDays);t.setMonthInsights({selectedMonth:n.selectedMonth,daysOfMonth:n.daysOfMonth,monthInsights:n.monthInsights}),t.showBarChart(!0)}(parseInt(n)+e,t);else if(t.selectedWeekday){var r=m()(n,"ddd").isoWeekday();!function(e,t){t.selectDay(null),t.setMonthInsights({monthInsights:[],daysOfMonth:[],selectedMonth:null});var n=D(e,t.dayInsights,t.allDays,t.currentWeekdays,t.data);t.setWeekdayInsights({weekdayInsights:n.weekdayInsights,daysOfWeekday:n.daysOfWeekday,selectedWeekday:n.selectedWeekday}),t.showBarChart(!0)}(m()(n,"ddd").isoWeekday(r+e).format("ddd"),t)}}),je=function(e){function t(e){var n;return Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).selectAll=function(e){"A"===e.key&&e.shiftKey&&(n.state.selection?n.props.onShiftClick("all"):n.props.resetShiftSelection(),n.setState({selection:!n.state.selection})),"ArrowLeft"===e.key&&Se(-1,n.props),"ArrowRight"===e.key&&Se(1,n.props)},n.recalc=function(){var e=n.refs.div,t=Math.min(a,r),i=Math.max(a,r),c=Math.min(s,o),l=Math.max(s,o);e.style.left=t+"px",e.style.top=c+"px",e.style.width=i-t+"px",e.style.height=l-c+"px"},n.onMouseDown=function(e){n.refs.div.hidden=0,a=e.clientX,s=e.clientY,n.recalc()},n.onMouseMove=function(e){r=e.clientX,o=e.clientY,n.recalc()},n.onMouseUp=function(){n.refs.div.hidden=1},window.addEventListener("resize",function(){e.onScreenResize(window.innerWidth)}),n.state={selection:!0},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){this.props.showSpinner(!1)}},{key:"render",value:function(){var e=this;return l.a.createElement(Ee,{title:"Calendar heatmap"},l.a.createElement(Ye,{tabIndex:0,onKeyDown:function(t){return e.selectAll(t)}},l.a.createElement(le,null),l.a.createElement("div",{className:"months"},l.a.createElement(ce,null),l.a.createElement(Ie,null),l.a.createElement("div",{id:"div",ref:"div",hidden:!0}))))}}]),t}(l.a.PureComponent),Ce=Object(h.b)(function(e){return{selectedDay:e.calendar.selectedDay,selectedWeek:e.app.selectedWeek,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday,dayInsights:e.app.dayInsights,weekInsights:e.app.weekInsights,monthInsights:e.app.monthInsights,weekdayInsights:e.app.weekdayInsights,minDate:e.app.minDate,maxDate:e.app.maxDate,allDays:e.app.allDays,colors:e.calendar.colors,currentWeekdays:e.calendar.currentWeekdays,data:e.app.data}},function(e){return{showSpinner:function(t){return e(_(t))},onScreenResize:function(t){return e(function(e){return{type:"SCREEN_RESIZE",val:e}}(t))},onShiftClick:function(t){return e(R(t))},resetShiftSelection:function(t){return e(L(t))},setWeekInsights:function(t){return e(T(t))},setMonthInsights:function(t){return e(H(t))},setWeekdayInsights:function(t){return e(B(t))},saveColor:function(t){return e(P(t))},selectDay:function(t){return e(F(t))},showBarChart:function(t){return e(X(t))}}})(je),xe=function(e){function t(){var e,n;Object(ee.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(ne.a)(this,(e=Object(ae.a)(t)).call.apply(e,[this].concat(r)))).getUnit=function(){return n.props.selectedMonth?"months":n.props.selectedWeekday||n.props.selectedWeek?"weeks":"days"},n.getString=function(e){return n.props.selectedMonth?m()(n.props.selectedMonth,"M").format("MMMM"):n.props.selectedWeek?"Week ".concat(n.props.selectedWeek):n.props.selectedWeekday?"".concat(m()(n.props.selectedWeekday,"ddd").format("dddd"),"s"):m()(e).format("dddd, MMMM DD YYYY")},n.showArrows=function(e,t,n,a){if(e){var r=m()(e).subtract(1,t),s=m()(e).add(1,t),o=r.format("".concat(m()(n).year(),"-MM-DD")),i=n.startOf("year").format("YYYY-MM-DD"),c=s.format("".concat(m()(a).year(),"-MM-DD")),l=a.startOf("year").format("YYYY-MM-DD");return{previous:m()(o).isSameOrAfter(m()(i)),next:m()(c).isSameOrBefore(m()(l))}}},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.selectedDay!==this.props.selectedDay||e.selectedMonth!==this.props.selectedMonth||e.selectedWeek!==this.props.selectedWeek||e.selectedWeekday!==this.props.selectedWeekday}},{key:"render",value:function(){var e=this,t=this.props,n=t.minDate,a=t.maxDate,r=t.selectedMonth,s=t.selectedDay,o=t.selectedWeekday,i=t.selectedWeek,c=r||o||s||i,d=this.getUnit(),u=this.showArrows(c,d,n,a),h=u&&u.previous,f=u&&u.next;return l.a.createElement("div",{className:"year-label dayTitle",tabIndex:0},l.a.createElement("i",{className:oe()("fas fa-chevron-left"),onClick:function(){return h&&Se(-1,e.props)}}),this.getString(c),l.a.createElement("i",{className:oe()("fas fa-chevron-right"),onClick:function(){return f&&Se(1,e.props)}}))}}]),t}(l.a.Component),Ne=Object(h.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate,selectedDay:e.calendar.selectedDay,selectedWeek:e.app.selectedWeek,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday,dayInsights:e.app.dayInsights,allDays:e.app.allDays,colors:e.calendar.colors,currentWeekdays:e.calendar.currentWeekdays,data:e.app.data}},function(e){return{selectDay:function(t){return e(F(t))},showBarChart:function(t){return e(X(t))},setWeekInsights:function(t){return e(T(t))},setMonthInsights:function(t){return e(H(t))},setWeekdayInsights:function(t){return e(B(t))},saveColor:function(t){return e(P(t))}}})(xe),Ae=function(e){function t(){var e,n;Object(ee.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(ne.a)(this,(e=Object(ae.a)(t)).call.apply(e,[this].concat(r)))).renderAxis=function(){var e=de.c(n.props.xScale).ticks(24).tickFormat(de.z("%H"));de.v(n.refs.xAxis).transition().call(e)},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"render",value:function(){return l.a.createElement("g",{className:"axis axis-x",transform:this.props.transform,ref:"xAxis",fill:"none",fontSize:10,textAnchor:"middle"},l.a.createElement("text",{x:this.props.width-70,y:35,textAnchor:"middle",fill:"#000",fontSize:12},"Hour of the day"))}}]),t}(l.a.PureComponent),_e=function(e){function t(){var e,n;Object(ee.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(ne.a)(this,(e=Object(ae.a)(t)).call.apply(e,[this].concat(r)))).renderAxis=function(){var e=de.d(n.props.yScale).ticks(n.props.nrOfTicks).tickFormat(de.k("d"));de.v(n.refs.yAxis).transition().call(e),de.v(n.refs.yAxis).append("text").attr("transform","rotate(-90)").attr("y",10-n.props.margin.left).attr("x",-36).attr("dy","1em").style("fill","#000").style("font-size",12).style("text-anchor","middle").text("Observations")},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"render",value:function(){return l.a.createElement("g",{className:"axis axis-y",ref:"yAxis"})}}]),t}(l.a.PureComponent),He=function(e){function t(e){var n;return Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).openModal=function(e){var t;n.props.selectedDay&&(t=n.props.dayInsights[n.props.selectedDay]),n.props.selectedMonth&&(t=n.props.monthInsights),n.props.selectedWeek&&(t=n.props.weekInsights),n.props.selectedWeekday&&(t=n.props.weekdayInsights),t&&n.props.openModal({data:e,arr:t})},n.renderBars=function(){var e=de.v(n.refs.bars).datum(n.props.plotData).selectAll(".bar").data(function(e){return e});e.interrupt();var t=n.props.color;e.transition().attr("fill",function(e,a){return a===n.state.hoverIndex?de.r(t).darker():t});var a=e.enter().append("g").classed("bar",!0);a.attr("fill",function(e,a){return a===n.state.hoverIndex?de.r(t).darker():t}),a.append("rect").attr("height",0).attr("transform",function(e){return"translate(".concat(e.x,", ").concat(n.props.plotHeight,")")}).attr("id",function(e,t){return"bar-".concat(t)}).on("mouseover",function(e,t){return n.setState({hoverIndex:t})}).on("mouseleave",function(){return n.setState({hoverIndex:-1})}).on("click",function(e){return n.openModal(e)}),e.exit().classed("bar",!1).attr("fill",t).attr("opacity",.8).transition().attr("opacity",0).remove(),e.merge(a).select("rect").attr("width",function(e){return e.width}).attr("data-tip",function(e){return"".concat(e.occurrences," occurrences<br>between ").concat(m()(e.data,"hh").format("H:mm")," - ").concat(m()(parseInt(e.data)+1,"hh").format("H:mm"))}).attr("data-for","rectTooltip").classed("hovered-bar",function(e,t){return t===n.state.hoverIndex}).transition().duration(1e3).attr("transform",function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}).attr("height",function(e){return e.height})},n.state={hoverIndex:-1},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){this.renderBars()}},{key:"componentDidUpdate",value:function(){this.renderBars()}},{key:"render",value:function(){return l.a.createElement("g",{ref:"bars"})}}]),t}(l.a.PureComponent),Te=Object(h.b)(function(e){return{dayInsights:e.app.dayInsights,monthInsights:e.app.monthInsights,weekInsights:e.app.weekInsights,weekdayInsights:e.app.weekdayInsights,selectedDay:m()(e.calendar.selectedDay).format("YYYY-MM-DD"),selectedMonth:e.app.selectedMonth,selectedWeek:e.app.selectedWeek,selectedWeekday:e.app.selectedWeekday}},function(e){return{openModal:function(t){return e($(t))}}})(He),Be=function(e){function t(){var e,n;Object(ee.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(ne.a)(this,(e=Object(ae.a)(t)).call.apply(e,[this].concat(r)))).renderLine=function(){var e=de.w(".line");if(e.node()){var t=e.node().getTotalLength();e.attr("stroke-dasharray",t).attr("stroke-dashoffset",t).attr("stroke-width",6).attr("stroke","#7888BF").transition().duration(1e3).attr("stroke-width",0).attr("stroke-dashoffset",0)}de.w(".area").attr("transform","translate(0,300)").transition().delay(500).duration(1e3).attr("transform","translate(0,0)")},n.handleMouseMove=function(e,t){var a=n.props,r=a.xScaleArea,s=a.yScale,o=a.plotHeight,i=a.color,c=a.plotData,l=a.openModal,d=a.dayInsights,u=a.selectedDay,h=a.selectedMonth,f=a.selectedWeek,p=a.selectedWeekday,y=a.monthInsights,v=a.weekInsights,k=a.weekdayInsights,g=function(t){for(var n,a=document.getElementsByClassName("line"),r=0,s=a&&a[t].getTotalLength(),o=null;s&&(o=Math.floor((r+s)/2),n=a[t].getPointAtLength(o),o!==s&&o!==r||n.x===e);)if(n.x>e)s=o;else{if(!(n.x<e))break;r=o}return n};de.v(".mouse-line").attr("d",function(){var t="M"+e+","+(o-50);return t+=" "+e+",0"});var O=de.z("%H"),b=de.B("%H");de.w(".mouse-per-line").attr("transform",function(t,n){var a=g(n),o=r.invert(a.x);return de.w(".bar").attr("fill",function(e){return O(b(e.data))===O(o)?de.r(i).darker():i}),de.v(".line-text").style("fill","#7888BF").style("font-weight","bold").text(Number(s.invert(a.y)).toFixed(2)),"translate("+e+","+a.y+")"});var M=function(){de.v(".bar-rectangle").style("opacity",0),de.v(".bar-text").style("opacity",0),de.v(".bar-circle").style("opacity",0)};de.w(".mouse-per-bar").attr("transform",function(t,n){var a=c.map(function(e){return m()(e.data,"H").format("HH")}),s=r.invert(g(n).x);if(a.indexOf(O(s))>-1){var o=c.find(function(e){return m()(e.data,"H").format("HH")===O(s)});return de.v(".mouse-over-effects").style("cursor","pointer").on("click",function(){M(),function(e){var t;u&&(t=d[m()(u).format("YYYY-MM-DD")]),h&&(t=y),f&&(t=v),p&&(t=k),t&&l({data:e,arr:t})}(o)}),de.v(".bar-rectangle").style("opacity",.9),de.v(".bar-text").style("opacity",1).style("fill",de.r(i).darker()).style("font-weight","bold").text(o.occurrences),de.v(".bar-circle").style("opacity",1),"translate(".concat(e,",").concat(o.y-3.8,")")}de.v(".bar-rectangle").style("opacity",0),de.v(".bar-circle").style("opacity",0),de.v(".mouse-over-effects").style("cursor","auto").on("click",null),M()})},n.setLineOpacity=function(e){de.v(".mouse-line").style("opacity",e),de.w(".mouse-per-line .line-circle").style("opacity",e),de.w(".mouse-per-line .line-text").style("opacity",e)},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.selectedDay!==this.props.selectedDay||e.plotWidth!==this.props.plotWidth}},{key:"componentDidMount",value:function(){this.renderLine()}},{key:"componentDidUpdate",value:function(){this.renderLine()}},{key:"render",value:function(){var e=this,t=this.props,n=t.xScaleArea,a=t.plotWidth,r=t.plotHeight,s=t.margin,o=t.yScale,i=t.insights,c=de.B("%H:%M"),d=de.b().x(function(e){return n(c("".concat(e,":30")))}).y0(r-s.top-s.bottom).y1(function(e){return o(i[e])}).curve(de.i),u=de.n().x(function(e){return n(c("".concat(e,":30")))}).y(function(e){return o(i[e])}).curve(de.i);return l.a.createElement("svg",{className:"areaChart",ref:"areaChart"},l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"grad",x1:"0%",y1:"100%",x2:"0%",y2:"0%",spreadMethod:"pad"},l.a.createElement("stop",{offset:"10%",stopColor:"#fff",stopOpacity:.4}),l.a.createElement("stop",{offset:"80%",stopColor:"#7888BF",stopOpacity:.8}))),l.a.createElement("path",{className:"area",fill:"url(#grad)",d:d(Object.keys(i))}),l.a.createElement("path",{className:"line shadow",d:u(Object.keys(i))}),l.a.createElement("g",{className:"mouse-over-effects"},l.a.createElement("path",{className:"mouse-line",stroke:"#777",strokeWidth:1,strokeDasharray:"3,3",opacity:0}),l.a.createElement("g",{className:"mouse-per-line"},l.a.createElement("circle",{className:"line-circle",r:5,fill:"#7888BF",strokeWidth:1,stroke:"#000",opacity:0}),l.a.createElement("rect",{className:"line-rectangle",x:10,y:-14,opacity:0}),l.a.createElement("text",{className:"line-text",fontSize:14,transform:"translate(16,3)"})),l.a.createElement("g",{className:"mouse-per-bar"},l.a.createElement("circle",{className:"bar-circle",r:5,fill:de.r(this.props.color).darker(),strokeWidth:1,stroke:"#000",opacity:0}),l.a.createElement("rect",{className:"bar-rectangle",x:-50,y:-14,opacity:0}),l.a.createElement("text",{className:"bar-text",transform:"translate(-35,3)",fontSize:14,opacity:0})),l.a.createElement("rect",{width:a+40,height:r,transform:"translate(0,0)",fill:"none",pointerEvents:"all",onMouseLeave:function(){return e.setLineOpacity("0")},onMouseOver:function(){return e.setLineOpacity("1")},onMouseMove:function(t){return e.handleMouseMove(t.nativeEvent.offsetX-40,t.nativeEvent.offsetY)}})))}}]),t}(l.a.Component),Re=Object(h.b)(function(e){return{dayInsights:e.app.dayInsights,monthInsights:e.app.monthInsights,weekInsights:e.app.weekInsights,weekdayInsights:e.app.weekdayInsights,selectedDay:m()(e.calendar.selectedDay),selectedMonth:e.app.selectedMonth,selectedWeek:e.app.selectedWeek,selectedWeekday:e.app.selectedWeekday,data:e.app.data}},function(e){return{openModal:function(t){return e($(t))}}})(Be),Le=(n(69),n(29)),ze=n.n(Le),Ve=function(e){function t(){var e,n;Object(ee.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(ne.a)(this,(e=Object(ae.a)(t)).call.apply(e,[this].concat(r)))).handleKeyUp=function(e){"Escape"===e.key&&(e.preventDefault(),n.hideModal())},n.hideModal=function(){n.props.openModal(null)},n.convertRange=function(e,t,n){return(e-t[0])*(n[1]-n[0])/(t[1]-t[0])+n[0]},n.getString=function(e){return n.props.selectedMonth?m()(n.props.selectedMonth,"M").format("MMMM"):n.props.selectedWeek?"Week ".concat(n.props.selectedWeek):n.props.selectedWeekday?"".concat(m()(n.props.selectedWeekday,"ddd").format("dddd"),"s"):m()(e).format("dddd, MMMM DD YYYY")},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyUp,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedDay,a=t.selectedMonth,r=t.selectedWeekday,s=t.selectedWeek,o=t.modalData,i=t.timeArray,c=a||r||n||s;return l.a.createElement("div",{className:oe()("modal","fade-in",{"display-block":o},{"display-none":!o}),onClick:this.hideModal},l.a.createElement("section",{className:"modal-main",onClick:function(e){return e.stopPropagation()}},l.a.createElement("i",{className:"fas fa-times",onClick:this.hideModal}),l.a.createElement("div",{className:"modal-title"},this.getString(c)),o&&l.a.createElement("div",null,"between ",m()(o.data,"hh").format("H:mm")," - ",m()(parseInt(o.data)+1,"hh").format("H:mm")),l.a.createElement("div",{className:"clock-icon"},l.a.createElement("img",{src:ze.a,alt:"",width:50,height:50})),l.a.createElement("div",{className:"time-container"},Object.keys(i).map(function(t){return l.a.createElement("span",{className:"time",style:{fontSize:e.convertRange(i[t],[1,20],[15,50])}},t)}))))}}]),t}(l.a.PureComponent),Fe=Object(h.b)(function(e){return{modalData:e.barChart.modalData,timeArray:e.barChart.timeArray,selectedDay:e.calendar.selectedDay,selectedWeek:e.app.selectedWeek,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday}},function(e){return{openModal:function(t){return e($(t))}}})(Ve),Pe=Object(h.b)(function(e){return{isWeekOverviewChecked:e.barChart.showWeekOverview,isMonthOverviewChecked:e.barChart.showMonthOverview,isWeekdayOverviewChecked:e.barChart.showWeekdayOverview}},function(e){return{selectDay:function(t){return e(F(t))},showWeekOverview:function(t){return e(q(t))},showMonthOverview:function(t){return e(J(t))},showWeekdayOverview:function(t){return e(Z(t))},showBarChart:function(t){return e(X(t))},onReset:function(t){return e(function(e){return{type:"RESET",val:e}}(t))}}})(function(e){var t=function(){e.showWeekOverview(!e.isWeekOverviewChecked)},n=function(){e.showMonthOverview(!e.isMonthOverviewChecked)},a=function(){e.showWeekdayOverview(!e.isWeekdayOverviewChecked)};return l.a.createElement("div",{className:"footer year-label"},e.showFooter?l.a.createElement("div",{className:"checkboxes"},l.a.createElement("span",{className:oe()("checkbox",{bold:e.isWeekOverviewChecked}),onClick:t},"Week overview ",l.a.createElement("input",{type:"checkbox",checked:e.isWeekOverviewChecked,defaultChecked:!1,onChange:t})),l.a.createElement("span",{className:oe()("checkbox",{bold:e.isMonthOverviewChecked}),onClick:n},"Month overview ",l.a.createElement("input",{type:"checkbox",checked:e.isMonthOverviewChecked,defaultChecked:!1,onChange:n})),l.a.createElement("span",{className:oe()("checkbox",{bold:e.isWeekdayOverviewChecked}),onClick:a},"Weekdays ",l.a.createElement("input",{type:"checkbox",checked:e.isWeekdayOverviewChecked,defaultChecked:!1,onChange:a}))):l.a.createElement("div",{className:"checkboxes"}),l.a.createElement("button",{onClick:function(){e.selectDay(null),e.onReset()}},"Remove charts"))}),Ue=function(e){function t(e){var n;Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).resize=function(){var e=document.getElementById("card").clientWidth<900?1:.66;n.setState({width:(document.getElementById("card").clientWidth-n.props.margin.left-n.props.margin.right)*e})},n.getData=function(){return n.props.weekInsights.length?n.props.daysOfWeek:n.props.monthInsights.length?n.props.daysOfMonth:n.props.weekdayInsights.length?n.props.daysOfWeekday:n.props.plotData},n.getInsights=function(){return n.props.isWeekOverviewChecked?I(n.props.data,n.props.selectedDay,n.props.dayInsights):n.props.isMonthOverviewChecked?Y(n.props.data,n.props.selectedDay,n.props.dayInsights):n.props.isWeekdayOverviewChecked?D(m()(n.props.selectedDay).format("ddd"),n.props.dayInsights,n.props.allDays,n.props.currentWeekdays,n.props.data).weekdayObj:n.props.shiftSelection.length?W(n.props.shiftSelection,n.props.data,n.props.dayInsights,n.props.allDays).selectedDaysObj:void 0},n.showAreaChart=function(){return n.props.isWeekOverviewChecked||n.props.isMonthOverviewChecked||n.props.isWeekdayOverviewChecked||!!n.props.shiftSelection.length},n.updateScale=function(e){var t=de.u(),a=de.u(),r=de.s().nice(),s=n.getInsights(),o=s?Math.ceil(Math.max(de.o(Object.values(s).map(function(e){return Math.ceil(e)})),de.o(Object.values(e).map(function(e){return Math.ceil(e)})))):de.o(Object.values(e)),i=[0,n.showAreaChart()?o+o/12:o],c=de.B("%H:%M"),l=c("00:00");c("23:30");return t.domain([l,de.x.offset(l)]).range([0,n.state.width-n.props.margin.right]),a.domain([l,de.x.offset(l)]).range([-20,n.state.width-n.props.margin.right+20]),r.domain(i).range([n.props.height-n.props.margin.top-n.props.margin.bottom,0]),{xScale:t,yScale:r,xScaleArea:a}},n.updatePlotSize=function(){return{plotWidth:n.state.width-(n.props.margin.left+n.props.margin.right),plotHeight:n.props.height}};var a=document.getElementById("card").clientWidth<900?1:.66;return n.state={width:(document.getElementById("card").clientWidth-e.margin.left-e.margin.right)*a},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return e.resize()})}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",function(){return e.resize()})}},{key:"componentDidUpdate",value:function(){he.a.rebuild()}},{key:"render",value:function(){var e=this,t=this.getData(),n=this.updateScale(t),a=n.xScale,r=n.yScale,s=n.xScaleArea,o=this.updatePlotSize(),i=o.plotWidth,c=o.plotHeight,d=de.o(Object.values(t).map(function(e){return Math.ceil(e)})),u=d;d>10&&(u=d/2),d>20&&(u=d/4),d>40&&(u=d/8);var h=de.B("%H"),f={xScale:a,yScale:r,xScaleArea:s,plotWidth:i,plotHeight:c,nrOfTicks:u},p={plotData:Object.keys(t).map(function(n,s){return{id:s,data:n,x:a(h(n)),y:r(t[n]),width:(e.state.width-e.props.margin.right)/24*.8,height:c-r(t[n])-e.props.margin.top-e.props.margin.bottom,occurrences:t[n]}})},y={plotData:Object.keys(t).map(function(n,a){return{id:a,data:n,x:s(h(n)),y:r(t[n]),width:(e.state.width-e.props.margin.right)/24*.8,height:c-r(t[n])-e.props.margin.top-e.props.margin.bottom,occurrences:t[n]}})},m="translate(".concat(this.props.margin.left,",").concat(this.props.margin.top,")"),v=this.props.color||pe(this.props),k=!(this.props.selectedMonth||this.props.selectedWeekday||this.props.selectedWeek);return l.a.createElement("div",null,l.a.createElement("svg",{width:"100%",height:this.props.height,ref:"barChart"},l.a.createElement("g",{transform:m,width:i,height:c},l.a.createElement(Ae,Object.assign({},f,{transform:"translate(0,".concat(c-50,")"),margin:this.props.margin,width:this.state.width,height:this.props.plotHeight})),l.a.createElement(_e,Object.assign({},f,{margin:this.props.margin,height:c})),l.a.createElement(Te,Object.assign({},f,p,{color:v})),this.showAreaChart()&&l.a.createElement(Re,Object.assign({},f,y,{margin:this.props.margin,insights:this.getInsights(),color:v})))),l.a.createElement(Pe,{showFooter:k}),l.a.createElement(he.a,{id:"rectTooltip",multiline:!0,class:"tooltip"}),l.a.createElement(Fe,null))}}]),t}(l.a.Component),Ke=Object(h.b)(function(e){return{dayInsights:e.app.dayInsights,weekInsights:e.app.weekInsights,monthInsights:e.app.monthInsights,weekdayInsights:e.app.weekdayInsights,daysOfWeek:e.app.daysOfWeek,daysOfMonth:e.app.daysOfMonth,daysOfWeekday:e.app.daysOfWeekday,selectedWeek:e.app.selectedWeek,selectedDay:m()(e.calendar.selectedDay).format("YYYY-MM-DD"),selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday,shiftSelection:e.app.shiftSelection,selectedDays:e.app.selectedDays,data:e.app.data,allDays:e.app.allDays,minDate:e.app.minDate,currentWeekdays:e.calendar.currentWeekdays,isWeekOverviewChecked:e.barChart.showWeekOverview,isMonthOverviewChecked:e.barChart.showMonthOverview,isWeekdayOverviewChecked:e.barChart.showWeekdayOverview,color:e.calendar.color,colors:e.calendar.colors}},function(e){return{showWeekOverview:function(t){return e(q(t))},showMonthOverview:function(t){return e(J(t))},showWeekdayOverview:function(t){return e(Z(t))},showBarChart:function(t){return e(X(t))},saveColor:function(t){return e(P(t))}}})(Ue),Ge=(n(26),Object(h.b)(function(e){return{dayInsights:e.app.dayInsights,weekInsights:e.app.weekInsights,monthInsights:e.app.monthInsights,weekdayInsights:e.app.weekdayInsights,minDate:e.app.minDate,maxDate:e.app.maxDate,selectedDay:e.calendar.selectedDay,selectedWeek:e.app.selectedWeek,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday,allDays:e.app.allDays,colors:e.calendar.colors,currentWeekdays:e.calendar.currentWeekdays,data:e.app.data}},function(e){return{selectDay:function(t){return e(F(t))},showBarChart:function(t){return e(X(t))},setWeekInsights:function(t){return e(T(t))},setMonthInsights:function(t){return e(H(t))},setWeekdayInsights:function(t){return e(B(t))},saveColor:function(t){return e(P(t))}}})(function(e){var t=!!e.dayInsights[m()(e.selectedDay).format("YYYY-MM-DD")]||!!e.weekInsights.length||!!e.monthInsights.length||!!e.weekdayInsights.length,n={plotData:e.plotData,margin:e.margin,height:e.height};return l.a.createElement(Ee,{className:"section-two-thirds"},l.a.createElement(Ye,{tabIndex:0,onKeyDown:function(t){return"ArrowLeft"===t.key&&Se(-1,e)||"ArrowRight"===t.key&&Se(1,e)}},l.a.createElement(Ne,{selectedDay:m()(e.selectedDay).format("YYYY-MM-DD")}),l.a.createElement("div",{className:"barChart"},t?l.a.createElement(Ke,n):l.a.createElement("div",{className:"emptyString"},"No data recorded"))))})),Xe=(n(72),function(e){function t(e){var n;return Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).normalize=function(e){var t=Math.max.apply(Math,Object(p.a)(Object.values(n.props.data))),a=Math.min.apply(Math,Object(p.a)(Object.values(n.props.data)));return(e-a)/(t-a)*.75+.25},n.getPercentage=function(e){var t=Math.max.apply(Math,Object(p.a)(Object.values(n.props.data))),a=Math.min.apply(Math,Object(p.a)(Object.values(n.props.data)));return(e-a)/(t-a)*75+5},n.renderArcs=function(){var e=de.v(n.refs.radialChart),t=n.props,a=t.setWeekdayInsights,r=t.highlightDay,s=t.dayInsights,o=t.allDays,i=t.showBarChart,c=Object.keys(n.props.data).sort(function(e,t){return m()(e,"ddd").isoWeekday()-m()(t,"ddd").isoWeekday()}).map(function(e){return{defaultValue:n.props.data[e],value:n.getPercentage(n.props.data[e]),label:e,color:de.m(n.normalize(n.props.data[e]))}}),l=c.map(function(e,t){return de.a().innerRadius(17.5*t+35).outerRadius(17.5*(t+1)-3.5+35)}),d=c.map(function(e,t){return de.a().innerRadius(17.5*t+41.75).outerRadius(17.5*(t+1)-8.75+35)}),u=c.map(function(e,t){return[{value:.75*e.value,arc:l[t],object:e},{value:.75*(100-e.value),arc:d[t],object:e},{value:25,arc:l[t],object:e}]}),h=de.q().sort(null).value(function(e){return e.value}),f=e.selectAll("g").data(u).enter().append("g").attr("transform","translate(175,175) rotate(180)"),p=e.selectAll("g.textClass").data([{}]).enter().append("g").classed("textClass",!0).attr("transform","translate(175,175) rotate(180)");f.selectAll("path").data(function(e){return h(e)}).enter().append("path").attr("id",function(e,t){return 0===t?"Arc"+e.data.object.label:1===t?"Text"+e.data.object.label:void 0}).style("cursor","pointer").on("click",function(e,t){var n=D(e.data.object.label,s,o);a({selectedWeekday:n.selectedWeekday,daysOfWeekday:n.daysOfWeekday,weekdayInsights:n.weekdayInsights}),i(!0),F(null)}).on("mouseover",function(e,t){if(0===t){var n=de.v(this).attr("id");de.w(".radial-chart path").transition().filter(function(){return de.v(this).attr("id")!==n}).duration(500).attr("opacity",function(e,n){return n!==t-1?.1:1}),de.w(".textClass text").transition().filter(function(){return de.v(this).text()!==e.data.object.label}).duration(500).attr("opacity",function(e,n){return n!==t-1?.1:1}),de.w(".textpath").transition().filter(function(){return de.v(this).text()!==e.data.object.value}).duration(500).attr("opacity",function(e,n){return n!==t-1?.1:1}),r(e.data.object.label)}}).on("mouseleave",function(e,t){de.w(".radial-chart path").attr("opacity",1),de.w(".textClass text").attr("opacity",1),de.w(".textpath").attr("opacity",1),r(null)}).attr("fill",function(e,t){return 0===t?e.data.object.color:1===t?"#F1F1F1":"none"}).transition().duration(1e3).attrTween("d",function(e){var t=de.l(e.startAngle+.1,e.endAngle);return function(n){return e.endAngle=t(n),e.data.arc(e)}}),e.selectAll("g").each(function(e,t){de.v(this).selectAll("path").each(function(e,t){if(1===t){var n=e.data.object;f.append("text").attr("font-size",14).attr("fill","#777").attr("dominant-baseline","central").append("textPath").attr("class","textpath").attr("textLength",function(e,t){return 0}).attr("xlink:href","#Text"+n.label).attr("startOffset","5").attr("dy","-3em").transition().delay(1e3).text(n.defaultValue)}if(0===t){var a=e.data.arc.centroid({startAngle:e.startAngle,endAngle:e.startAngle}),r=e.data.object;p.append("text").attr("font-size",14).attr("fill",function(){return r.color}).attr("font-weight","600").transition().delay(1e3).text(r.label).attr("transform","translate("+(a[0]-5.25)+","+a[1]+") rotate(180)").attr("dominant-baseline","central")}})})},n.state={visible:!0},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){this.renderArcs()}},{key:"componentDidUpdate",value:function(){this.renderArcs()}},{key:"render",value:function(){return l.a.createElement("svg",{className:oe()("radial-chart",{behind:this.props.modalData}),ref:"radialChart",width:"100%",height:350})}}]),t}(l.a.PureComponent)),qe=Object(h.b)(function(e){return{dayInsights:e.app.dayInsights,allDays:e.app.allDays,selectedDay:m()(e.calendar.selectedDay).format("YYYY-MM-DD"),highlightedWeekday:e.radialChart.highlightedWeekday,modalData:e.barChart.modalData}},function(e){return{highlightDay:function(t){return e(K(t))},setWeekdayInsights:function(t){return e(B(t))},showBarChart:function(t){return e(X(t))},selectDay:function(t){return e(F(t))}}})(Xe),Je=Object(h.b)(function(e){return{dayInsights:e.app.dayInsights,data:e.app.data,allDays:e.app.allDays}})(function(e){return l.a.createElement(Ee,{className:"section-one-third"},l.a.createElement(Ye,{className:"radial-chart-container"},l.a.createElement("div",{className:"year-label dayTitle dataset-overview-title"},"Week average"),l.a.createElement("div",null,l.a.createElement(qe,{data:function(e,t,n){var a=Object.keys(t).length,r=Object.keys(n).reduce(function(e,t){var a=m()(t,"YYYY-MM-DD").format("ddd");return e[a]=e[a]||[],e[a].push(n[t]),e},{});return Object.keys(r).reduce(function(e,t){return e[t]=Number(r[t].flat().length/a).toFixed(2),e},{})}(e.allDays,e.data,e.dayInsights)}))))}),Ze=n(39),$e=n(32),Qe=n.n($e),et=n(33),tt=n.n(et),nt=n(34),at=n.n(nt),rt=n(35),st=n.n(rt),ot=n(36),it=n.n(ot),ct=Object(h.b)(function(e){return{files:e.app.files,datasetName:e.app.datasetName}},function(e){return{uploadFile:function(t){return e(function(e){return{type:"UPLOAD_FILE",val:e}}(t))},setData:function(t){return e(function(e){return{type:"SET_DATA",val:e}}(t))},setDatasetName:function(t){return e(function(e){return{type:"SET_DATASET_NAME",val:e}}(t))},showSpinner:function(t){return e(_(t))},showCalendar:function(t){return e(function(e){return{type:"SHOW_CALENDAR",val:e}}(t))},showBarChart:function(t){return e(X(t))},setMonthInsights:function(t){return e(H(t))},setWeekInsights:function(t){return e(T(t))},setWeekdayInsights:function(t){return e(B(t))},selectDay:function(t){return e(F(t))},showWeekOverview:function(t){return e(q(t))},showMonthOverview:function(t){return e(J(t))},showWeekdayOverview:function(t){return e(Z(t))},resetColors:function(t){return e(function(e){return{type:"RESET_COLORS",val:e}}(t))},highlightDay:function(t){return e(K(t))}}})(function(e){var t=e.files.map(function(e,t){return l.a.createElement("span",{key:t},l.a.createElement("b",{key:e.name},e.name),l.a.createElement("div",{className:"file-size"},function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(e.size)))}),n=function(t){de.g(t).then(function(t){e.setData(t),e.showCalendar(!0)}).catch(function(e){throw e})};return l.a.createElement(Ee,{title:"Select dataset",className:"upload-section"},l.a.createElement("div",{className:"upload-dataset"},l.a.createElement(Qe.a,{className:"dropdown",options:["Dataset_1.csv","Dataset_2.csv","Dataset_3.csv","Dataset_4.csv"],placeholder:"Choose...",value:e.datasetName,onChange:function(t){e.showBarChart(!1),e.showCalendar(!1),e.setMonthInsights({monthInsights:[],daysOfMonth:[]}),e.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),e.setWeekInsights({selectedWeek:null,daysOfWeek:[],weekInsights:[]}),e.selectDay(null),e.highlightDay(null),e.showWeekOverview(!1),e.showMonthOverview(!1),e.showWeekdayOverview(!1),e.resetColors();var a=t.value;e.setDatasetName(a),e.showSpinner(!0),"Dataset_1.csv"===a&&n(tt.a),"Dataset_2.csv"===a&&n(at.a),"Dataset_3.csv"===a&&n(st.a),"Dataset_4.csv"===a&&n(it.a)}}),l.a.createElement(Ze.a,{accept:"text/csv",onDrop:function(t,n){e.uploadFile(t),t.forEach(function(t){var n=new FileReader;n.onload=function(){var t=n.result,a=de.h(t);e.setData(a),e.showCalendar(!0)},n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.readAsBinaryString(t)})}},function(e){var n=e.getRootProps,a=e.getInputProps,r=e.isDragActive;return l.a.createElement("div",Object.assign({},n(),{className:oe()("dropzone",{"dropzone--isActive":r,"dropzone--isDone":!!t.length})}),l.a.createElement("input",a()),t.length?l.a.createElement("span",{className:"file-name"},l.a.createElement("i",{className:"fa fa-remove"}),t):l.a.createElement("span",{className:"upload-message"},l.a.createElement("i",{className:"fa fa-upload"}),"Drag & Drop"))})))}),lt=(n(74),n(76),n(19)),dt=n.n(lt),ut=n(37),ht=n.n(ut),ft=n(20),pt=n.n(ft),yt=n(38),mt=n.n(yt),vt=Object(h.b)(function(e){return{allDays:e.app.allDays,selectedDay:m()(e.calendar.selectedDay).format("YYYY-MM-DD"),isCalendarVisible:e.calendar.isCalendarVisible,isBarChartVisible:e.barChart.isBarChartVisible,isSpinnerVisible:e.app.isSpinnerVisible}},function(e){return{resetShiftSelection:function(t){return e(L(t))}}})(function(e){return l.a.createElement("div",{className:"app",onClick:e.resetShiftSelection},l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"title"}," Visualizing Time-Series Data "),l.a.createElement("div",{className:"icons"},l.a.createElement("a",{href:"https://github.com/diana-tofan/Time-Series-Visualization",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{className:"github-icon",src:dt.a,alt:"Github",onMouseOver:function(e){return e.currentTarget.src=ht.a},onMouseLeave:function(e){return e.currentTarget.src=dt.a}})),l.a.createElement("a",{href:"https://www.overleaf.com/read/vptjwvyzjnvg",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{className:"pdf-icon",src:pt.a,alt:"Report",onMouseOver:function(e){return e.currentTarget.src=mt.a},onMouseLeave:function(e){return e.currentTarget.src=pt.a}})))),l.a.createElement("div",{className:"content"},l.a.createElement(ct,null),e.isCalendarVisible&&l.a.createElement(Ce,null),e.isBarChartVisible&&l.a.createElement("div",null,l.a.createElement("p",null,"Day overview"),l.a.createElement("div",{className:"charts-container"},l.a.createElement(Ge,{plotData:e.allDays[e.selectedDay],margin:{top:10,right:30,bottom:40,left:50},height:300}),e.isBarChartVisible&&l.a.createElement(Je,null))),e.isSpinnerVisible&&l.a.createElement("div",{className:"spinner"},l.a.createElement("div",{className:"double-bounce1"}),l.a.createElement("div",{className:"double-bounce2"}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kt=Object(f.c)(Q,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({actionSanitizer:function(e){return"FILE_DOWNLOAD_SUCCESS"===e.type&&e.data?Object(i.a)({},e,{data:"<<LONG_BLOB>>"}):e},stateSanitizer:function(e){return e.data?Object(i.a)({},e,{data:"<<LONG_BLOB>>"}):e}}));u.a.render(l.a.createElement(h.a,{store:kt},l.a.createElement(vt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,2,1]]]);
//# sourceMappingURL=main.9cb69f3b.chunk.js.map