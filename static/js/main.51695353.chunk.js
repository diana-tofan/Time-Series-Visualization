(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){},109:function(e,t,n){},113:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),s=n.n(r),o=n(33),i=n.n(o),c=n(4),l=n(17),u=n(1),d=n.n(u),h=n(2),p=function(e){var t=e.split("T")[1].slice(0,-1);return d()("".concat(t),"HHmmss").utc().format("HH:mm:ss")},f=function(e){return d()("".concat(e.split("T")[0]),"YYYYMMDDxxx").format("YYYY-MM-DD").split("T")[0]},m=function(e){var t=e.map(function(t){return{date:f(t[e.columns[0]]),time:p(t[e.columns[0]])}});return t.reduce(function(e,t){return e[t.date]=e[t.date]||[],e[t.date].push(t.time),e},{})},y=function(e,t,n){var a=Object.keys(t).filter(function(t){return d()(t).format("M")===e}).reduce(function(e,n){return e[n]=t[n],e},{}),r=Object.keys(a).reduce(function(e,t){return e.push(a[t]),e},[]),s=Object.keys(n).filter(function(t){return d()(t).format("M")===e}).reduce(function(e,t){return e[t]=n[t],e},{}),o=Object.values(s).reduce(function(e,t){return Object.keys(t).map(function(n){e.hasOwnProperty(n)?e[n]+=t[n]:e[n]=t[n]}),e},{});return{selectedMonth:e,daysOfMonth:o,monthInsights:r.flat()}},v=function(e,t,n,a,r){for(var s=Object.keys(t).filter(function(t){return d()(t).isoWeekday()===d()(e,"ddd").isoWeekday()}).reduce(function(e,n){return e[n]=t[n],e},{}),o=Object.keys(s).reduce(function(e,t){return e.push(s[t]),e},[]),i=Object.keys(n).filter(function(t){return d()(t).isoWeekday()===d()(e,"ddd").isoWeekday()}).reduce(function(e,t){return e[t]=n[t],e},{}),c=Object.values(i).reduce(function(e,t){return Object.keys(t).map(function(n){e.hasOwnProperty(n)?e[n]+=t[n]:e[n]=t[n]}),e},{}),l=a&&a.daysArr.filter(function(e){return r[d()(e,"DD-MM-YYYY").format("YYYY-MM-DD")]}).length-1,u={},h=0;h<24;h++)u[h]=c[h]?Number(c[h]/l).toFixed(2):0;return{selectedWeekday:e,daysOfWeekday:c,weekdayInsights:o.flat(),weekdayObj:u}},k=function(e){var t=m(e);return Object.keys(t).reduce(function(e,n){for(var a=t[n],r=a&&a.map(function(e){var t=d()("".concat(n," ").concat(e));return t.minute()||t.second()||t.millisecond()?parseInt(t.add(1,"hour").startOf("hour").format("HH")):parseInt(t.startOf("hour").format("HH"))}),s=r&&r.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),o=(h.k(Object.values(s)),{}),i=1;i<=24;i++)o[i]=s[i]||0;return e[n]=s,e},{})},O=function(e,t,n){for(var a=d()(t).isoWeekday(1),r=d()(t).isoWeekday(8),s=[],o=a;o.isBefore(r);)s.push(o.toDate()),o=o.clone().add(1,"d");var i=s.map(function(e){return d()(e).format("YYYY-MM-DD")}),c=Object.keys(e).filter(function(e){return i.includes(e)}).reduce(function(e,t){return e.push({day:t,occurrences:n[t]}),e},[]);c=c.map(function(e){return e.occurrences.map(function(t){var n=d()("".concat(e.day," ").concat(t));return n.minute()||n.second()||n.millisecond()?parseInt(n.add(1,"hour").startOf("hour").format("HH")):parseInt(n.startOf("hour").format("HH"))})});for(var l=s.filter(function(t){return e[d()(t).format("YYYY-MM-DD")]}).length,u=[].concat.apply([],c).reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),h={},p=0;p<24;p++)h[p]=u[p]?Number(u[p]/l).toFixed(2):0;return h},w=function(e){for(var t=d()(e).startOf("isoWeek"),n=d()(e).endOf("isoWeek"),a=[],r=t;r<=n;)a.push(d()(r).format("DD-MM-YYYY")),r=r.clone().add(1,"d");return a},g=function(e){for(var t=d()(e).startOf("month"),n=d()(e).endOf("month"),a=[],r=t;r<=n;)a.push(d()(r).format("DD-MM-YYYY")),r=r.clone().add(1,"d");return a},b=function(e){for(var t=d()(e).startOf("year"),n=d()(e).endOf("year"),a=[],r=d()(e);r<=n;)a.push(d()(r).format("DD-MM-YYYY")),r=r.clone().add(7,"d");for(var s=[],o=d()(e);o>=t;)s.push(d()(o).format("DD-MM-YYYY")),o=o.clone().subtract(7,"d");return{daysArr:a.concat(s),length:a.concat(s).length}},D=function(e){var t=e.map(function(t){return t[e.columns[0]].replace(/[-:.]/g,"")}).map(function(e){return{timestamp:f(e)}}).map(function(e){return e.timestamp});return t.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{})},M={data:[],rawData:[],minDate:null,maxDate:null,dayInsights:[],monthInsights:[],daysOfMonth:[],selectedMonth:null,weekdayInsights:[],daysOfWeekday:[],selectedWeekday:null,datasetName:"",files:[],allDays:[],showTooltip:!1,isSpinnerVisible:!1},W=function(e){return{type:"SET_DATA",val:e}},E=function(e){return{type:"SHOW_SPINNER",val:e}},Y=function(e){return{type:"SET_MONTH_INSIGHTS",val:e}},C=function(e){return{type:"SET_WEEKDAY_INSIGHTS",val:e}},I={isCalendarVisible:!1,yearIndex:0,cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400,screenWidth:"object"===typeof window?window.innerWidth:null,selectedDay:null,currentWeek:null,currentMonth:null,currentWeekdays:null},j=function(e){return{type:"SHOW_CALENDAR",val:e}},S={isRadialChartVisible:!1,selectedDay:null},x={isBarChartVisible:!1,selectedDay:null,currentWeek:null,currentMonth:null,currentWeekdays:null,showWeekOverview:!1,showMonthOverview:!1,showWeekdayOverview:!1},N=function(e){return{type:"SHOW_BAR_CHART",val:e}},_=function(e){return{type:"SELECT_DAY",val:e}},A=function(e){return{type:"SHOW_WEEK_OVERVIEW",val:e}},H=function(e){return{type:"SHOW_MONTH_OVERVIEW",val:e}},T=function(e){return{type:"SHOW_WEEKDAY_OVERVIEW",val:e}},B=Object(l.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":var n=D(t.val),r=Object.keys(n).map(function(e){return d()(e)});return Object(a.a)({},e,{rawData:t.val,data:n,dayInsights:m(t.val),minDate:d.a.min(r),maxDate:d.a.max(r),allDays:k(t.val)});case"UPLOAD_FILE":return Object(a.a)({},e,{files:t.val});case"SET_DATASET_NAME":return Object(a.a)({},e,{datasetName:t.val});case"SHOW_SPINNER":return Object(a.a)({},e,{isSpinnerVisible:t.val});case"SET_MONTH_INSIGHTS":return Object(a.a)({},e,{monthInsights:t.val.monthInsights,daysOfMonth:t.val.daysOfMonth,selectedMonth:t.val.selectedMonth});case"SET_WEEKDAY_INSIGHTS":return Object(a.a)({},e,{weekdayInsights:t.val.weekdayInsights,daysOfWeekday:t.val.daysOfWeekday,selectedWeekday:t.val.selectedWeekday});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CALENDAR":return Object(a.a)({},e,{isCalendarVisible:t.val});case"CHANGE_YEAR":return Object(a.a)({},e,{yearIndex:e.yearIndex+t.val});case"SCREEN_RESIZE":return Object.assign({},e,{screenWidth:window.innerWidth,cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400});case"SELECT_DAY":return Object(a.a)({},e,{selectedDay:t.val,currentWeek:w(t.val),currentMonth:g(t.val),currentWeekdays:b(t.val)});default:return e}},radialChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_RADIAL_CHART":return Object(a.a)({},e,{isRadialChartVisible:t.val});case"SELECT_DAY":return Object(a.a)({},e,{selectedDay:t.val});default:return e}},barChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_BAR_CHART":return Object(a.a)({},e,{isBarChartVisible:t.val});case"SELECT_DAY":return Object(a.a)({},e,{selectedDay:t.val,currentWeek:w(t.val),currentMonth:g(t.val),currentWeekdays:b(t.val)});case"SHOW_WEEK_OVERVIEW":return Object(a.a)({},e,{showWeekOverview:t.val});case"SHOW_MONTH_OVERVIEW":return Object(a.a)({},e,{showMonthOverview:t.val});case"SHOW_WEEKDAY_OVERVIEW":return Object(a.a)({},e,{showWeekdayOverview:t.val});default:return e}}}),V=(n(93),n(77)),R=n.n(V),z=n(6),L=n(7),F=n(9),P=n(8),U=n(10),G=n(22),K=n.n(G),X=n(11),q=n.n(X),J=Array.apply(null,Array(7)).map(function(e,t){return d()(t,"e").startOf("week").isoWeekday(t+1).format("ddd")}),Z=Object(c.b)(function(e){return{allDays:e.app.allDays,dayInsights:e.app.dayInsights,selectedWeekday:e.app.selectedWeekday}},function(e){return{setWeekdayInsights:function(t){return e(C(t))},setMonthInsights:function(t){return e(Y(t))},showBarChart:function(t){return e(N(t))},selectDay:function(t){return e(_(t))}}})(function(e){return s.a.createElement("div",{className:"day-labels-container"},J.map(function(t){return s.a.createElement("text",{key:t,className:q()("day-labels",{bold:e.selectedWeekday===t}),onClick:function(){return function(t){e.selectDay(null),e.setMonthInsights({monthInsights:[],daysOfMonth:[]});var n=v(t,e.dayInsights,e.allDays);e.setWeekdayInsights({selectedWeekday:n.selectedWeekday,daysOfWeekday:n.daysOfWeekday,weekdayInsights:n.weekdayInsights}),e.showBarChart(!0)}(t)}},t)}))}),$=Object(c.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate}},function(e){return{changeYear:function(t){return e(function(e){return{type:"CHANGE_YEAR",val:e}}(t))}}})(function(e){var t=d()(e.minDate).subtract(1,"years").format("YYYY"),n=d()(e.maxDate).add(1,"years").format("YYYY"),a=t>=e.minDate.format("YYYY"),r=n<=e.maxDate.format("YYYY");return s.a.createElement("div",{className:"year-label"},s.a.createElement("i",{className:q()("fas fa-chevron-left",{disabled:!a}),onClick:function(){return a&&e.changeYear(-1)}}),e.minDate.format("YYYY"),s.a.createElement("i",{className:q()("fas fa-chevron-right",{disabled:!r}),onClick:function(){return r&&e.changeYear(1)}}))}),Q=n(23),ee=function(e){function t(){return Object(z.a)(this,t),Object(F.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(L.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=function(e){return d()(e).format("DD-MM-YY")},a=e.currentWeek&&e.currentWeek.includes(d()(this.props.day).format("DD-MM-YYYY"))||this.props.currentWeek&&this.props.currentWeek.includes(d()(e.day).format("DD-MM-YYYY")),r=e.currentMonth&&e.currentMonth.includes(d()(this.props.day).format("DD-MM-YYYY"))||this.props.currentMonth&&this.props.currentMonth.includes(d()(e.day).format("DD-MM-YYYY")),s=e.currentWeekdays&&e.currentWeekdays.daysArr.includes(d()(this.props.day).format("DD-MM-YYYY"))||this.props.currentWeekdays&&this.props.currentWeekdays.daysArr.includes(d()(e.day).format("DD-MM-YYYY"));return n(this.props.day)===n(e.selectedDay)||n(e.day)===n(this.props.selectedDay)||this.props.fill!==e.fill||a||r||s||this.props.cellSize!==e.cellSize}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.cellMargin,n=e.cellSize,a=e.day,r=!1;d()(a).format("DD-MM-YY")===d()(e.selectedDay).format("DD-MM-YY")&&(r=!0);var o,i,c,l=function(e){return(e.getDay()+6)%7},u=h.q("%W"),p=e.month,f=h.p(p,new Date(p.getFullYear(),p.getMonth()+1,1)).map(function(t){return Object.keys(e.data).find(function(e){return new Date(e).setHours(0,0,0,0)===t.setHours(0,0,0,0)})}).map(function(t){return!!t&&e.data[t]}).filter(function(e){return!!e}),m=e.currentWeek&&e.currentWeek.includes(d()(a).format("DD-MM-YYYY")),y=e.currentMonth&&e.currentMonth.includes(d()(a).format("DD-MM-YYYY")),v=e.currentWeekdays&&e.currentWeekdays.daysArr.includes(d()(a).format("DD-MM-YYYY")),k=Object.keys(e.data).find(function(e){return new Date(e).setHours(0,0,0,0)===a.setHours(0,0,0,0)}),O=!!e.data[k]&&(o=e.data[k],i=Math.max.apply(Math,Object(Q.a)(f)),c=Math.min.apply(Math,Object(Q.a)(f)),(o-c)/(i-c)*.75+.25),w=m&&e.showWeekOverview||y&&e.showMonthOverview||v&&e.showWeekdayOverview?h.h(O):h.i(O),g=e.data[k]?r?h.h(O):w:"#ececec";return s.a.createElement("rect",{key:a,className:"day",stroke:r?"#000":"",strokeWidth:r?1:0,width:n,height:n,rx:50,ry:50,fill:g,y:l(a)*n+l(a)*t+t,x:(u(a)-u(new Date(a.getFullYear(),a.getMonth(),1)))*n+(u(a)-u(new Date(a.getFullYear(),a.getMonth(),1)))*t+t,onClick:function(t){t.preventDefault(),t.stopPropagation(),e.setMonthInsights({monthInsights:[],daysOfMonth:[]}),e.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),e.selectDay(a),e.showBarChart(!0)},"data-tip":"".concat(d()(a).format("dddd, DD MMM YYYY"),"<br>Count: ").concat(e.data[k]||0),"data-for":"svgTooltip"})}}]),t}(s.a.Component),te=Object(c.b)(function(e){return{data:e.app.data,selectedDay:e.barChart.selectedDay,selectedWeekday:e.app.selectedWeekday,showWeekOverview:e.barChart.showWeekOverview,showMonthOverview:e.barChart.showMonthOverview,showWeekdayOverview:e.barChart.showWeekdayOverview,currentWeek:e.barChart.currentWeek,currentMonth:e.barChart.currentMonth,currentWeekdays:e.barChart.currentWeekdays,dayInsights:e.app.dayInsights,cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin,allDays:e.app.allDays}},function(e){return{showBarChart:function(t){return e(N(t))},selectDay:function(t){return e(_(t))},setMonthInsights:function(t){return e(Y(t))},setWeekdayInsights:function(t){return e(C(t))},showWeekOverviewFct:function(t){return e(A(t))},showMonthOverviewFct:function(t){return e(H(t))}}})(ee),ne=function(e){function t(e){var n;return Object(z.a)(this,t),(n=Object(F.a)(this,Object(P.a)(t).call(this,e))).showMoreData=function(){var e=n.state.count,t=n.props.month,a=h.p(t,new Date(t.getFullYear(),t.getMonth()+1,1));e<a.length?requestAnimationFrame(function(){return n.setState({count:e+1})}):console.log("now show day and month labels")},n.state={count:1},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.showMoreData()}},{key:"componentDidUpdate",value:function(){this.showMoreData()}},{key:"render",value:function(){var e=this.props,t=e.month,n=function(e){var t=h.r.floor(e);return h.t(h.s.floor(t),h.r.offset(t,1)).length},a=e.cellMargin,r=e.cellSize,o=h.q("%B"),i=h.p(t,new Date(t.getFullYear(),t.getMonth()+1,1)),c=d()(t).endOf("month").format("ddd"),l=d()(t).add(1,"months").startOf("month").format("ddd"),u=0;("Mon"===c&&"Tue"===l||"Tue"===c&&"Wed"===l)&&(u+=10);var p=this.state.count,f=p>=i.length?i:i.slice(0,p),m=d()(this.props.selectedMonth,"M").format("MMMM")===o(t);return s.a.createElement("svg",{className:"month",height:7*r+8*a+20,width:r*n(t)+a*(n(t)+5)+u,key:t},s.a.createElement("g",null,s.a.createElement("text",{className:q()("month-name",{bold:m}),y:7*r+8*a+15,x:(r*n(t)+a*(n(t)+1))/2,textAnchor:"middle",onClick:function(){return function(t){e.selectDay(null),e.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]});var n=y(d()().month(t).format("M"),e.dayInsights,e.allDays);e.setMonthInsights({selectedMonth:n.selectedMonth,daysOfMonth:n.daysOfMonth,monthInsights:n.monthInsights}),e.showBarChart(!0)}(o(t))}},o(t)),f.map(function(n){return s.a.createElement(te,{fill:m||d()(n).format("ddd")===e.selectedWeekday,day:n,month:t,key:n})})))}}]),t}(s.a.PureComponent),ae=Object(c.b)(function(e){return{allDays:e.app.allDays,data:e.app.data,dayInsights:e.app.dayInsights,cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday}},function(e){return{setMonthInsights:function(t){return e(Y(t))},setWeekdayInsights:function(t){return e(C(t))},showBarChart:function(t){return e(N(t))},selectDay:function(t){return e(_(t))}}})(ne),re=function(e){function t(){return Object(z.a)(this,t),Object(F.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e,t,n=this.props,a=n.minDate.format("YYYY-MM-DD"),r=n.maxDate.format("YYYY-MM-DD"),o=h.r.range(new Date(parseInt("".concat(a.split("-")[0])),0,1),new Date(parseInt("".concat(r.split("-")[0])),11,31)),i=(e=o,t=o.length/12,e.reduce(function(n,a,r){return r%(e.length/t)===0&&0!==r&&n.push([]),n[n.length-1].push(a),n},[[]]));return s.a.createElement("div",{className:"year-wrapper"},i.map(function(e,t){return s.a.createElement("div",{className:q()("year",{hidden:t!==n.yearIndex}),key:t},e.map(function(e,t){return s.a.createElement(ae,{key:t,month:e})}))}))}}]),t}(s.a.PureComponent),se=Object(c.b)(function(e){return{data:e.app.data,minDate:e.app.minDate,maxDate:e.app.maxDate,yearIndex:e.calendar.yearIndex}})(re),oe=(n(106),function(e){function t(){return Object(z.a)(this,t),Object(F.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"card",id:"card"},this.props.children)}}]),t}(s.a.PureComponent)),ie=function(e){return s.a.createElement("section",null,s.a.createElement("p",null,e.title),e.children)},ce=(n(54),function(e){function t(e){var n;return Object(z.a)(this,t),n=Object(F.a)(this,Object(P.a)(t).call(this,e)),window.addEventListener("resize",function(){e.onScreenResize(window.innerWidth)}),n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.showSpinner(!1)}},{key:"render",value:function(){return s.a.createElement(ie,{title:"Calendar heatmap"},s.a.createElement(oe,null,s.a.createElement($,null),s.a.createElement("div",{className:"months"},s.a.createElement(Z,null),s.a.createElement(se,null)),s.a.createElement(K.a,{multiline:!0,class:"tooltip"})))}}]),t}(s.a.PureComponent)),le=Object(c.b)(null,function(e){return{showSpinner:function(t){return e(E(t))},onScreenResize:function(t){return e(function(e){return{type:"SCREEN_RESIZE",val:e}}(t))}}})(ce),ue=function(e){function t(){return Object(z.a)(this,t),Object(F.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(L.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.selectedDay!==this.props.selectedDay||e.selectedMonth!==this.props.selectedMonth||e.selectedWeekday!==this.props.selectedWeekday}},{key:"render",value:function(){var e=this.props,t=e.minDate,n=e.maxDate,a=e.selectDay,r=e.showBarChart,o=e.setMonthInsights,i=e.setWeekdayInsights,c=e.selectedMonth,l=e.selectedDay,u=e.dayInsights,h=e.allDays,p=e.selectedWeekday,f=c||p||l,m="";m=c?"months":p?"weeks":"days";var v=c?c-1:d()(f).subtract(1,m),k=c?parseInt(c)+1:d()(f).add(1,m),O=c?d()(v,"M").isAfter(t.startOf("year")):v.isAfter(t.startOf("year")),w=!!c||k.isBefore(n.endOf("year")),g=function(e){o({monthInsights:[],daysOfMonth:[],selectedMonth:null}),i({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),a(e),r(!0)},b=function(e){a(null),i({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]});var t=y(e.toString(),u,h);o({selectedMonth:t.selectedMonth,daysOfMonth:t.daysOfMonth,monthInsights:t.monthInsights}),r(!0)},D="";return D=c?d()(c,"M").format("MMMM"):p?"".concat(d()(p,"ddd").format("dddd"),"s"):d()(f).format("dddd, MMMM DD YYYY"),s.a.createElement("div",{className:"year-label dayTitle",tabIndex:0,onKeyDown:function(e){e&&("ArrowLeft"===e.key&&(c?b(f-1):g(d()(f).add(-1,m))),"ArrowRight"===e.key&&(c?b(parseInt(f)+1):g(d()(f).add(1,m))))}},s.a.createElement("i",{className:q()("fas fa-chevron-left",{disabled:!O}),onClick:function(){O&&a(d()(f).add(-1,m))}}),D,s.a.createElement("i",{className:q()("fas fa-chevron-right",{disabled:!w}),onClick:function(){return w&&a(d()(f).add(1,m))}}))}}]),t}(s.a.Component),de=Object(c.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate,selectedDay:e.barChart.selectedDay,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday,dayInsights:e.app.dayInsights,allDays:e.app.allDays}},function(e){return{selectDay:function(t){return e(_(t))},showBarChart:function(t){return e(N(t))},setMonthInsights:function(t){return e(Y(t))},setWeekdayInsights:function(t){return e(C(t))}}})(ue),he=function(e){function t(e){var n;return Object(z.a)(this,t),(n=Object(F.a)(this,Object(P.a)(t).call(this,e))).renderBars=function(){var e=h.n(n.refs.bars).datum(n.props.plotData).selectAll(".bar").data(function(e){return e});e.interrupt();e.transition().attr("fill","#6595ec");var t=e.enter().append("g").classed("bar",!0);t.attr("fill","#6595ec"),t.append("rect").attr("height",0).attr("transform",function(e){return"translate(".concat(e.x,", ").concat(n.props.plotHeight,")")}).on("mouseover",function(e,t){return n.setState({hoverIndex:t})}).on("mouseleave",function(){return n.setState({hoverIndex:-1})}).on("click",function(e){return function(e){n.setState({modalOpen:e})}(e)}),e.exit().classed("bar",!1).attr("fill","#6595ec").attr("opacity",.8).transition().attr("opacity",0).remove(),e.merge(t).select("rect").attr("width",function(e){return e.width}).attr("data-tip",function(e){return"Time - ".concat(e.data,":00 <br> Occurrences - ").concat(e.occurrences)}).attr("data-for","rectTooltip").classed("hovered-bar",function(e,t){return t===n.state.hoverIndex}).transition().duration(1e3).attr("transform",function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}).attr("height",function(e){return e.height})},n.state={hoverIndex:-1,modalOpen:null},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.renderBars()}},{key:"componentDidUpdate",value:function(){this.renderBars()}},{key:"render",value:function(){return s.a.createElement("g",{ref:"bars"})}}]),t}(s.a.PureComponent),pe=function(e){function t(){var e,n;Object(z.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(F.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).renderAxis=function(){var e=h.b(n.props.xScale);h.n(n.refs.xAxis).transition().call(e)},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"render",value:function(){return s.a.createElement("g",{className:"axis axis-x",transform:"translate(0,".concat(this.props.plotHeight-50,")"),ref:"xAxis",fill:"none",fontSize:10,textAnchor:"middle"})}}]),t}(s.a.PureComponent),fe=function(e){function t(){var e,n;Object(z.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(F.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).renderAxis=function(){var e=h.c(n.props.yScale).ticks(n.props.nrOfTicks).tickFormat(h.g("d"));h.n(n.refs.yAxis).transition().call(e)},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"render",value:function(){return s.a.createElement("g",{className:"axis axis-y",ref:"yAxis"})}}]),t}(s.a.PureComponent),me=function(e){function t(e){var n;return Object(z.a)(this,t),(n=Object(F.a)(this,Object(P.a)(t).call(this,e))).renderLine=function(){var e=h.o(".line");if(e.node()){var t=e.node().getTotalLength();e.attr("stroke-dasharray",t).attr("stroke-dashoffset",t).attr("stroke-width",6).attr("stroke","#7888BF").transition().duration(1e3).attr("stroke-width",0).attr("stroke-dashoffset",0)}h.o(".area").attr("transform","translate(0,300)").transition().delay(500).duration(1e3).attr("transform","translate(0,0)")},n.handleMouseMove=function(e,t){var a=n.props,r=a.yScale,s=a.plotHeight;h.n(".mouse-line").attr("d",function(){var t="M"+e+","+(s-50);return t+=" "+e+",0"});var o,i=document.getElementsByClassName("line");h.o(".mouse-per-line").attr("transform",function(t,n){for(var a=0,s=i&&i[n].getTotalLength(),c=null;s&&(c=Math.floor((a+s)/2),o=i[n].getPointAtLength(c),c!==s&&c!==a||o.x===e);)if(o.x>e)s=c;else{if(!(o.x<e))break;a=c}return h.n(this).select("text").text(Number(r.invert(o.y)).toFixed(2)),"translate("+e+","+o.y+")"})},n.state={circleHoverIndex:-1,showTooltip:!1,domainX:null,domainY:null},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.selectedDay!==this.props.selectedDay}},{key:"componentDidMount",value:function(){this.renderLine()}},{key:"componentDidUpdate",value:function(){this.renderLine()}},{key:"render",value:function(){var e=this,t=this.props,n=t.xScale,a=t.plotWidth,r=t.plotHeight,o=t.margin,i=t.yScale,c=this.props.weekInsights,l=h.a().x(function(e){return n(e)}).y0(r-o.top-o.bottom).y1(function(e){return i(c[e])}).curve(h.f),u=h.j().x(function(e,t){return n(t)}).y(function(e){return i(c[e])}).curve(h.f);return s.a.createElement("svg",{className:"areaChart",ref:"areaChart"},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"grad",is:!0,x1:"0%",y1:"100%",x2:"0%",y2:"0%",spreadMethod:"pad"},s.a.createElement("stop",{offset:"10%",stopColor:"#fff",stopOpacity:.4}),s.a.createElement("stop",{offset:"80%",stopColor:"#7888BF",stopOpacity:.8}))),s.a.createElement("path",{className:"area",fill:"url(#grad)",d:l(Object.keys(c))}),s.a.createElement("path",{className:"line shadow",d:u(Object.keys(c))}),s.a.createElement("g",{className:"mouse-over-effects"},s.a.createElement("path",{className:"mouse-line",stroke:"#000",strokeWidth:1,opacity:0}),s.a.createElement("g",{className:"mouse-per-line"},s.a.createElement("circle",{r:5,fill:"#7888BF",strokeWidth:1,stroke:"#000",opacity:0}),s.a.createElement("text",{transform:"translate(10,3)",fontSize:14})),s.a.createElement("rect",{width:a+40,height:r,fill:"none",pointerEvents:"all",onMouseLeave:function(){h.n(".mouse-line").style("opacity","0"),h.o(".mouse-per-line circle").style("opacity","0"),h.o(".mouse-per-line text").style("opacity","0")},onMouseOver:function(){h.n(".mouse-line").style("opacity","1"),h.o(".mouse-per-line circle").style("opacity","1"),h.o(".mouse-per-line text").style("opacity","1")},onMouseMove:function(t){return e.handleMouseMove(t.nativeEvent.offsetX-40,t.nativeEvent.offsetY)}})))}}]),t}(s.a.Component),ye=Object(c.b)(function(e){return{dayInsights:e.app.dayInsights,selectedDay:d()(e.barChart.selectedDay),data:e.app.data}})(me),ve=(n(109),function(e){function t(e){var n;return Object(z.a)(this,t),(n=Object(F.a)(this,Object(P.a)(t).call(this,e))).resize=function(){var e;return function(t){!1!==e&&clearTimeout(e),e=setTimeout(function(){var e=Object.assign(n.state,{width:document.getElementById("card").clientWidth-n.props.margin.left-n.props.margin.right});n.setState(e)},100)}},n.updateScale=function(e,t){var a=h.l(),r=h.m(),s=h.m().nice(),o=n.state.isWeekOverviewChecked&&O(n.props.dataArr,n.props.selectedDay,n.props.dayInsights),i=o?Math.ceil(Math.max(h.k(Object.values(o)),h.k(Object.values(t)))):h.k(Object.values(t)),c=Object(Q.a)(Array(24).keys()),l=[0,i];return a.domain(c).range([0,n.state.width-e.margin.right]).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter),r.domain([0,23]).range([0,n.state.width-e.margin.right]),s.domain(l).range([e.height-e.margin.top-e.margin.bottom,0]),{xScale:a,yScale:s,newXScale:r}},n.updatePlotSize=function(e){return{plotWidth:n.state.width-(e.margin.left+e.margin.right),plotHeight:e.height}},n.state={circleHoverIndex:-1,isWeekOverviewChecked:!1,isMonthOverviewChecked:!1,isWeekdayOverviewChecked:!1,width:document.getElementById("card").clientWidth-e.margin.left-e.margin.right},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){this.resize()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize())}},{key:"componentDidUpdate",value:function(){K.a.rebuild()}},{key:"render",value:function(){var e=this,t=!!this.props.dayInsights[this.props.selectedDay]||!!this.props.monthInsights.length||!!this.props.weekdayInsights.length;return s.a.createElement(ie,{title:"Day overview"},s.a.createElement(oe,null,s.a.createElement(de,{selectedDay:this.props.selectedDay}),s.a.createElement("div",{className:"barChart"},t?function(){var t=[];t=e.props.monthInsights.length?e.props.daysOfMonth:e.props.weekdayInsights.length?e.props.daysOfWeekday:e.props.data;var n,a=e.updateScale(e.props,t),r=a.xScale,o=a.yScale,i=a.newXScale,c=e.updatePlotSize(e.props),l=c.plotWidth,u=c.plotHeight,p=h.k(Object.values(t)),f={xScale:r,yScale:o,plotWidth:l,plotHeight:u,nrOfTicks:p<10?p:p/2},m={plotData:Object.keys(t).map(function(n,a){return{id:a,data:n,x:r(n),y:o(t[n]),width:r.bandwidth(),height:u-o(t[n])-e.props.margin.top-e.props.margin.bottom,occurrences:t[n]}})},y="translate(".concat(e.props.margin.left,",").concat(e.props.margin.top,")"),k=e.state.isWeekOverviewChecked&&O(e.props.dataArr,e.props.selectedDay,e.props.dayInsights),w=e.state.isMonthOverviewChecked&&function(e,t,n){for(var a=d()(t).startOf("month"),r=d()(t).endOf("month"),s=[],o=a;o.isBefore(r);)s.push(o.toDate()),o=o.clone().add(1,"d");var i=s.map(function(e){return d()(e).format("YYYY-MM-DD")}),c=Object.keys(e).filter(function(e){return i.includes(e)}).reduce(function(e,t){return e.push({day:t,occurrences:n[t]}),e},[]);c=c.map(function(e){return e.occurrences.map(function(t){var n=d()("".concat(e.day," ").concat(t));return n.minute()||n.second()||n.millisecond()?parseInt(n.add(1,"hour").startOf("hour").format("HH")):parseInt(n.startOf("hour").format("HH"))})});for(var l=s.filter(function(t){return e[d()(t).format("YYYY-MM-DD")]}).length,u=[].concat.apply([],c).reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),h={},p=0;p<24;p++)h[p]=u[p]?Number(u[p]/l).toFixed(2):0;return h}(e.props.dataArr,e.props.selectedDay,e.props.dayInsights),g=e.state.isWeekdayOverviewChecked&&v(d()(e.props.selectedDay).format("ddd"),e.props.dayInsights,e.props.allDays,e.props.currentWeekdays,e.props.dataArr);return e.state.isWeekOverviewChecked&&(n=k),e.state.isMonthOverviewChecked&&(n=w),e.state.isWeekdayOverviewChecked&&(n=g.weekdayObj),s.a.createElement("svg",{width:"100%",height:e.props.height,ref:"barChart"},s.a.createElement("g",{transform:y,width:l,height:u},s.a.createElement(pe,Object.assign({},f,{transform:"translate(0,".concat(u,")")})),s.a.createElement(fe,f),s.a.createElement(he,Object.assign({},f,m)),(e.state.isWeekOverviewChecked||e.state.isMonthOverviewChecked||e.state.isWeekdayOverviewChecked)&&s.a.createElement(ye,{xScale:i,yScale:o,plotWidth:l,plotHeight:u,margin:e.props.margin,weekInsights:n,occurrences:t,transform:y})))}():s.a.createElement("div",{className:"emptyString"},"No data recorded"),t&&s.a.createElement(K.a,{id:"rectTooltip",multiline:!0,class:"tooltipx"})),t&&function(){var t=function(){e.setState({isWeekOverviewChecked:!e.state.isWeekOverviewChecked,isMonthOverviewChecked:!1,isWeekdayOverviewChecked:!1},function(){e.props.showWeekOverview(e.state.isWeekOverviewChecked),e.props.showMonthOverview(!1),e.props.showWeekdayOverview(!1)})},n=function(){e.setState({isMonthOverviewChecked:!e.state.isMonthOverviewChecked,isWeekOverviewChecked:!1,isWeekdayOverviewChecked:!1},function(){e.props.showMonthOverview(e.state.isMonthOverviewChecked),e.props.showWeekOverview(!1),e.props.showWeekdayOverview(!1)})},a=function(){e.setState({isWeekdayOverviewChecked:!e.state.isWeekdayOverviewChecked,isMonthOverviewChecked:!1,isWeekOverviewChecked:!1},function(){e.props.showWeekdayOverview(e.state.isWeekdayOverviewChecked),e.props.showMonthOverview(!1),e.props.showWeekOverview(!1)})};return s.a.createElement("div",{className:"footer year-label"},s.a.createElement("div",{className:"checkboxes"},s.a.createElement("span",{className:q()("checkbox",{bold:e.state.isWeekOverviewChecked}),onClick:t},"Week overview ",s.a.createElement("input",{type:"checkbox",checked:e.state.isWeekOverviewChecked,defaultChecked:!1,onChange:t})),s.a.createElement("span",{className:q()("checkbox",{bold:e.state.isMonthOverviewChecked}),onClick:n},"Month overview ",s.a.createElement("input",{type:"checkbox",checked:e.state.isMonthOverviewChecked,defaultChecked:!1,onChange:n})),s.a.createElement("span",{className:q()("checkbox",{bold:e.state.isWeekdayOverviewChecked}),onClick:a},"Weekdays ",s.a.createElement("input",{type:"checkbox",checked:e.state.isWeekdayOverviewChecked,defaultChecked:!1,onChange:a}))),s.a.createElement("button",{onClick:function(){e.props.showBarChart(!1),e.props.selectDay(null),e.props.showWeekOverview(!1),e.props.showMonthOverview(!1),e.props.showWeekdayOverview(!1)}},"Remove charts"))}()))}}]),t}(s.a.PureComponent)),ke=Object(c.b)(function(e){return{dayInsights:e.app.dayInsights,monthInsights:e.app.monthInsights,weekdayInsights:e.app.weekdayInsights,daysOfMonth:e.app.daysOfMonth,daysOfWeekday:e.app.daysOfWeekday,selectedDay:d()(e.barChart.selectedDay).format("YYYY-MM-DD"),dataArr:e.app.data,allDays:e.app.allDays,currentWeekdays:e.barChart.currentWeekdays}},function(e){return{selectDay:function(t){return e(_(t))},showWeekOverview:function(t){return e(A(t))},showMonthOverview:function(t){return e(H(t))},showWeekdayOverview:function(t){return e(T(t))},showBarChart:function(t){return e(N(t))}}})(ve),Oe=n(83),we=Object(c.b)(function(e){return{files:e.app.files}},function(e){return{uploadFile:function(t){return e(function(e){return{type:"UPLOAD_FILE",val:e}}(t))},setData:function(t){return e(W(t))},showCalendar:function(t){return e(j(t))}}})(function(e){var t=e.files.map(function(e,t){return s.a.createElement("span",{key:t},s.a.createElement("b",{key:e.name},e.name),s.a.createElement("div",{className:"file-size"},function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(e.size)))});return s.a.createElement(ie,{title:"Upload file"},s.a.createElement(Oe.a,{accept:"text/csv",onDrop:function(t,n){e.uploadFile(t),t.forEach(function(t){var n=new FileReader;n.onload=function(){var t=n.result,a=h.e(t);e.setData(a),e.showCalendar(!0)},n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.readAsBinaryString(t)})}},function(e){var n=e.getRootProps,a=e.getInputProps,r=e.isDragActive;return s.a.createElement("div",Object.assign({},n(),{className:q()("dropzone",{"dropzone--isActive":r,"dropzone--isDone":!!t.length})}),s.a.createElement("input",a()),t.length?s.a.createElement("span",{className:"file-name"},s.a.createElement("i",{className:"fa fa-remove"}),t):s.a.createElement("span",{className:"upload-message"},s.a.createElement("i",{className:"fa fa-upload"}),"Drag & Drop your file or ",s.a.createElement("u",null,"Browse")))}))}),ge=(n(111),n(113),n(79)),be=n.n(ge),De=n(80),Me=n.n(De),We=n(81),Ee=n.n(We),Ye=n(82),Ce=n.n(Ye),Ie=(n(119),Object(c.b)(function(e){return{allDays:e.app.allDays,data:e.app.data,datasetName:e.app.datasetName,dayInsights:e.app.dayInsights,selectedDay:d()(e.barChart.selectedDay).format("YYYY-MM-DD"),isCalendarVisible:e.calendar.isCalendarVisible,isBarChartVisible:e.barChart.isBarChartVisible,isEmptyContainerVisible:e.app.isEmptyContainerVisible,isSpinnerVisible:e.app.isSpinnerVisible}},function(e){return{showCalendar:function(t){return e(j(t))},setData:function(t){return e(W(t))},setDatasetName:function(t){return e(function(e){return{type:"SET_DATASET_NAME",val:e}}(t))},showBarChart:function(t){return e(N(t))},showSpinner:function(t){return e(E(t))},setMonthInsights:function(t){return e(Y(t))},setWeekdayInsights:function(t){return e(C(t))},selectDay:function(t){return e(_(t))},showWeekOverview:function(t){return e(A(t))},showMonthOverview:function(t){return e(H(t))},showWeekdayOverview:function(t){return e(T(t))}}})(function(e){var t=function(t){h.d(t).then(function(t){e.setData(t),e.showCalendar(!0)}).catch(function(e){throw e})};return s.a.createElement("div",{className:"app"},s.a.createElement("header",{className:"header"},s.a.createElement("div",{className:"title"}," Visualizing Time-Series Data ")),s.a.createElement("div",{className:"content"},s.a.createElement(we,null),s.a.createElement(ie,{title:"Select dataset"},s.a.createElement(R.a,{className:"dropdown",options:["Dataset_1.csv","Dataset_2.csv","Dataset_3.csv","Dataset_4.csv"],placeholder:"Choose...",value:e.datasetName,onChange:function(n){e.showBarChart(!1),e.showCalendar(!1),e.setMonthInsights({monthInsights:[],daysOfMonth:[]}),e.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),e.selectDay(null),e.showWeekOverview(!1),e.showMonthOverview(!1),e.showWeekdayOverview(!1);var a=n.value;e.setDatasetName(a),e.showSpinner(!0),"Dataset_1.csv"===a&&t(be.a),"Dataset_2.csv"===a&&t(Me.a),"Dataset_3.csv"===a&&t(Ee.a),"Dataset_4.csv"===a&&t(Ce.a)}})),e.isCalendarVisible&&s.a.createElement(le,null),e.isBarChartVisible&&s.a.createElement(ke,{data:e.allDays[e.selectedDay],margin:{top:20,right:20,bottom:30,left:40},height:300,paddingInner:.2,paddingOuter:.1}),e.isSpinnerVisible&&s.a.createElement("div",{className:"spinner"},s.a.createElement("div",{className:"double-bounce1"}),s.a.createElement("div",{className:"double-bounce2"}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=Object(l.c)(B,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({actionSanitizer:function(e){return"FILE_DOWNLOAD_SUCCESS"===e.type&&e.data?Object(a.a)({},e,{data:"<<LONG_BLOB>>"}):e},stateSanitizer:function(e){return e.data?Object(a.a)({},e,{data:"<<LONG_BLOB>>"}):e}}));i.a.render(s.a.createElement(c.a,{store:je},s.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,n){},79:function(e,t,n){e.exports=n.p+"static/media/itching_in_nose_tbc.116a8ad6.csv"},80:function(e,t,n){e.exports=n.p+"static/media/itch_tbc.345754fd.csv"},81:function(e,t,n){e.exports=n.p+"static/media/ptsd_filtered.c05231cb.csv"},82:function(e,t,n){e.exports=n.p+"static/media/data.2340907b.csv"},84:function(e,t,n){e.exports=n(233)},93:function(e,t,n){}},[[84,2,1]]]);
//# sourceMappingURL=main.51695353.chunk.js.map