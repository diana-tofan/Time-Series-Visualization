(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,a){},25:function(e,a,t){e.exports=t.p+"static/media/data.2340907b.csv"},29:function(e,a,t){e.exports=t(60)},39:function(e,a,t){},54:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),i=t(4),o=t(7),s=t(6),u=t(2),m=t.n(u),d=function(e){var a=e.split("T")[0],t=e.split("T")[1].slice(0,-1);return m()("".concat(a," ").concat(t),"YYYYMMDD HHmmss").toDate()},f=function(e){var a=e.split("T")[1].slice(0,-1);return m()("".concat(a),"HHmmss").utc().format("HH:mm:ss")},p=function(e){return m()("".concat(e.split("T")[0]),"YYYYMMDDxxx").format("YYYY-MM-DD").split("T")[0]},h=function(e){var a=e.map(function(a){return{date:p(a[e.columns[0]]),time:f(a[e.columns[0]])}});return a.push({date:p(e.columns[0]),time:d(e.columns[0])}),a.reduce(function(e,a){return e[a.date]=e[a.date]||[],e[a.date].push(a.time),e},Object.create(null))},D=function(e){var a=e.map(function(a){return a[e.columns[0]].replace(/[-:.]/g,"")}).map(function(e){return{timestamp:p(e)}});a.push({timestamp:p(e.columns[0])});var t=a.map(function(e){return e.timestamp});return t.reduce(function(e,a){return e[a]=(e[a]||0)+1,e},{})},v={data:[],minDate:null,maxDate:null,dayInsights:[],files:[],showTooltip:!1},E={isCalendarVisible:!1,yearIndex:0,cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400},g={isRadialChartVisible:!1,selectedDay:null},y=Object(o.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_DATA":var t=D(a.val),n=Object.keys(t).map(function(e){return m()(e)});return Object(s.a)({},e,{data:t,dayInsights:h(a.val),minDate:m.a.min(n),maxDate:m.a.max(n)});case"UPLOAD_FILE":return Object(s.a)({},e,{files:a.val});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SHOW_CALENDAR":return Object(s.a)({},e,{isCalendarVisible:a.val});case"CHANGE_YEAR":return Object(s.a)({},e,{yearIndex:e.yearIndex+a.val});default:return e}},radialChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SHOW_RADIAL_CHART":return Object(s.a)({},e,{isRadialChartVisible:a.val});case"SELECT_DAY":return Object(s.a)({},e,{selectedDay:a.val});default:return e}}}),Y=(t(39),t(5)),b=t.n(Y),w=t(27),O=t(19),M=t.n(O),C=t(3),_=t(20),x=t(21),N=t(26),A=t(22),j=t(28),T=t(23),I=t.n(T),S=Array.apply(null,Array(7)).map(function(e,a){return m()(a,"e").startOf("week").isoWeekday(a+1).format("ddd")}),k=function(){return r.a.createElement("div",{className:"dayLabelsContainer"},r.a.createElement("span",null,S.map(function(e){return r.a.createElement("text",{key:e,className:"dayLabels"},e)})))},H=Object(i.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate}},function(e){return{changeYear:function(a){return e(function(e){return{type:"CHANGE_YEAR",val:e}}(a))}}})(function(e){var a=m()(e.minDate).subtract(1,"years").format("YYYY"),t=m()(e.maxDate).add(1,"years").format("YYYY"),n=a>=e.minDate.format("YYYY"),l=t<=e.maxDate.format("YYYY");return r.a.createElement("div",{className:"yearLabel"},r.a.createElement("i",{className:b()("fas fa-chevron-left",{disabled:!n}),onClick:function(){return n&&e.changeYear(-1)}}),e.minDate.format("YYYY"),r.a.createElement("i",{className:b()("fas fa-chevron-right",{disabled:!l}),onClick:function(){return l&&e.changeYear(1)}}))}),R=t(12),L=Object(i.b)(function(e){return{data:e.app.data,cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin}},function(e){return{showRadialChart:function(a){return e(function(e){return{type:"SHOW_RADIAL_CHART",val:e}}(a))},selectDay:function(a){return e(function(e){return{type:"SELECT_DAY",val:e}}(a))}}})(function(e){var a=e.cellMargin,t=e.cellSize,n=e.day,l=!1;m()(n).format("DD-MM-YY")===m()().format("DD-MM-YY")&&(l=!0);var c,i,o,s=function(e){return(e.getDay()+6)%7},u=C.e("%W"),d=e.month,f=C.d(d,new Date(d.getFullYear(),d.getMonth()+1,1)).map(function(a){return Object.keys(e.data).find(function(e){return new Date(e).setHours(0,0,0,0)===a.setHours(0,0,0,0)})}).map(function(a){return!!a&&e.data[a]}).filter(function(e){return!!e}),p=Object.keys(e.data).find(function(e){return new Date(e).setHours(0,0,0,0)===n.setHours(0,0,0,0)}),h=!!e.data[p]&&(c=e.data[p],i=Math.max.apply(Math,Object(R.a)(f)),o=Math.min.apply(Math,Object(R.a)(f)),(c-o)/(i-o)*.75+.25),D=e.data[p]?C.c(h):"#ececec";return r.a.createElement("rect",{key:n,className:b()("day",{"current-day":l}),width:t,height:t,rx:50,ry:50,fill:D,y:s(n)*t+s(n)*a+a,x:(u(n)-u(new Date(n.getFullYear(),n.getMonth(),1)))*t+(u(n)-u(new Date(n.getFullYear(),n.getMonth(),1)))*a+a,"data-tip":"".concat(m()(n).format("dddd, DD MMM YYYY"),"<br>Count: ").concat(e.data[p]||0),"data-for":"svgTooltip"})}),z=Object(i.b)(function(e){return{cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin}})(function(e){var a=e.month,t=function(e){var a=C.f.floor(e);return C.h(C.g.floor(a),C.f.offset(a,1)).length},n=e.cellMargin,l=e.cellSize,c=C.e("%B"),i=C.d(a,new Date(a.getFullYear(),a.getMonth()+1,1)),o=m()(a).endOf("month").format("ddd"),s=m()(a).add(1,"months").startOf("month").format("ddd"),u=0;return("Mon"===o&&"Tue"===s||"Tue"===o&&"Wed"===s)&&(u+=10),r.a.createElement("svg",{className:"month",height:7*l+8*n+20,width:l*t(a)+n*(t(a)+5)+u,key:a},r.a.createElement("g",null,r.a.createElement("text",{className:"month-name",y:7*l+8*n+15,x:(l*t(a)+n*(t(a)+1))/2,textAnchor:"middle"},c(a)),i.map(function(e){return r.a.createElement(L,{day:e,month:a,key:e})})))}),V=Object(i.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate,yearIndex:e.calendar.yearIndex}})(function(e){var a,t,n=e.minDate.format("YYYY-MM-DD"),l=e.maxDate.format("YYYY-MM-DD"),c=C.f.range(new Date(parseInt("".concat(n.split("-")[0])),0,1),new Date(parseInt("".concat(l.split("-")[0])),11,31)),i=(a=c,t=c.length/12,a.reduce(function(e,n,r){return r%(a.length/t)===0&&0!==r&&e.push([]),e[e.length-1].push(n),e},[[]]));return r.a.createElement("div",null,i.map(function(a,t){return r.a.createElement("div",{className:b()("year",{hidden:t!==e.yearIndex}),key:t},a.map(function(e){return r.a.createElement(z,{key:e,month:e})}))}))}),B=function(e){function a(){return Object(_.a)(this,a),Object(N.a)(this,Object(A.a)(a).apply(this,arguments))}return Object(j.a)(a,e),Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"calendar",ref:"calendar"},r.a.createElement(k,null),r.a.createElement(H,null),r.a.createElement("div",{className:"months"},r.a.createElement(V,null)),r.a.createElement(I.a,{id:"svgTooltip",multiline:!0,class:"tooltipx"}))}}]),a}(r.a.Component),W=t(24),F=t.n(W),U=(t(52),t(54),t(25)),P=t.n(U),X=Object(i.b)(function(e){return{data:e.app.data,dayInsights:e.app.dayInsights,files:e.app.files,isCalendarVisible:e.calendar.isCalendarVisible,isRadialChartVisible:e.radialChart.isRadialChartVisible}},function(e){return{uploadFile:function(a){return e(function(e){return{type:"UPLOAD_FILE",val:e}}(a))},showCalendar:function(a){return e(function(e){return{type:"SHOW_CALENDAR",val:e}}(a))},setData:function(a){return e(function(e){return{type:"SET_DATA",val:e}}(a))}}})(function(e){var a=e.files.map(function(e,a){return r.a.createElement("span",{key:a},r.a.createElement("b",{key:e.name},e.name),r.a.createElement("div",{className:"file-size"},function(e){if(0===e)return"0 Byte";var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,a),2)+" "+["Bytes","KB","MB","GB","TB"][a]}(e.size)))});return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"title"}," Visualizing Time-Series Data ")),r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("p",null,"Upload file"),r.a.createElement(w.a,{accept:"text/csv",onDrop:function(a,t){e.uploadFile(a),a.forEach(function(a){var t=new FileReader;t.onload=function(){var a=t.result,n=C.b(a);e.setData(n),e.showCalendar(!0)},t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.readAsBinaryString(a)})}},function(e){var t=e.getRootProps,n=e.getInputProps,l=e.isDragActive;return r.a.createElement("div",Object.assign({},t(),{className:b()("dropzone",{"dropzone--isActive":l,"dropzone--isDone":!!a.length})}),r.a.createElement("input",n()),a.length?r.a.createElement("span",{className:"file-name"},r.a.createElement("i",{className:"fa fa-remove"}),a):r.a.createElement("span",{className:"upload-message"},r.a.createElement("i",{className:"fa fa-upload"}),"Drag & Drop your file or ",r.a.createElement("u",null,"Browse")))})),r.a.createElement("section",null,r.a.createElement("p",null,"Select dataset"),r.a.createElement(M.a,{className:"dropdown",options:["Dataset_1.csv","Dataset_2.csv","Dataset_3.csv","Dataset_4.csv"],placeholder:"Choose...",onChange:function(a){"Dataset_1.csv"===a.value&&C.a(P.a).then(function(a){e.setData(a),e.showCalendar(!0)}).catch(function(e){throw e})}})),e.isCalendarVisible&&r.a.createElement("section",null,r.a.createElement("p",null,"Calendar heatmap"),r.a.createElement(B,{data:e.data,dayInsights:e.dayInsights})),e.isRadialChartVisible&&r.a.createElement("section",null,r.a.createElement("p",null,"Day overview"),r.a.createElement(F.a,{key:e.data}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=Object(o.c)(y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(i.a,{store:G},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.c9017b55.chunk.js.map