(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){},27:function(e,t,a){e.exports=a.p+"static/media/itching_in_nose_tbc.116a8ad6.csv"},28:function(e,t,a){e.exports=a.p+"static/media/itch_tbc.9f78b97e.csv"},29:function(e,t,a){e.exports=a.p+"static/media/ptsd.553964c1.csv"},30:function(e,t,a){e.exports=a.p+"static/media/data.2340907b.csv"},32:function(e,t,a){e.exports=a(66)},42:function(e,t,a){},56:function(e,t,a){},60:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),s=a(4),o=a(7),l=a(5),u=a(2),d=a.n(u),m=function(e){var t=e.split("T")[1].slice(0,-1);return d()("".concat(t),"HHmmss").utc().format("HH:mm:ss")},f=function(e){return d()("".concat(e.split("T")[0]),"YYYYMMDDxxx").format("YYYY-MM-DD").split("T")[0]},p=function(e){var t=e.map(function(t){return{date:f(t[e.columns[0]]),time:m(t[e.columns[0]])}});return t.reduce(function(e,t){return e[t.date]=e[t.date]||[],e[t.date].push(t.time),e},{})},h=function(e){var t=e.map(function(t){return t[e.columns[0]].replace(/[-:.]/g,"")}).map(function(e){return{timestamp:f(e)}}).map(function(e){return e.timestamp});return t.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{})},y={data:[],minDate:null,maxDate:null,dayInsights:[],datasetName:"",files:[],showTooltip:!1,isSpinnerVisible:!1,isEmptyContainerVisible:!1},v=function(e){return{type:"SHOW_SPINNER",val:e}},D=function(e){return{type:"SHOW_EMPTY_CONTAINER",val:e}},b={isCalendarVisible:!1,yearIndex:0,cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400},E={isRadialChartVisible:!1,selectedDay:null},g={isBarChartVisible:!1,selectedDay:null},Y=function(e){return{type:"SHOW_BAR_CHART",val:e}},O=Object(o.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":var a=h(t.val),n=Object.keys(a).map(function(e){return d()(e)});return Object(l.a)({},e,{data:a,dayInsights:p(t.val),minDate:d.a.min(n),maxDate:d.a.max(n)});case"UPLOAD_FILE":return Object(l.a)({},e,{files:t.val});case"SET_DATASET_NAME":return Object(l.a)({},e,{datasetName:t.val});case"SHOW_SPINNER":return Object(l.a)({},e,{isSpinnerVisible:t.val});case"SHOW_EMPTY_CONTAINER":return Object(l.a)({},e,{isEmptyContainerVisible:t.val});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CALENDAR":return Object(l.a)({},e,{isCalendarVisible:t.val});case"CHANGE_YEAR":return Object(l.a)({},e,{yearIndex:e.yearIndex+t.val});default:return e}},radialChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_RADIAL_CHART":return Object(l.a)({},e,{isRadialChartVisible:t.val});case"SELECT_DAY":return Object(l.a)({},e,{selectedDay:t.val});default:return e}},barChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_BAR_CHART":return Object(l.a)({},e,{isBarChartVisible:t.val});case"SELECT_DAY":return Object(l.a)({},e,{selectedDay:t.val});default:return e}}}),M=(a(42),a(6)),w=a.n(M),C=(a(31),a(26)),x=a.n(C),N=a(3),_=a(11),S=a(12),I=a(14),j=a(13),A=a(15),k=a(9),H=a.n(k),T=Array.apply(null,Array(7)).map(function(e,t){return d()(t,"e").startOf("week").isoWeekday(t+1).format("ddd")}),V=function(){return r.a.createElement("div",{className:"dayLabelsContainer"},r.a.createElement("span",null,T.map(function(e){return r.a.createElement("text",{key:e,className:"dayLabels"},e)})))},B=Object(s.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate}},function(e){return{changeYear:function(t){return e(function(e){return{type:"CHANGE_YEAR",val:e}}(t))}}})(function(e){var t=d()(e.minDate).subtract(1,"years").format("YYYY"),a=d()(e.maxDate).add(1,"years").format("YYYY"),n=t>=e.minDate.format("YYYY"),c=a<=e.maxDate.format("YYYY");return r.a.createElement("div",{className:"yearLabel"},r.a.createElement("i",{className:w()("fas fa-chevron-left",{disabled:!n}),onClick:function(){return n&&e.changeYear(-1)}}),e.minDate.format("YYYY"),r.a.createElement("i",{className:w()("fas fa-chevron-right",{disabled:!c}),onClick:function(){return c&&e.changeYear(1)}}))}),W=a(18),L=Object(s.b)(function(e){return{data:e.app.data,selectedDay:e.barChart.selectedDay,dayInsights:e.app.dayInsights,cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin}},function(e){return{showBarChart:function(t){return e(Y(t))},selectDay:function(t){return e(function(e){return{type:"SELECT_DAY",val:e}}(t))},showEmptyContainer:function(t){return e(D(t))}}})(function(e){var t=e.cellMargin,a=e.cellSize,n=e.day,c=!1;d()(n).format("DD-MM-YY")===d()(e.selectedDay).format("DD-MM-YY")&&(c=!0);var i,s,o,l=function(e){return(e.getDay()+6)%7},u=N.o("%W"),m=e.month,f=N.n(m,new Date(m.getFullYear(),m.getMonth()+1,1)).map(function(t){return Object.keys(e.data).find(function(e){return new Date(e).setHours(0,0,0,0)===t.setHours(0,0,0,0)})}).map(function(t){return!!t&&e.data[t]}).filter(function(e){return!!e}),p=Object.keys(e.data).find(function(e){return new Date(e).setHours(0,0,0,0)===n.setHours(0,0,0,0)}),h=!!e.data[p]&&(i=e.data[p],s=Math.max.apply(Math,Object(W.a)(f)),o=Math.min.apply(Math,Object(W.a)(f)),(i-o)/(s-o)*.75+.25),y=e.data[p]?N.h(h):"#ececec";return r.a.createElement("rect",{key:n,className:"day",width:a,height:a,rx:50,ry:50,fill:c?"#CCFF19":y,y:l(n)*a+l(n)*t+t,x:(u(n)-u(new Date(n.getFullYear(),n.getMonth(),1)))*a+(u(n)-u(new Date(n.getFullYear(),n.getMonth(),1)))*t+t,onClick:function(){e.selectDay(n);var t=d()(n).format("YYYY-MM-DD");e.dayInsights[t]?(e.showEmptyContainer(!1),e.showBarChart(!0)):(e.showBarChart(!1),e.showEmptyContainer(!0))},"data-tip":"".concat(d()(n).format("dddd, DD MMM YYYY"),"<br>Count: ").concat(e.data[p]||0),"data-for":"svgTooltip"})}),R=Object(s.b)(function(e){return{cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin}})(function(e){var t=e.month,a=function(e){var t=N.p.floor(e);return N.r(N.q.floor(t),N.p.offset(t,1)).length},n=e.cellMargin,c=e.cellSize,i=N.o("%B"),s=N.n(t,new Date(t.getFullYear(),t.getMonth()+1,1)),o=d()(t).endOf("month").format("ddd"),l=d()(t).add(1,"months").startOf("month").format("ddd"),u=0;return("Mon"===o&&"Tue"===l||"Tue"===o&&"Wed"===l)&&(u+=10),r.a.createElement("svg",{className:"month",height:7*c+8*n+20,width:c*a(t)+n*(a(t)+5)+u,key:t},r.a.createElement("g",null,r.a.createElement("text",{className:"month-name",y:7*c+8*n+15,x:(c*a(t)+n*(a(t)+1))/2,textAnchor:"middle"},i(t)),s.map(function(e){return r.a.createElement(L,{day:e,month:t,key:e})})))}),F=Object(s.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate,yearIndex:e.calendar.yearIndex}})(function(e){var t,a,n=e.minDate.format("YYYY-MM-DD"),c=e.maxDate.format("YYYY-MM-DD"),i=N.p.range(new Date(parseInt("".concat(n.split("-")[0])),0,1),new Date(parseInt("".concat(c.split("-")[0])),11,31)),s=(t=i,a=i.length/12,t.reduce(function(e,n,r){return r%(t.length/a)===0&&0!==r&&e.push([]),e[e.length-1].push(n),e},[[]]));return r.a.createElement("div",null,s.map(function(t,a){return r.a.createElement("div",{className:w()("year",{hidden:a!==e.yearIndex}),key:a},t.map(function(e){return r.a.createElement(R,{key:e,month:e})}))}))}),z=(a(23),function(e){function t(){return Object(_.a)(this,t),Object(I.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.showSpinner(!1)}},{key:"render",value:function(){return r.a.createElement("div",{id:"calendar",ref:"calendar"},r.a.createElement(V,null),r.a.createElement(B,null),r.a.createElement("div",{className:"months"},r.a.createElement(F,null)),r.a.createElement(H.a,{id:"svgTooltip",multiline:!0,class:"tooltipx"}))}}]),t}(r.a.Component)),P=Object(s.b)(null,function(e){return{showSpinner:function(t){return e(v(t))}}})(z),U=(a(56),function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(I.a)(this,Object(j.a)(t).call(this,e))).renderAxis=function(){for(var e=a.props.dayInsights[a.props.selectedDay],t=e&&e.map(function(e){var t=d()("".concat(a.props.selectedDay," ").concat(e));return t.minute()||t.second()||t.millisecond()?parseInt(t.add(1,"hour").startOf("hour").format("HH")):parseInt(t.startOf("hour").format("HH"))}),n=t&&t.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),r=N.j(Object.values(n)),c=r<10?r:r/2,i={},s=1;s<=24;s++)i[s]=n[s]||0;var o=N.k().padding(.1).domain(Object.keys(i)).range([0,a.state.width]),l=N.b(o),u=N.l().domain([0,r]).range([a.state.height,0]),m=N.c(u).ticks(c).tickFormat(N.g("d"));N.m(a.refs.xAxis).call(l),N.m(a.refs.yAxis).call(m)},a.state={hoverIndex:-1,circleHoverIndex:-1},a}return Object(A.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=20,a=20,n=30,r=40;this.setState({width:this.refs.barChart.clientWidth-r-a,height:this.refs.barChart.clientHeight-t-n},function(){e.renderAxis()})}},{key:"componentDidUpdate",value:function(){this.renderAxis(),H.a.rebuild()}},{key:"render",value:function(){for(var e=this,t=20,a=30,n=40,c=this.props.dayInsights[this.props.selectedDay],i=c&&c.map(function(t){var a=d()("".concat(e.props.selectedDay," ").concat(t));return a.minute()||a.second()||a.millisecond()?parseInt(a.add(1,"hour").startOf("hour").format("HH")):parseInt(a.startOf("hour").format("HH"))}),s=i&&i.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),o={},l=1;l<=24;l++)o[l]=s[l]||0;for(var u="translate(".concat(n,",").concat(t,")"),m=d()(this.props.selectedDay).isoWeekday(1),f=d()(this.props.selectedDay).isoWeekday(8),p=[],h=m;h.isBefore(f);)p.push(h.toDate()),h=h.clone().add(1,"d");var y=p.map(function(e){return d()(e).format("YYYY-MM-DD")}),v=Object.keys(this.props.data).filter(function(e){return y.includes(e)}).reduce(function(t,a){return t.push({day:a,occurrences:e.props.dayInsights[a]}),t},[]);v=v.map(function(e){return e.occurrences.map(function(t){var a=d()("".concat(e.day," ").concat(t));return a.minute()||a.second()||a.millisecond()?parseInt(a.add(1,"hour").startOf("hour").format("HH")):parseInt(a.startOf("hour").format("HH"))})});for(var D=[].concat.apply([],v).reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),b={},E=1;E<=24;E++)b[E]=D[E]?Number(D[E]/7).toFixed(2):0;var g=N.j(Object.values(s)),Y=N.k().padding(.1).domain(Object.keys(o)).range([0,this.state.width]),O=N.l().domain([0,g]).range([this.state.height,0]),M=N.a().x(function(e){return Y(e)+25}).y0(300-t-a).y1(function(e){return O(b[e])||0}).curve(N.f),w=N.i().x(function(e){return Y(e)+25}).y(function(e){return O(b[e])}).curve(N.f);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dayLabel"},d()(this.props.selectedDay).format("dddd, MMMM DD YYYY")),r.a.createElement("div",{className:"barChart"},r.a.createElement("svg",{width:"100%",height:300,ref:"barChart"},r.a.createElement("g",{transform:u},r.a.createElement("g",{className:"axis axis-x",transform:"translate(0,".concat(250,")"),ref:"xAxis",fill:"none",fontSize:10,textAnchor:"middle"}),r.a.createElement("g",{className:"axis axis-y",ref:"yAxis"}),Object.keys(s).map(function(t,a){return r.a.createElement("rect",{className:"bar",x:Y(t)||0,y:O(s[t])||0,width:Y.bandwidth()||0,height:e.state.height-O(s[t])||0,fill:"".concat(a===e.state.hoverIndex?"#5455D6":"#6595ec"),onMouseOver:function(){return e.setState({hoverIndex:a})},onMouseLeave:function(){return e.setState({hoverIndex:-1})},"data-tip":"Time - ".concat(t,":00 <br> Occurrences - ").concat(s[t]),"data-for":"rectTooltip"})}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"grad",is:!0,x1:"0%",y1:"100%",x2:"0%",y2:"0%",spreadMethod:"pad"},r.a.createElement("stop",{offset:"10%",stopColor:"#fff",stopOpacity:.4}),r.a.createElement("stop",{offset:"80%",stopColor:"#7888BF",stopOpacity:.8}))),r.a.createElement("path",{className:"area",fill:"url(#grad)",d:M(Object.keys(b))||0}),r.a.createElement("path",{className:"line shadow",d:w(Object.keys(b))||0}),Object.keys(b).map(function(t,a){return!!b[t]&&r.a.createElement("circle",{className:"dot",key:a,r:5,cx:Y(t)+25||0,cy:O(b[t])||0,"data-key":t,"data-value":b[t],"data-tip":"".concat(m.format("MMM DD"),"-").concat(f.format("MMM DD")," (Week ").concat(m.week(),")<br>Average observations at ").concat(t,":00 --\x3e ").concat(b[t]),fill:"".concat(a===e.state.circleHoverIndex?"#7888BF":"#fff"),onMouseOver:function(){return e.setState({circleHoverIndex:a})},onMouseLeave:function(){return e.setState({circleHoverIndex:-1})},"data-for":"rectTooltip"})}),") }")),r.a.createElement(H.a,{id:"rectTooltip",multiline:!0,class:"tooltipx"})))}}]),t}(r.a.Component)),G=Object(s.b)(function(e){return{dayInsights:e.app.dayInsights,selectedDay:d()(e.barChart.selectedDay).format("YYYY-MM-DD"),data:e.app.data}})(U),X=(a(58),a(60),a(27)),J=a.n(X),q=a(28),K=a.n(q),$=a(29),Q=a.n($),Z=a(30),ee=a.n(Z),te=Object(s.b)(function(e){return{data:e.app.data,datasetName:e.app.datasetName,dayInsights:e.app.dayInsights,selectedDay:d()(e.barChart.selectedDay).format("YYYY-MM-DD"),files:e.app.files,isCalendarVisible:e.calendar.isCalendarVisible,isBarChartVisible:e.barChart.isBarChartVisible,isEmptyContainerVisible:e.app.isEmptyContainerVisible,isSpinnerVisible:e.app.isSpinnerVisible}},function(e){return{uploadFile:function(t){return e(function(e){return{type:"UPLOAD_FILE",val:e}}(t))},showCalendar:function(t){return e(function(e){return{type:"SHOW_CALENDAR",val:e}}(t))},setData:function(t){return e(function(e){return{type:"SET_DATA",val:e}}(t))},setDatasetName:function(t){return e(function(e){return{type:"SET_DATASET_NAME",val:e}}(t))},showBarChart:function(t){return e(Y(t))},showEmptyContainer:function(t){return e(D(t))},showSpinner:function(t){return e(v(t))}}})(function(e){e.files.map(function(e,t){return r.a.createElement("span",{key:t},r.a.createElement("b",{key:e.name},e.name),r.a.createElement("div",{className:"file-size"},function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(e.size)))});var t=function(t){N.d(t).then(function(t){e.setData(t),e.showCalendar(!0)}).catch(function(e){throw e})};return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"title"}," Visualizing Time-Series Data ")),r.a.createElement("div",{className:"content"},!1,r.a.createElement("section",null,r.a.createElement("p",null,"Select dataset"),r.a.createElement(x.a,{className:"dropdown",options:["Dataset_1.csv","Dataset_2.csv","Dataset_3.csv","Dataset_4.csv"],placeholder:"Choose...",value:e.datasetName,onChange:function(a){e.showBarChart(!1),e.showEmptyContainer(!1),e.showCalendar(!1);var n=a.value;e.setDatasetName(n),e.showSpinner(!0),"Dataset_1.csv"===n&&t(J.a),"Dataset_2.csv"===n&&t(K.a),"Dataset_3.csv"===n&&t(Q.a),"Dataset_4.csv"===n&&t(ee.a)}})),e.isCalendarVisible&&r.a.createElement("section",null,r.a.createElement("p",null,"Calendar heatmap"),r.a.createElement(P,{data:e.data,dayInsights:e.dayInsights})),e.isBarChartVisible&&r.a.createElement("section",null,r.a.createElement("p",null,"Day overview"),r.a.createElement(G,{key:e.data})),e.isEmptyContainerVisible&&r.a.createElement("section",null,r.a.createElement("p",null,"Day overview"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dayLabel"},d()(e.selectedDay).format("dddd, MMMM DD YYYY")),r.a.createElement("div",{className:"emptyString"},"No data recorded"))),e.isSpinnerVisible&&r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"double-bounce1"}),r.a.createElement("div",{className:"double-bounce2"}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=Object(o.c)(O,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(s.a,{store:ae},r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.0796f0a0.chunk.js.map