(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,a){t.exports=a.p+"static/media/data.2340907b.csv"},23:function(t,e,a){t.exports=a(40)},32:function(t,e,a){},34:function(t,e,a){},38:function(t,e,a){},40:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),s=a(22),i=a(4),l=a(7),u={initial:2e5,rate:5,years:25,monthlyOverpayment:0},m=Object(i.b)({mortgage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET/INITIAL":return Object(l.a)({},t,{initial:e.val});case"SET/RATE":return Object(l.a)({},t,{rate:e.val});case"SET/YEARS":return Object(l.a)({},t,{years:e.val});case"SET/MONTHLY_OVERPAYMENT":return Object(l.a)({},t,{monthlyOverpayment:e.val});default:return t}}}),d=(a(32),a(8)),h=a(9),f=a(11),p=a(10),v=a(12),y=(a(34),a(1)),w=a(21),b=a.n(w),O=a(2),g=a.n(O),E=function(t){var e=t.split("T")[0],a=t.split("T")[1].slice(0,-1);return g()("".concat(e," ").concat(a),"YYYYMMDD HHmmss").toDate()},D=function(t){var e=t.split("T")[1].slice(0,-1);return g()("".concat(e),"HHmmss").format("HH:mm:ss")},Y=function(t){return g()("".concat(t.split("T")[0]),"YYYYMMDD").format("YYYY-MM-DD").split("T")[0]},j=function(t){var e=t.map(function(e){return{date:Y(e[t.columns[0]]),time:D(e[t.columns[0]])}});return e.push({date:Y(t.columns[0]),time:E(t.columns[0])}),e.reduce(function(t,e){return t[e.date]=t[e.date]||[],t[e.date].push(e.time),t},Object.create(null))},M=function(t){var e=t.map(function(e){return{timestamp:Y(e[t.columns[0]])}});e.push({timestamp:Y(t.columns[0])});var a=e.map(function(t){return t.timestamp});return a.reduce(function(t,e){return t[e]=(t[e]||0)+1,t},{})},k=a(15),T=a(6),N=(a(38),function(t){function e(t){var a;return Object(d.a)(this,e),(a=Object(f.a)(this,Object(p.a)(e).call(this,t))).state={showTooltip:!1,renderBarChart:!1,style:{}},a.renderChart=a.renderChart.bind(Object(T.a)(Object(T.a)(a))),a}return Object(v.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{id:"calendar"},this.drawDayLabels(),this.state.showTooltip&&r.a.createElement("div",{className:"tooltip",style:this.state.style},g()(this.state.showTooltip).format("dddd, MMMM DD YYYY"),r.a.createElement("div",{className:"text"},"Count: ",this.state.count)),r.a.createElement("div",{className:"months"},this.drawCalendar(this.props.data)))}},{key:"renderChart",value:function(t){var e=g()(t).format("YYYY-MM-DD"),a=j(this.props.rawData);console.log(a[e])}},{key:"drawCalendar",value:function(t){var e=this,a=function(t){var e=y.g.floor(t);return y.i(y.h.floor(e),y.g.offset(e,1)).length},n=y.d(Object.keys(t)),c=y.c(Object.keys(t)),o=function(t){return(t.getDay()+6)%7},s=y.f("%W"),i=y.f("%B"),l=y.g.range(new Date(parseInt("".concat(n.split("-")[0])),0,1),new Date(parseInt("".concat(c.split("-")[0])),11,31));return l.map(function(n){var c=y.e(n,new Date(n.getFullYear(),n.getMonth()+1,1)),l=c.map(function(e){return Object.keys(t).find(function(t){return new Date(t).setHours(0,0,0,0)===e.setHours(0,0,0,0)})}).map(function(e){return!!e&&t[e]}).filter(function(t){return!!t});return r.a.createElement("svg",{className:"month",height:164,width:16*a(n)+4*(a(n)+1),key:n},r.a.createElement("g",null,r.a.createElement("text",{className:"month-name",y:159,x:(16*a(n)+4*(a(n)+1))/2,textAnchor:"middle"},i(n)),c.map(function(a){var n,c,i,u=Object.keys(t).find(function(t){return new Date(t).setHours(0,0,0,0)===a.setHours(0,0,0,0)}),m=!!t[u]&&(n=t[u],c=Math.max.apply(Math,Object(k.a)(l)),i=Math.min.apply(Math,Object(k.a)(l)),(n-i)/(c-i)*.75+.25),d=t[u]?y.b(m):"#eaeaea";return r.a.createElement("rect",{key:a,className:"day",width:16,height:16,rx:50,ry:50,fill:d,y:16*o(a)+4*o(a)+4,x:16*(s(a)-s(new Date(a.getFullYear(),a.getMonth(),1)))+4*(s(a)-s(new Date(a.getFullYear(),a.getMonth(),1)))+4,onMouseOver:function(n){return e.setState({showTooltip:a,count:t[u]?t[u]:0,style:{top:n.clientY+10,left:n.clientX+10}})},onMouseOut:function(){return e.setState({showTooltip:!1})},onClick:function(){return e.renderChart(a)}})})))})}},{key:"drawDayLabels",value:function(){var t=Array.apply(null,Array(7)).map(function(t,e){return g()(e,"e").startOf("week").isoWeekday(e+1).format("ddd")});return r.a.createElement("g",null,t.map(function(t){return r.a.createElement("text",{key:t,className:"dayLabels"},t)}))}}]),e}(r.a.Component)),C=function(t){function e(){var t;return Object(d.a)(this,e),(t=Object(f.a)(this,Object(p.a)(e).call(this))).state={data:[]},t}return Object(v.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){var t=this;y.a(b.a).then(function(e){t.setState({data:M(e),rawData:e})}).catch(function(t){throw t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"title"}," Visualizing Time-Series Data ")),r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("p",null,"Calendar heatmap"),Object.keys(this.state.data).length>0&&r.a.createElement(N,{data:this.state.data,rawData:this.state.rawData}))))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=Object(i.c)(m);o.a.render(r.a.createElement(s.a,{store:H},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.99a72205.chunk.js.map