(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/data.2340907b.csv"},24:function(e,t,a){e.exports=a(42)},33:function(e,t,a){},35:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),o=a(23),s=a(5),u=a(7),l={initial:2e5,rate:5,years:25,monthlyOverpayment:0},d=Object(s.b)({mortgage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET/INITIAL":return Object(u.a)({},e,{initial:t.val});case"SET/RATE":return Object(u.a)({},e,{rate:t.val});case"SET/YEARS":return Object(u.a)({},e,{years:t.val});case"SET/MONTHLY_OVERPAYMENT":return Object(u.a)({},e,{monthlyOverpayment:t.val});default:return e}}}),m=(a(33),a(8)),h=a(9),f=a(11),p=a(10),v=a(12),y=(a(35),a(2)),Y=a(21),b=a.n(Y),O=a(3),w=a.n(O),g=function(e){var t=e.split("T")[0],a=e.split("T")[1].slice(0,-1);return w()("".concat(t," ").concat(a),"YYYYMMDD HHmmss").toDate()},D=function(e){var t=e.split("T")[1].slice(0,-1);return w()("".concat(t),"HHmmss").format("HH:mm:ss")},M=function(e){return w()("".concat(e.split("T")[0]),"YYYYMMDD").format("YYYY-MM-DD").split("T")[0]},j=function(e){var t=e.map(function(t){return{date:M(t[e.columns[0]]),time:D(t[e.columns[0]])}});return t.push({date:M(e.columns[0]),time:g(e.columns[0])}),t.reduce(function(e,t){return e[t.date]=e[t.date]||[],e[t.date].push(t.time),e},Object.create(null))},E=function(e){var t=e.map(function(t){return{timestamp:M(t[e.columns[0]])}});t.push({timestamp:M(e.columns[0])});var a=t.map(function(e){return e.timestamp});return a.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{})},k=a(15),T=a(1),N=a(22),C=a.n(N),S=(a(40),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(p.a)(t).call(this,e))).state={showTooltip:!1,renderBarChart:!1,style:{},currentYear:2018,i:0},a.renderChart=a.renderChart.bind(Object(T.a)(Object(T.a)(a))),a.updateDimensions=a.updateDimensions.bind(Object(T.a)(Object(T.a)(a))),a.changeYear=a.changeYear.bind(Object(T.a)(Object(T.a)(a))),a.renderYear=a.renderYear.bind(Object(T.a)(Object(T.a)(a))),a.renderMonth=a.renderMonth.bind(Object(T.a)(Object(T.a)(a))),a.renderDay=a.renderDay.bind(Object(T.a)(Object(T.a)(a))),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"updateDimensions",value:function(){this.setState({cellSize:window.innerWidth/120,cellMargin:window.innerWidth/400})}},{key:"componentWillMount",value:function(){this.updateDimensions()}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"calendar"},this.drawDayLabels(),this.state.showTooltip&&r.a.createElement("div",{className:"tooltip",style:this.state.style},w()(this.state.showTooltip).format("dddd, MMMM DD YYYY"),r.a.createElement("div",{className:"text"},"Count: ",this.state.count)),r.a.createElement("div",{className:"yearLabel"},r.a.createElement("i",{className:"fas fa-chevron-left",onClick:function(){return e.changeYear(-1)}}),this.state.currentYear,r.a.createElement("i",{className:"fas fa-chevron-right",onClick:function(){return e.changeYear(1)}})),r.a.createElement("div",{className:"months"},this.drawCalendar(this.props.data,this.state.i)))}},{key:"changeYear",value:function(e){this.setState({currentYear:this.state.currentYear+e,i:this.state.i+e})}},{key:"renderChart",value:function(e){var t=w()(e).format("YYYY-MM-DD"),a=j(this.props.rawData);console.log(a[t])}},{key:"drawCalendar",value:function(e,t){var a,n,r=new Date(2018,0,1),c=new Date(2020,11,31),i=y.e.range(r,c),o=y.h.range(r,c),s=o.map(function(e){return w()(e).format("YYYY")}),u=(a=i,n=i.length/12,a.reduce(function(e,t,r){return r%(a.length/n)===0&&0!==r&&e.push([]),e[e.length-1].push(t),e},[[]]));return this.renderYear(s,o[0],i,e,u)}},{key:"renderYear",value:function(e,t,a,n,c){var i=this,o=w()(t).subtract(1,"years").format("YYYY"),s=w()(t).add(1,"years").format("YYYY");e.includes(o),e.includes(s);return r.a.createElement("div",null,c.map(function(e,a){return r.a.createElement("div",{className:C()("year",{hidden:a!==i.state.i}),key:t},e.map(function(e){return i.renderMonth(e,n)}))}))}},{key:"renderMonth",value:function(e,t){var a=this,n=function(e){var t=y.e.floor(e);return y.g(y.f.floor(t),y.e.offset(t,1)).length},c=this.state.cellMargin,i=this.state.cellSize,o=y.d("%B"),s=(y.d("%Y"),y.c(e,new Date(e.getFullYear(),e.getMonth()+1,1))),u=w()(e).endOf("month").format("ddd"),l=w()(e).add(1,"months").startOf("month").format("ddd"),d=0;return("Mon"===u&&"Tue"===l||"Tue"===u&&"Wed"===l)&&(d+=10),r.a.createElement("svg",{className:"month",height:7*i+8*c+20,width:i*n(e)+c*(n(e)+5)+d,key:e},r.a.createElement("g",null,r.a.createElement("text",{className:"month-name",y:7*i+8*c+15,x:(i*n(e)+c*(n(e)+1))/2,textAnchor:"middle"},o(e)),s.map(function(n){return a.renderDay(n,e,t)})))}},{key:"renderDay",value:function(e,t,a){var n,c,i,o=this,s=this.state.cellMargin,u=this.state.cellSize,l=function(e){return(e.getDay()+6)%7},d=y.d("%W"),m=y.c(t,new Date(t.getFullYear(),t.getMonth()+1,1)).map(function(e){return Object.keys(a).find(function(t){return new Date(t).setHours(0,0,0,0)===e.setHours(0,0,0,0)})}).map(function(e){return!!e&&a[e]}).filter(function(e){return!!e}),h=Object.keys(a).find(function(t){return new Date(t).setHours(0,0,0,0)===e.setHours(0,0,0,0)}),f=!!a[h]&&(n=a[h],c=Math.max.apply(Math,Object(k.a)(m)),i=Math.min.apply(Math,Object(k.a)(m)),(n-i)/(c-i)*.75+.25),p=a[h]?y.b(f):"#eaeaea";return r.a.createElement("rect",{key:e,className:"day",width:u,height:u,rx:50,ry:50,fill:p,y:l(e)*u+l(e)*s+s,x:(d(e)-d(new Date(e.getFullYear(),e.getMonth(),1)))*u+(d(e)-d(new Date(e.getFullYear(),e.getMonth(),1)))*s+s,onMouseOver:function(t){return o.setState({showTooltip:e,count:a[h]?a[h]:0,style:{top:t.clientY+10,left:t.clientX+10}})},onMouseOut:function(){return o.setState({showTooltip:!1})},onClick:function(){return o.renderChart(e)}})}},{key:"drawDayLabels",value:function(){var e=Array.apply(null,Array(7)).map(function(e,t){return w()(t,"e").startOf("week").isoWeekday(t+1).format("ddd")});return r.a.createElement("g",null,e.map(function(e){return r.a.createElement("text",{key:e,className:"dayLabels"},e)}))}}]),t}(r.a.Component)),H=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(f.a)(this,Object(p.a)(t).call(this))).state={data:[]},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a(b.a).then(function(t){e.setState({data:E(t),rawData:t})}).catch(function(e){throw e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"title"}," Visualizing Time-Series Data ")),r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("p",null,"Calendar heatmap"),Object.keys(this.state.data).length>0&&r.a.createElement(S,{data:this.state.data,rawData:this.state.rawData}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=Object(s.c)(d);i.a.render(r.a.createElement(o.a,{store:x},r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.0e1bae4b.chunk.js.map