(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/github-logo.7338f8ee.svg"},20:function(e,t,a){e.exports=a.p+"static/media/pdf-logo.eb8752b9.svg"},25:function(e,t,a){},28:function(e,t,a){e.exports=a.p+"static/media/clock.d668b059.svg"},31:function(e,t,a){e.exports=a.p+"static/media/itching_in_nose_tbc.116a8ad6.csv"},32:function(e,t,a){e.exports=a.p+"static/media/itch_tbc.345754fd.csv"},33:function(e,t,a){e.exports=a.p+"static/media/ptsd_filtered.c05231cb.csv"},34:function(e,t,a){e.exports=a.p+"static/media/data.2340907b.csv"},35:function(e,t,a){e.exports=a.p+"static/media/github-logo-hover.b2035e53.svg"},36:function(e,t,a){e.exports=a.p+"static/media/pdf-logo-hover.eebd97c5.svg"},38:function(e,t,a){e.exports=a(78)},48:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},73:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(0),o=a.n(r),s=a(16),c=a.n(s),i=a(3),l=a(13),u=a(1),d=a.n(u),h=function(e){var t=e.split("T")[1].slice(0,-1);return d()("".concat(t),"HHmmss").utc().format("HH:mm:ss")},p=function(e){return d()("".concat(e.split("T")[0]),"YYYYMMDDxxx").utc().format("YYYY-MM-DD").split("T")[0]},f=function(e){return e.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{})},m=function(e){var t=e.map(function(t){return{date:p(t[e.columns[0]]),time:h(t[e.columns[0]])}});return t.reduce(function(e,t){return e[t.date]=e[t.date]||[],e[t.date].push(t.time),e},{})},y=function(e,t,a){var n=Object.keys(t).filter(function(t){return d()(t).format("M")===e}).reduce(function(e,a){return e[a]=t[a],e},{}),r=Object.keys(n).reduce(function(e,t){return e.push(n[t]),e},[]),o=Object.keys(a).filter(function(t){return d()(t).format("M")===e}).reduce(function(e,t){return e[t]=a[t],e},{}),s=Object.values(o).reduce(function(e,t){return Object.keys(t).map(function(a){return e.hasOwnProperty(a)?e[a]+=t[a]:e[a]=t[a],null}),e},{});return{selectedMonth:e,daysOfMonth:s,monthInsights:r.flat()}},v=function(e,t,a){var n=Object.keys(a).reduce(function(e,t){var n=d()(t,"YYYY-MM-DD").format("ddd");return e[n]=e[n]||[],e[n].push(a[t]),e},{});return Object.keys(n).reduce(function(e,t){return e[t]=n[t].flat().length,e},{})},k=function(e,t,a,n,r){for(var o=Object.keys(t).filter(function(t){return d()(t).isoWeekday()===d()(e,"ddd").isoWeekday()}).reduce(function(e,a){return e[a]=t[a],e},{}),s=Object.keys(o).reduce(function(e,t){return e.push(o[t]),e},[]),c=Object.keys(a).filter(function(t){return d()(t).isoWeekday()===d()(e,"ddd").isoWeekday()}).reduce(function(e,t){return e[t]=a[t],e},{}),i=Object.values(c).reduce(function(e,t){return Object.keys(t).map(function(a){return e.hasOwnProperty(a)?e[a]+=t[a]:e[a]=t[a],null}),e},{}),l=n&&n.daysArr.filter(function(e){return r[d()(e,"DD-MM-YYYY").format("YYYY-MM-DD")]}).length-1,u={},h=0;h<24;h++)u[h]=i[h]?Number(i[h]/l).toFixed(2):0;return{selectedWeekday:e,daysOfWeekday:i,weekdayInsights:s.flat(),weekdayObj:u}},g=function(e){var t=m(e);return Object.keys(t).reduce(function(e,a){for(var n=t[a],r=n&&n.map(function(e){var t=d()("".concat(a," ").concat(e));return parseInt(t.startOf("hour").format("HH"))}),o=r&&r.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),s={},c=0;c<=24;c++)s[c]=o[c]||0;return e[a]=o,e},{})},O=function(e,t,a){var n=Array.from({length:7},function(e,a){return d()(t).startOf("isoWeek").add(a,"days").format("YYYY-MM-DD")}),r=Object.keys(e).filter(function(e){return n.includes(e)}).reduce(function(e,t){return e.push({day:t,occurrences:a[t]}),e},[]);r=r.map(function(e){return e.occurrences.map(function(t){var a=d()("".concat(e.day," ").concat(t));return parseInt(a.startOf("hour").format("HH"))})});for(var o=n.filter(function(t){return e[t]}).length,s=[].concat.apply([],r).reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),c={},i=0;i<24;i++)c[i]=s[i]?Number(s[i]/o).toFixed(2):0;return c},b=function(e,t,a){var n=Array.from({length:d()(t).daysInMonth()},function(e,a){return d()(t).startOf("isoMonth").add(a,"days").format("YYYY-MM-DD")}),r=Object.keys(e).filter(function(e){return n.includes(e)}).reduce(function(e,t){return e.push({day:t,occurrences:a[t]}),e},[]);r=r.map(function(e){return e.occurrences.map(function(t){var a=d()("".concat(e.day," ").concat(t));return parseInt(a.startOf("hour").format("HH"))})});for(var o=n.filter(function(t){return e[t]}).length,s=[].concat.apply([],r).reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),c={},i=0;i<24;i++)c[i]=s[i]?Number(s[i]/o).toFixed(2):0;return c},w=function(e){for(var t=d()(e).startOf("isoWeek"),a=d()(e).endOf("isoWeek"),n=[],r=t;r<=a;)n.push(d()(r).format("DD-MM-YYYY")),r=r.clone().add(1,"d");return n},D=function(e){for(var t=d()(e).startOf("month"),a=d()(e).endOf("month"),n=[],r=t;r<=a;)n.push(d()(r).format("DD-MM-YYYY")),r=r.clone().add(1,"d");return n},M=function(e){for(var t=d()(e).startOf("year"),a=d()(e).endOf("year"),n=[],r=d()(e);r<=a;)n.push(d()(r).format("DD-MM-YYYY")),r=r.clone().add(7,"d");for(var o=[],s=d()(e);s>=t;)o.push(d()(s).format("DD-MM-YYYY")),s=s.clone().subtract(7,"d");return{daysArr:n.concat(o),length:n.concat(o).length}},E=function(e,t){var a=t.filter(function(t){return d()(t,"HH:mm:ss").format("HH")===d()(e.data,"H").format("HH")});return f(a.map(function(e){return d()(e,"HH:mm:ss").format("HH:mm")}))},W=function(e){var t=e.map(function(t){return t[e.columns[0]].replace(/[-:.]/g,"")}).map(function(e){return{timestamp:p(e)}}).map(function(e){return e.timestamp});return f(t)},Y={data:[],rawData:[],minDate:null,maxDate:null,dayInsights:[],monthInsights:[],daysOfMonth:[],selectedMonth:null,weekdayInsights:[],daysOfWeekday:[],selectedWeekday:null,datasetName:"",files:[],allDays:[],showTooltip:!1,isSpinnerVisible:!1},j=function(e){return{type:"SHOW_SPINNER",val:e}},C=function(e){return{type:"SET_MONTH_INSIGHTS",val:e}},I=function(e){return{type:"SET_WEEKDAY_INSIGHTS",val:e}},x=a(12),A={isCalendarVisible:!1,yearIndex:0,cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400,screenWidth:"object"===typeof window?window.innerWidth:null,selectedDay:null,currentWeek:null,currentMonth:null,currentWeekdays:null,color:null,colors:[]},N=function(e){return{type:"SELECT_DAY",val:e}},S=function(e){return{type:"SAVE_COLOR",val:e}},_={isRadialChartVisible:!1,selectedDay:null},H={isBarChartVisible:!1,showWeekOverview:!1,showMonthOverview:!1,showWeekdayOverview:!1,modalData:null,timeArray:[]},T=function(e){return{type:"SHOW_BAR_CHART",val:e}},B=function(e){return{type:"SHOW_WEEK_OVERVIEW",val:e}},R=function(e){return{type:"SHOW_MONTH_OVERVIEW",val:e}},z=function(e){return{type:"SHOW_WEEKDAY_OVERVIEW",val:e}},L=function(e){return{type:"OPEN_MODAL",val:e}},V=Object(l.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":var a=W(t.val),r=Object.keys(a).map(function(e){return d()(e)});return Object(n.a)({},e,{rawData:t.val,data:a,dayInsights:m(t.val),minDate:d.a.min(r),maxDate:d.a.max(r),allDays:g(t.val)});case"UPLOAD_FILE":return Object(n.a)({},e,{files:t.val});case"SET_DATASET_NAME":return Object(n.a)({},e,{datasetName:t.val});case"SHOW_SPINNER":return Object(n.a)({},e,{isSpinnerVisible:t.val});case"SET_MONTH_INSIGHTS":return Object(n.a)({},e,{monthInsights:t.val.monthInsights,daysOfMonth:t.val.daysOfMonth,selectedMonth:t.val.selectedMonth});case"SET_WEEKDAY_INSIGHTS":return Object(n.a)({},e,{weekdayInsights:t.val.weekdayInsights,daysOfWeekday:t.val.daysOfWeekday,selectedWeekday:t.val.selectedWeekday});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CALENDAR":return Object(n.a)({},e,{isCalendarVisible:t.val});case"CHANGE_YEAR":return Object(n.a)({},e,{yearIndex:e.yearIndex+t.val});case"SCREEN_RESIZE":return Object.assign({},e,{screenWidth:window.innerWidth,cellSize:window.innerWidth/125,cellMargin:window.innerWidth/400});case"SELECT_DAY":var a=t.val&&t.val.day,r=t.val&&t.val.color;return Object(n.a)({},e,{selectedDay:a,color:r,currentWeek:w(a),currentMonth:D(a),currentWeekdays:M(a)});case"SAVE_COLOR":return Object.assign({},e,{colors:Object(x.a)(new Set(e.colors.concat({day:t.val.day,value:t.val.value})))});default:return e}},radialChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_RADIAL_CHART":return Object(n.a)({},e,{isRadialChartVisible:t.val});case"SELECT_DAY":return Object(n.a)({},e,{selectedDay:t.val});default:return e}},barChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_BAR_CHART":return Object(n.a)({},e,{isBarChartVisible:t.val,showWeekOverview:!1,showMonthOverview:!1,showWeekdayOverview:!1});case"SHOW_WEEK_OVERVIEW":return Object(n.a)({},e,{showWeekOverview:t.val,showMonthOverview:!1,showWeekdayOverview:!1});case"SHOW_MONTH_OVERVIEW":return Object(n.a)({},e,{showMonthOverview:t.val,showWeekOverview:!1,showWeekdayOverview:!1});case"SHOW_WEEKDAY_OVERVIEW":return Object(n.a)({},e,{showWeekdayOverview:t.val,showWeekOverview:!1,showMonthOverview:!1});case"OPEN_MODAL":return Object(n.a)({},e,{modalData:t.val&&t.val.data,timeArray:t.val?E(t.val.data,t.val.arr):[]});case"RESET":return H;default:return e}}}),P=(a(48),a(5)),F=a(6),U=a(8),G=a(7),q=a(9),K=a(15),X=a.n(K),J=a(10),Z=a.n(J),$=Array.apply(null,Array(7)).map(function(e,t){return d()(t,"e").startOf("week").isoWeekday(t+1).format("ddd")}),Q=Object(i.b)(function(e){return{allDays:e.app.allDays,dayInsights:e.app.dayInsights,selectedWeekday:e.app.selectedWeekday}},function(e){return{setWeekdayInsights:function(t){return e(I(t))},setMonthInsights:function(t){return e(C(t))},showBarChart:function(t){return e(T(t))},selectDay:function(t){return e(N(t))}}})(function(e){var t=console.error;return console.error=function(){"Warning: The tag <text> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter."!==(arguments.length<=0?void 0:arguments[0])&&t.apply(void 0,arguments)},o.a.createElement("div",{className:"day-labels-container"},$.map(function(t){return o.a.createElement("text",{key:t,className:Z()("day-labels",{bold:e.selectedWeekday===t}),onClick:function(){return function(t){e.selectDay(null),e.setMonthInsights({monthInsights:[],daysOfMonth:[]});var a=k(t,e.dayInsights,e.allDays);e.setWeekdayInsights({selectedWeekday:a.selectedWeekday,daysOfWeekday:a.daysOfWeekday,weekdayInsights:a.weekdayInsights}),e.showBarChart(!0)}(t)}},t)}))}),ee=Object(i.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate}},function(e){return{changeYear:function(t){return e(function(e){return{type:"CHANGE_YEAR",val:e}}(t))}}})(function(e){var t=d()(e.minDate).subtract(1,"years").format("YYYY"),a=d()(e.maxDate).add(1,"years").format("YYYY"),n=t>=e.minDate.format("YYYY"),r=a<=e.maxDate.format("YYYY");return o.a.createElement("div",{className:"year-label"},o.a.createElement("i",{className:Z()("fas fa-chevron-left",{disabled:!n}),onClick:function(){return n&&e.changeYear(-1)}}),e.minDate.format("YYYY"),o.a.createElement("i",{className:Z()("fas fa-chevron-right",{disabled:!r}),onClick:function(){return r&&e.changeYear(1)}}))}),te=a(2),ae=function(e,t,a){if(e&&t){for(var n=e.length;n--;)if(e[n]===a)return!0;return!1}},ne=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(U.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).isEqual=function(e){var t=e.currentWeek&&e.currentWeek.includes(d()(a.props.day).format("DD-MM-YYYY"))||a.props.currentWeek&&a.props.currentWeek.includes(d()(e.day).format("DD-MM-YYYY")),n=e.currentMonth&&e.currentMonth.includes(d()(a.props.day).format("DD-MM-YYYY"))||a.props.currentMonth&&a.props.currentMonth.includes(d()(e.day).format("DD-MM-YYYY")),r=e.currentWeekdays&&e.currentWeekdays.daysArr.includes(d()(a.props.day).format("DD-MM-YYYY"))||a.props.currentWeekdays&&a.props.currentWeekdays.daysArr.includes(d()(e.day).format("DD-MM-YYYY"));return t||n||r},a.onDayClick=function(e,t,n){e.preventDefault(),e.stopPropagation(),a.props.setMonthInsights({monthInsights:[],daysOfMonth:[]}),a.props.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),a.props.selectDay({day:t,color:te.l(n.value)}),a.props.showBarChart(!0)},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=function(e){return d()(e).format("DD-MM-YY")};return a(this.props.day)===a(e.selectedDay)||a(e.day)===a(this.props.selectedDay)||this.isEqual(e)||this.props.fill!==e.fill||this.props.cellSize!==e.cellSize}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=this.props,n=a.cellMargin,r=a.cellSize,s=t.day,c=!1;d()(s).format("DD-MM-YY")===d()(t.selectedDay).format("DD-MM-YY")&&(c=!0);var i=function(e){return(e.getDay()+6)%7},l=te.x("%W"),u=function(e,t){var a,n,r,o=Object.keys(e.data).find(function(t){return new Date(t).setHours(0,0,0,0)===e.day.setHours(0,0,0,0)});if(o){var s=d()(e.day).format("DD-MM-YYYY"),c=ae(e.currentWeek,e.showWeekOverview,s),i=ae(e.currentMonth,e.showMonthOverview,s)||e.selectedMonth&&e.selectedMonth===d()(e.day).format("M"),l=ae(e.currentWeekdays,e.showWeekdayOverview,s)||e.selectedWeekday&&e.selectedWeekday===d()(e.day).format("ddd"),u=Array.from({length:d()(e.month).daysInMonth()},function(t,a){return d()(e.month).startOf("month").add(a,"days").format("YYYY-MM-DD")}),h=Object.keys(e.data).reduce(function(t,a){return u.includes(a)&&t.push(e.data[a]),t},[]),p=!!e.data[o]&&(a=e.data[o],n=Math.max.apply(Math,Object(x.a)(h)),r=Math.min.apply(Math,Object(x.a)(h)),(a-r)/(n-r)*.75+.25),f=t||c||i||l?te.l(p):te.m(p);return{value:p,count:e.data[o],fillColor:f}}return{fillColor:"#ececec",count:0}}(t,c);return o.a.createElement("rect",{key:s,className:"day",stroke:c?"#000":"",strokeWidth:c?1:0,width:r,height:r,rx:50,ry:50,fill:u.fillColor,y:i(s)*r+i(s)*n+n,x:(l(s)-l(new Date(s.getFullYear(),s.getMonth(),1)))*r+(l(s)-l(new Date(s.getFullYear(),s.getMonth(),1)))*n+n,onClick:function(t){return e.onDayClick(t,s,u)},"data-tip":"".concat(d()(s).format("dddd, DD MMM YYYY"),"<br>Count: ").concat(u.count),"data-for":"svgTooltip"})}}]),t}(o.a.Component),re=Object(i.b)(function(e){return{data:e.app.data,selectedDay:e.calendar.selectedDay,selectedWeekday:e.app.selectedWeekday,selectedMonth:e.app.selectedMonth,showWeekOverview:e.barChart.showWeekOverview,showMonthOverview:e.barChart.showMonthOverview,showWeekdayOverview:e.barChart.showWeekdayOverview,currentWeek:e.calendar.currentWeek,currentMonth:e.calendar.currentMonth,currentWeekdays:e.calendar.currentWeekdays,dayInsights:e.app.dayInsights,cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin,allDays:e.app.allDays,colors:e.calendar.colors}},function(e){return{showBarChart:function(t){return e(T(t))},selectDay:function(t){return e(N(t))},setMonthInsights:function(t){return e(C(t))},setWeekdayInsights:function(t){return e(I(t))},saveColor:function(t){return e(S(t))}}})(ne),oe=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(U.a)(this,Object(G.a)(t).call(this,e))).showMoreData=function(){var e=a.state.count,t=a.props.month,n=te.w(t,new Date(t.getFullYear(),t.getMonth()+1,1));e<n.length&&requestAnimationFrame(function(){return a.setState({count:e+1})})},a.getWeeksInMonth=function(e){var t=te.y.floor(e);return te.B(te.A.floor(t),te.y.offset(t,1)).length},a.renderMonthOverview=function(e){a.props.selectDay(null),a.props.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]});var t=y(d()().month(e).format("M"),a.props.dayInsights,a.props.allDays);a.props.setMonthInsights({selectedMonth:t.selectedMonth,daysOfMonth:t.daysOfMonth,monthInsights:t.monthInsights}),a.props.showBarChart(!0)},a.renderDays=function(e,t){return e.map(function(e){return o.a.createElement(re,{fill:t||d()(e).format("ddd")===a.props.selectedWeekday,day:e,month:a.props.month,key:e})})},a.state={count:1},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.showMoreData()}},{key:"componentDidUpdate",value:function(){this.showMoreData()}},{key:"render",value:function(){var e=this,t=this.props,a=t.month,n=t.cellMargin,r=t.cellSize,s=te.x("%B"),c=te.w(a,new Date(a.getFullYear(),a.getMonth()+1,1)),i=d()(a).endOf("month").format("ddd"),l=d()(a).add(1,"months").startOf("month").format("ddd"),u=0;("Mon"===i&&"Tue"===l||"Tue"===i&&"Wed"===l)&&(u+=10);var h=this.state.count,p=h>=c.length?c:c.slice(0,h),f=d()(this.props.selectedMonth,"M").format("MMMM")===s(a);return o.a.createElement("svg",{className:"month",height:7*r+8*n+20,width:r*this.getWeeksInMonth(a)+n*(this.getWeeksInMonth(a)+5)+u,key:a},o.a.createElement("g",null,o.a.createElement("text",{className:Z()("month-name",{bold:f}),y:7*r+8*n+15,x:(r*this.getWeeksInMonth(a)+n*(this.getWeeksInMonth(a)+1))/2,textAnchor:"middle",onClick:function(){return e.renderMonthOverview(s(a))}},s(a)),this.renderDays(p,f)))}}]),t}(o.a.PureComponent),se=Object(i.b)(function(e){return{allDays:e.app.allDays,data:e.app.data,dayInsights:e.app.dayInsights,cellSize:e.calendar.cellSize,cellMargin:e.calendar.cellMargin,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday}},function(e){return{setMonthInsights:function(t){return e(C(t))},setWeekdayInsights:function(t){return e(I(t))},showBarChart:function(t){return e(T(t))},selectDay:function(t){return e(N(t))}}})(oe),ce=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(U.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).getChunk=function(e,t){return e.reduce(function(a,n,r){return r%(e.length/t)===0&&0!==r&&a.push([]),a[a.length-1].push(n),a},[[]])},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this.props,t=e.minDate.format("YYYY-MM-DD"),a=e.maxDate.format("YYYY-MM-DD"),n=te.y.range(new Date(parseInt("".concat(t.split("-")[0])),0,1),new Date(parseInt("".concat(a.split("-")[0])),11,31)),r=this.getChunk(n,n.length/12);return o.a.createElement("div",{className:"year-wrapper"},r.map(function(t,a){return o.a.createElement("div",{className:Z()("year",{hidden:a!==e.yearIndex}),key:a},t.map(function(e,t){return o.a.createElement(se,{key:t,month:e})}))}))}}]),t}(o.a.PureComponent),ie=Object(i.b)(function(e){return{data:e.app.data,minDate:e.app.minDate,maxDate:e.app.maxDate,yearIndex:e.calendar.yearIndex}})(ce),le=(a(61),function(e){function t(){return Object(P.a)(this,t),Object(U.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"card",id:"card"},this.props.children)}}]),t}(o.a.PureComponent)),ue=(a(63),function(e){return o.a.createElement("section",{className:"section ".concat(e.className||"")},o.a.createElement("p",null,e.title),e.children)}),de=(a(25),function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(U.a)(this,Object(G.a)(t).call(this,e)),window.addEventListener("resize",function(){e.onScreenResize(window.innerWidth)}),a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.props.showSpinner(!1)}},{key:"render",value:function(){return o.a.createElement(ue,{title:"Calendar heatmap"},o.a.createElement(le,null,o.a.createElement(ee,null),o.a.createElement("div",{className:"months"},o.a.createElement(Q,null),o.a.createElement(ie,null)),o.a.createElement(X.a,{id:"svgTooltip",multiline:!0,class:"tooltip"})))}}]),t}(o.a.PureComponent)),he=Object(i.b)(null,function(e){return{showSpinner:function(t){return e(j(t))},onScreenResize:function(t){return e(function(e){return{type:"SCREEN_RESIZE",val:e}}(t))}}})(de),pe=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(U.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).pickDay=function(e){a.props.setMonthInsights({monthInsights:[],daysOfMonth:[],selectedMonth:null}),a.props.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]});var t=a.props.colors.find(function(t){return t.day===d()(e).format("DD-MM-YYYY")}),n=t&&te.e(t.value);a.props.selectDay({day:e,color:n}),a.props.showBarChart(!0)},a.pickMonth=function(e){a.props.selectDay(null),a.props.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]});var t=y(e.toString(),a.props.dayInsights,a.props.allDays);a.props.setMonthInsights({selectedMonth:t.selectedMonth,daysOfMonth:t.daysOfMonth,monthInsights:t.monthInsights}),a.props.showBarChart(!0)},a.pickWeekday=function(e){a.props.selectDay(null),a.props.setMonthInsights({monthInsights:[],daysOfMonth:[],selectedMonth:null});var t=k(e,a.props.dayInsights,a.props.allDays,a.props.currentWeekdays,a.props.dataArr);a.props.setWeekdayInsights({weekdayInsights:t.weekdayInsights,daysOfWeekday:t.daysOfWeekday,selectedWeekday:t.selectedWeekday}),a.props.showBarChart(!0)},a.getUnit=function(){return a.props.selectedMonth?"months":a.props.selectedWeekday?"weeks":"days"},a.getString=function(e){return a.props.selectedMonth?d()(a.props.selectedMonth,"M").format("MMMM"):a.props.selectedWeekday?"".concat(d()(a.props.selectedWeekday,"ddd").format("dddd"),"s"):d()(e).format("dddd, MMMM DD YYYY")},a.select=function(e,t,n){if(a.props.selectedDay)a.pickDay(d()(e).add(t,n));else if(a.props.selectedMonth)a.pickMonth(parseInt(e)+t);else if(a.props.selectedWeekday){var r=d()(e,"ddd").isoWeekday();a.pickWeekday(d()(e,"ddd").isoWeekday(r+t).format("ddd"))}},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.selectedDay!==this.props.selectedDay||e.selectedMonth!==this.props.selectedMonth||e.selectedWeekday!==this.props.selectedWeekday}},{key:"render",value:function(){var e=this,t=this.props,a=t.minDate,n=t.maxDate,r=t.selectedMonth,s=t.selectedDay,c=t.selectedWeekday,i=r||c||s,l=this.getUnit(),u=r?r-1:d()(i).subtract(1,l),h=r?parseInt(r)+1:d()(i).add(1,l),p=r?d()(u,"M").isAfter(a.startOf("year")):u.isAfter(a.startOf("year")),f=!!r||h.isBefore(n.endOf("year"));return o.a.createElement("div",{className:"year-label dayTitle",tabIndex:0,onKeyDown:function(t){return"ArrowLeft"===t.key&&e.select(i,-1,l)||"ArrowRight"===t.key&&e.select(i,1,l)}},o.a.createElement("i",{className:Z()("fas fa-chevron-left",{disabled:!p}),onClick:function(){return p&&e.select(i,-1,l)}}),this.getString(i),o.a.createElement("i",{className:Z()("fas fa-chevron-right",{disabled:!f}),onClick:function(){return p&&e.select(i,1,l)}}))}}]),t}(o.a.Component),fe=Object(i.b)(function(e){return{minDate:e.app.minDate,maxDate:e.app.maxDate,selectedDay:e.calendar.selectedDay,selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday,dayInsights:e.app.dayInsights,allDays:e.app.allDays,colors:e.calendar.colors,currentWeekdays:e.calendar.currentWeekdays,dataArr:e.app.data}},function(e){return{selectDay:function(t){return e(N(t))},showBarChart:function(t){return e(T(t))},setMonthInsights:function(t){return e(C(t))},setWeekdayInsights:function(t){return e(I(t))}}})(pe),me=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(U.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).renderAxis=function(){var e=te.c(a.props.xScale).ticks(24).tickFormat(te.x("%H"));te.t(a.refs.xAxis).transition().call(e)},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"render",value:function(){return o.a.createElement("g",{className:"axis axis-x",transform:this.props.transform,ref:"xAxis",fill:"none",fontSize:10,textAnchor:"middle"})}}]),t}(o.a.PureComponent),ye=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(U.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).renderAxis=function(){var e=te.d(a.props.yScale).ticks(a.props.nrOfTicks).tickFormat(te.i("d"));te.t(a.refs.yAxis).transition().call(e)},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"render",value:function(){return o.a.createElement("g",{className:"axis axis-y",ref:"yAxis"})}}]),t}(o.a.PureComponent),ve=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(U.a)(this,Object(G.a)(t).call(this,e))).openModal=function(e){a.props.openModal({data:e,arr:a.props.dayInsights[a.props.selectedDay]})},a.renderBars=function(){var e=te.t(a.refs.bars).datum(a.props.plotData).selectAll(".bar").data(function(e){return e});e.interrupt();var t=a.props.color;e.transition().attr("fill",function(e,n){return n===a.state.hoverIndex?te.q(t).darker():t});var n=e.enter().append("g").classed("bar",!0);n.attr("fill",function(e,n){return n===a.state.hoverIndex?te.q(t).darker():t}),n.append("rect").attr("height",0).attr("transform",function(e){return"translate(".concat(e.x,", ").concat(a.props.plotHeight,")")}).attr("id",function(e,t){return"bar-".concat(t)}).on("mouseover",function(e,t){return a.setState({hoverIndex:t})}).on("mouseleave",function(){return a.setState({hoverIndex:-1})}).on("click",function(e){return a.openModal(e)}),e.exit().classed("bar",!1).attr("fill",t).attr("opacity",.8).transition().attr("opacity",0).remove(),e.merge(n).select("rect").attr("width",function(e){return e.width}).attr("data-tip",function(e){return"".concat(e.occurrences," occurrences<br>between ").concat(d()(e.data,"hh").format("H:mm")," - ").concat(d()(parseInt(e.data)+1,"hh").format("H:mm"))}).attr("data-for","rectTooltip").classed("hovered-bar",function(e,t){return t===a.state.hoverIndex}).transition().duration(1e3).attr("transform",function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}).attr("height",function(e){return e.height})},a.state={hoverIndex:-1},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.renderBars()}},{key:"componentDidUpdate",value:function(){this.renderBars()}},{key:"render",value:function(){return o.a.createElement("g",{ref:"bars"})}}]),t}(o.a.PureComponent),ke=Object(i.b)(function(e){return{dayInsights:e.app.dayInsights,selectedDay:d()(e.calendar.selectedDay).format("YYYY-MM-DD")}},function(e){return{openModal:function(t){return e(L(t))}}})(ve),ge=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(U.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).renderLine=function(){var e=te.u(".line");if(e.node()){var t=e.node().getTotalLength();e.attr("stroke-dasharray",t).attr("stroke-dashoffset",t).attr("stroke-width",6).attr("stroke","#7888BF").transition().duration(1e3).attr("stroke-width",0).attr("stroke-dashoffset",0)}te.u(".area").attr("transform","translate(0,300)").transition().delay(500).duration(1e3).attr("transform","translate(0,0)")},a.handleMouseMove=function(e,t){var n=a.props,r=n.xScaleArea,o=n.yScale,s=n.plotHeight,c=n.color,i=n.plotData,l=n.openModal,u=n.dayInsights,h=n.selectedDay,p=function(t){for(var a,n=document.getElementsByClassName("line"),r=0,s=n&&n[t].getTotalLength(),c=null;s&&(c=Math.floor((r+s)/2),a=n[t].getPointAtLength(c),c!==s&&c!==r||a.x===e);)if(a.x>e)s=c;else{if(!(a.x<e))break;r=c}return te.t(".line-text").text(Number(o.invert(a.y)).toFixed(2)),a};te.t(".mouse-line").attr("d",function(){var t="M"+e+","+(s-50);return t+=" "+e+",0"});var f=te.x("%H"),m=te.z("%H");te.u(".mouse-per-line").attr("transform",function(t,a){var n=p(a),o=r.invert(n.x);return te.u(".bar").attr("fill",function(e){return f(m(e.data))===f(o)?te.q(c).darker():c}),"translate("+e+","+n.y+")"});var y=function(){te.t(".bar-text").style("opacity",0),te.t(".bar-circle").style("opacity",0)};te.u(".mouse-per-bar").attr("transform",function(t,a){var n=i.map(function(e){return d()(e.data,"H").format("HH")}),o=r.invert(p(a).x);if(n.indexOf(f(o))>-1){var s=i.find(function(e){return d()(e.data,"H").format("HH")===f(o)});return te.t(".mouse-over-effects").style("cursor","pointer").on("click",function(){l({data:s,arr:u[d()(h).format("YYYY-MM-DD")]}),y()}),te.t(".bar-text").style("opacity",1).text(s.occurrences),te.t(".bar-circle").style("opacity",1),"translate(".concat(e,",").concat(s.y-3.8,")")}te.t(".mouse-over-effects").style("cursor","auto").on("click",null),y()})},a.setLineOpacity=function(e){te.t(".mouse-line").style("opacity",e),te.u(".mouse-per-line .line-circle").style("opacity",e),te.u(".mouse-per-line .line-text").style("opacity",e)},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.selectedDay!==this.props.selectedDay||e.plotWidth!==this.props.plotWidth}},{key:"componentDidMount",value:function(){this.renderLine()}},{key:"componentDidUpdate",value:function(){this.renderLine()}},{key:"render",value:function(){var e=this,t=this.props,a=t.xScaleArea,n=t.plotWidth,r=t.plotHeight,s=t.margin,c=t.yScale,i=this.props.weekInsights,l=te.z("%H:%M"),u=te.b().x(function(e){return a(l("".concat(e,":30")))}).y0(r-s.top-s.bottom).y1(function(e){return c(i[e])}).curve(te.h),d=te.n().x(function(e){return a(l("".concat(e,":30")))}).y(function(e){return c(i[e])}).curve(te.h);return o.a.createElement("svg",{className:"areaChart",ref:"areaChart"},o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:"grad",x1:"0%",y1:"100%",x2:"0%",y2:"0%",spreadMethod:"pad"},o.a.createElement("stop",{offset:"10%",stopColor:"#fff",stopOpacity:.4}),o.a.createElement("stop",{offset:"80%",stopColor:"#7888BF",stopOpacity:.8}))),o.a.createElement("path",{className:"area",fill:"url(#grad)",d:u(Object.keys(i))}),o.a.createElement("path",{className:"line shadow",d:d(Object.keys(i))}),o.a.createElement("g",{className:"mouse-over-effects"},o.a.createElement("path",{className:"mouse-line",stroke:"#777",strokeWidth:1,strokeDasharray:"3,3",opacity:0}),o.a.createElement("g",{className:"mouse-per-line"},o.a.createElement("circle",{className:"line-circle",r:5,fill:"#7888BF",strokeWidth:1,stroke:"#000",opacity:0}),o.a.createElement("text",{className:"line-text",transform:"translate(10,3)",fontSize:14})),o.a.createElement("g",{className:"mouse-per-bar"},o.a.createElement("circle",{className:"bar-circle",r:5,fill:te.q(this.props.color).darker(),strokeWidth:1,stroke:"#000",opacity:0}),o.a.createElement("text",{className:"bar-text",transform:"translate(-17,3)",fontSize:14,opacity:0})),o.a.createElement("rect",{width:n+40,height:r,transform:"translate(0,0)",fill:"none",pointerEvents:"all",onMouseLeave:function(){return e.setLineOpacity("0")},onMouseOver:function(){return e.setLineOpacity("1")},onMouseMove:function(t){return e.handleMouseMove(t.nativeEvent.offsetX-40,t.nativeEvent.offsetY)}})))}}]),t}(o.a.Component),Oe=Object(i.b)(function(e){return{dayInsights:e.app.dayInsights,selectedDay:d()(e.calendar.selectedDay),data:e.app.data}},function(e){return{openModal:function(t){return e(L(t))}}})(ge),be=(a(66),a(28)),we=a.n(be),De=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(U.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).hideModal=function(){a.props.openModal(null)},a.convertRange=function(e,t,a){return(e-t[0])*(a[1]-a[0])/(t[1]-t[0])+a[0]},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.selectedDay,n=t.modalData,r=t.timeArray;return o.a.createElement("div",{className:Z()("modal","modal-animation",{"display-block":n},{"display-none":!n}),onClick:this.hideModal},o.a.createElement("section",{className:"modal-main",onClick:function(e){return e.stopPropagation()}},o.a.createElement("i",{className:"fas fa-times",onClick:this.hideModal}),o.a.createElement("div",{className:"modal-title"},a),n&&o.a.createElement("div",null,"between ",d()(n.data,"hh").format("H:mm")," - ",d()(parseInt(n.data)+1,"hh").format("H:mm")),o.a.createElement("div",{className:"clock-icon"},o.a.createElement("img",{src:we.a,alt:"",width:50,height:50})),o.a.createElement("div",{className:"time-container"},Object.keys(r).map(function(t){return o.a.createElement("span",{className:"time",style:{fontSize:e.convertRange(r[t],[1,20],[15,50])}},t)}))))}}]),t}(o.a.PureComponent),Me=Object(i.b)(function(e){return{modalData:e.barChart.modalData,selectedDay:d()(e.calendar.selectedDay).format("dddd, MMMM DD YYYY"),timeArray:e.barChart.timeArray}},function(e){return{openModal:function(t){return e(L(t))}}})(De),Ee=Object(i.b)(function(e){return{isWeekOverviewChecked:e.barChart.showWeekOverview,isMonthOverviewChecked:e.barChart.showMonthOverview,isWeekdayOverviewChecked:e.barChart.showWeekdayOverview}},function(e){return{showWeekOverview:function(t){return e(B(t))},showMonthOverview:function(t){return e(R(t))},showWeekdayOverview:function(t){return e(z(t))},showBarChart:function(t){return e(T(t))},onReset:function(t){return e(function(e){return{type:"RESET",val:e}}(t))}}})(function(e){var t=function(){e.showWeekOverview(!e.isWeekOverviewChecked)},a=function(){e.showMonthOverview(!e.isMonthOverviewChecked)},n=function(){e.showWeekdayOverview(!e.isWeekdayOverviewChecked)};return o.a.createElement("div",{className:"footer year-label"},e.showDatasetOverview?o.a.createElement("div",{className:"checkboxes"},o.a.createElement("span",{className:Z()("checkbox",{bold:e.isWeekOverviewChecked}),onClick:t},"Weekdays ",o.a.createElement("input",{type:"checkbox",checked:e.isWeekOverviewChecked,defaultChecked:!1,onChange:t})),o.a.createElement("span",{className:Z()("checkbox",{bold:e.isMonthOverviewChecked}),onClick:a},"Weekends ",o.a.createElement("input",{type:"checkbox",checked:e.isMonthOverviewChecked,defaultChecked:!1,onChange:a}))):o.a.createElement("div",{className:"checkboxes"},o.a.createElement("span",{className:Z()("checkbox",{bold:e.isWeekOverviewChecked}),onClick:t},"Week overview ",o.a.createElement("input",{type:"checkbox",checked:e.isWeekOverviewChecked,defaultChecked:!1,onChange:t})),o.a.createElement("span",{className:Z()("checkbox",{bold:e.isMonthOverviewChecked}),onClick:a},"Month overview ",o.a.createElement("input",{type:"checkbox",checked:e.isMonthOverviewChecked,defaultChecked:!1,onChange:a})),o.a.createElement("span",{className:Z()("checkbox",{bold:e.isWeekdayOverviewChecked}),onClick:n},"Weekdays ",o.a.createElement("input",{type:"checkbox",checked:e.isWeekdayOverviewChecked,defaultChecked:!1,onChange:n}))),o.a.createElement("button",{onClick:function(){e.onReset()}},"Remove charts"))}),We=(a(68),function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(U.a)(this,Object(G.a)(t).call(this,e))).normalize=function(e){var t=Math.max.apply(Math,Object(x.a)(Object.values(a.props.data))),n=Math.min.apply(Math,Object(x.a)(Object.values(a.props.data)));return(e-n)/(t-n)*.75+.25},a.getPercentage=function(e){var t=Math.max.apply(Math,Object(x.a)(Object.values(a.props.data))),n=Math.min.apply(Math,Object(x.a)(Object.values(a.props.data)));return(e-n)/(t-n)*75+5},a.toggleFadeCss=function(e){e.style("opacity",void 0).classed({out:a.state.visible}),a.setState({visible:!a.state.visible})},a.renderArcs=function(){var e=te.t(a.refs.radialChart),t=Object.keys(a.props.data).sort(function(e,t){return d()(e,"ddd").isoWeekday()-d()(t,"ddd").isoWeekday()}).map(function(e){return{defaultValue:a.props.data[e],value:a.getPercentage(a.props.data[e]),label:e,color:te.k(a.normalize(a.props.data[e]))}}),n=t.map(function(e,t){return te.a().innerRadius(17.5*t+35).outerRadius(17.5*(t+1)-3.5+35)}),r=t.map(function(e,t){return te.a().innerRadius(17.5*t+41.75).outerRadius(17.5*(t+1)-8.75+35)}),o=t.map(function(e,t){return[{value:.75*e.value,arc:n[t],object:e},{value:.75*(100-e.value),arc:r[t],object:e},{value:25,arc:n[t],object:e}]}),s=te.p().sort(null).value(function(e){return e.value}),c=e.selectAll("g").data(o).enter().append("g").attr("transform","translate(175,175) rotate(180)"),i=e.selectAll("g.textClass").data([{}]).enter().append("g").classed("textClass",!0).attr("transform","translate(175,175) rotate(180)");c.selectAll("path").data(function(e){return s(e)}).enter().append("path").attr("id",function(e,t){return 0===t?"Arc"+e.data.object.label:1===t?"Text"+e.data.object.label:void 0}).style("cursor","pointer").on("mouseover",function(e,t){if(0===t){var a=te.t(this).attr("id");te.u("path").transition().filter(function(){return te.t(this).attr("id")!==a}).duration(500).attr("opacity",function(e,a){return a!==t-1?.25:1}),te.u(".textClass text").transition().filter(function(){return te.t(this).text()!==e.data.object.label}).duration(500).attr("opacity",function(e,a){return a!==t-1?.25:1})}}).on("mouseleave",function(e,t){te.u("path").attr("opacity",1),te.u(".textClass text").attr("opacity",1)}).attr("fill",function(e,t){return 0===t?e.data.object.color:1===t?"#F1F1F1":"none"}).transition().duration(1e3).attrTween("d",function(e){var t=te.j(e.startAngle+.1,e.endAngle);return function(a){return e.endAngle=t(a),e.data.arc(e)}}),e.selectAll("g").each(function(e,t){te.t(this).selectAll("path").each(function(e,t){if(1===t){var a=e.data.object;c.append("text").attr("font-size",14).attr("fill","#777").attr("dominant-baseline","central").append("textPath").attr("textLength",function(e,t){return 0}).attr("xlink:href","#Text"+a.label).attr("startOffset","5").attr("dy","-3em").transition().delay(1e3).text(a.defaultValue)}if(0===t){var n=e.data.arc.centroid({startAngle:e.startAngle,endAngle:e.startAngle}),r=e.data.object;i.append("text").attr("font-size",14).attr("fill",function(){return r.color}).attr("font-weight","600").transition().delay(1e3).text(r.label).attr("transform","translate("+(n[0]-5.25)+","+n[1]+") rotate(180)").attr("dominant-baseline","central")}})})},a.state={visible:!0},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.renderArcs()}},{key:"componentDidUpdate",value:function(){this.renderArcs()}},{key:"render",value:function(){return o.a.createElement("svg",{className:"radial-chart",ref:"radialChart",width:"100%",height:350})}}]),t}(o.a.PureComponent)),Ye=Object(i.b)(function(e){return{dayInsights:e.app.dayInsights,selectedDay:d()(e.calendar.selectedDay).format("YYYY-MM-DD")}})(We),je=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(U.a)(this,Object(G.a)(t).call(this,e))).resize=function(){a.setState({width:document.getElementById("card").clientWidth-a.props.margin.left-a.props.margin.right})},a.getData=function(){return a.props.monthInsights.length?a.props.daysOfMonth:a.props.weekdayInsights.length?a.props.daysOfWeekday:a.props.data},a.getInsights=function(){return a.props.showDatasetOverview?v(a.props.allDays,a.props.dataArr,a.props.dayInsights):a.props.isWeekOverviewChecked?O(a.props.dataArr,a.props.selectedDay,a.props.dayInsights):a.props.isMonthOverviewChecked?b(a.props.dataArr,a.props.selectedDay,a.props.dayInsights):a.props.isWeekdayOverviewChecked?k(d()(a.props.selectedDay).format("ddd"),a.props.dayInsights,a.props.allDays,a.props.currentWeekdays,a.props.dataArr).weekdayObj:void 0},a.showAreaChart=function(){return!a.props.showDatasetOverview&&(a.props.isWeekOverviewChecked||a.props.isMonthOverviewChecked||a.props.isWeekdayOverviewChecked)},a.updateScale=function(e){var t=te.s(),n=te.s(),r=te.r().nice(),o=a.getInsights(),s=o?Math.ceil(Math.max(te.o(Object.values(o)),te.o(Object.values(e)))):te.o(Object.values(e)),c=[0,a.showAreaChart()?s+s/20:s],i=te.z("%H:%M")("00:00");return t.domain([i,te.v.offset(i)]).range([0,a.state.width-a.props.margin.right]),n.domain([i,te.v.offset(i)]).range([0,a.state.width-a.props.margin.right]),r.domain(c).range([a.props.height-a.props.margin.top-a.props.margin.bottom,0]),{xScale:t,yScale:r,xScaleArea:n}},a.updatePlotSize=function(){return{plotWidth:a.state.width-(a.props.margin.left+a.props.margin.right),plotHeight:a.props.height}},a.state={width:.66*(document.getElementById("card").clientWidth-e.margin.left-e.margin.right)},a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return e.resize()})}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",function(){return e.resize()})}},{key:"componentDidUpdate",value:function(){X.a.rebuild()}},{key:"render",value:function(){var e=this,t=this.props.showDatasetOverview?this.getInsights():this.getData(),a=this.updateScale(t),n=a.xScale,r=a.yScale,s=a.xScaleArea,c=this.updatePlotSize(),i=c.plotWidth,l=c.plotHeight,u=te.o(Object.values(t)),h=u<10?u:u>20?u/4:u/2,p=te.z("%H"),f={xScale:n,yScale:r,xScaleArea:s,plotWidth:i,plotHeight:l,nrOfTicks:h},m={plotData:Object.keys(t).map(function(a,o){return{id:o,data:a,x:n(p(a)),y:r(t[a]),width:(e.state.width-e.props.margin.right)/24*.8,height:l-r(t[a])-e.props.margin.top-e.props.margin.bottom,occurrences:t[a]}})},y="translate(".concat(this.props.margin.left,",").concat(this.props.margin.top,")"),v=this.props.color||function(e,t,a){var n={r:0,g:0,b:0},r=e?a.filter(function(t){return d()(t.day,"DD-MM-YYYY").format("M")===e}):a.filter(function(e){return d()(e.day,"DD-MM-YYYY").format("ddd")===t});return r.forEach(function(e){n.r+=e.value.r,n.g+=e.value.g,n.b+=e.value.b}),te.q(n.r/r.length,n.g/r.length,n.b/r.length)}(this.props.selectedMonth,this.props.selectedWeekday,this.props.colors);return o.a.createElement("div",null,this.props.showDatasetOverview?o.a.createElement(Ye,{data:t}):o.a.createElement("svg",{width:"100%",height:this.props.height,ref:"barChart"},o.a.createElement("g",{transform:y,width:i,height:l},o.a.createElement(me,Object.assign({},f,{transform:"translate(0,".concat(l-50,")")})),o.a.createElement(ye,f),o.a.createElement(ke,Object.assign({},f,m,{color:v})),this.showAreaChart()&&o.a.createElement(Oe,Object.assign({},f,m,{margin:this.props.margin,weekInsights:this.getInsights(),color:v})))),!this.props.showDatasetOverview&&o.a.createElement(Ee,{showDatasetOverview:this.props.showDatasetOverview}),o.a.createElement(X.a,{id:"rectTooltip",multiline:!0,class:"tooltip"}),!this.props.showDatasetOverview&&o.a.createElement(Me,null))}}]),t}(o.a.Component),Ce=Object(i.b)(function(e){return{dayInsights:e.app.dayInsights,monthInsights:e.app.monthInsights,weekdayInsights:e.app.weekdayInsights,daysOfMonth:e.app.daysOfMonth,daysOfWeekday:e.app.daysOfWeekday,selectedDay:d()(e.calendar.selectedDay).format("YYYY-MM-DD"),selectedMonth:e.app.selectedMonth,selectedWeekday:e.app.selectedWeekday,dataArr:e.app.data,allDays:e.app.allDays,currentWeekdays:e.calendar.currentWeekdays,isWeekOverviewChecked:e.barChart.showWeekOverview,isMonthOverviewChecked:e.barChart.showMonthOverview,isWeekdayOverviewChecked:e.barChart.showWeekdayOverview,color:e.calendar.color,colors:e.calendar.colors}},function(e){return{showWeekOverview:function(t){return e(B(t))},showMonthOverview:function(t){return e(R(t))},showWeekdayOverview:function(t){return e(z(t))},showBarChart:function(t){return e(T(t))}}})(je),Ie=(a(69),Object(i.b)(function(e){return{dayInsights:e.app.dayInsights,monthInsights:e.app.monthInsights,weekdayInsights:e.app.weekdayInsights,selectedDay:d()(e.calendar.selectedDay).format("YYYY-MM-DD")}})(function(e){var t=!!e.dayInsights[e.selectedDay]||!!e.monthInsights.length||!!e.weekdayInsights.length,a={data:e.data,margin:e.margin,height:e.height};return o.a.createElement(ue,{className:Z()({"section-one-third":e.showDatasetOverview,"section-two-thirds":!e.showDatasetOverview})},o.a.createElement(le,null,e.showDatasetOverview?o.a.createElement("div",{className:"year-label dayTitle dataset-overview-title"},"Weekdays vs. weekends"):o.a.createElement(fe,{selectedDay:e.selectedDay}),o.a.createElement("div",{className:"barChart"},t?o.a.createElement(Ce,Object.assign({},a,{showDatasetOverview:e.showDatasetOverview})):o.a.createElement("div",{className:"emptyString"},"No data recorded"))))})),xe=a(37),Ae=a(30),Ne=a.n(Ae),Se=a(31),_e=a.n(Se),He=a(32),Te=a.n(He),Be=a(33),Re=a.n(Be),ze=a(34),Le=a.n(ze),Ve=Object(i.b)(function(e){return{files:e.app.files,datasetName:e.app.datasetName}},function(e){return{uploadFile:function(t){return e(function(e){return{type:"UPLOAD_FILE",val:e}}(t))},setData:function(t){return e(function(e){return{type:"SET_DATA",val:e}}(t))},setDatasetName:function(t){return e(function(e){return{type:"SET_DATASET_NAME",val:e}}(t))},showSpinner:function(t){return e(j(t))},showCalendar:function(t){return e(function(e){return{type:"SHOW_CALENDAR",val:e}}(t))},showBarChart:function(t){return e(T(t))},setMonthInsights:function(t){return e(C(t))},setWeekdayInsights:function(t){return e(I(t))},selectDay:function(t){return e(N(t))},showWeekOverview:function(t){return e(B(t))},showMonthOverview:function(t){return e(R(t))},showWeekdayOverview:function(t){return e(z(t))},saveColor:function(t){return e(S(t))}}})(function(e){var t=e.files.map(function(e,t){return o.a.createElement("span",{key:t},o.a.createElement("b",{key:e.name},e.name),o.a.createElement("div",{className:"file-size"},function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(e.size)))}),a=function(t){te.f(t).then(function(t){e.setData(t),e.showCalendar(!0)}).catch(function(e){throw e})};return o.a.createElement(ue,{title:"Select dataset",className:"upload-section"},o.a.createElement("div",{className:"upload-dataset"},o.a.createElement(Ne.a,{className:"dropdown",options:["Dataset_1.csv","Dataset_2.csv","Dataset_3.csv","Dataset_4.csv"],placeholder:"Choose...",value:e.datasetName,onChange:function(t){e.showBarChart(!1),e.showCalendar(!1),e.setMonthInsights({monthInsights:[],daysOfMonth:[]}),e.setWeekdayInsights({selectedWeekday:null,daysOfWeekday:[],weekdayInsights:[]}),e.selectDay(null),e.showWeekOverview(!1),e.showMonthOverview(!1),e.showWeekdayOverview(!1),e.saveColor([]);var n=t.value;e.setDatasetName(n),e.showSpinner(!0),"Dataset_1.csv"===n&&a(_e.a),"Dataset_2.csv"===n&&a(Te.a),"Dataset_3.csv"===n&&a(Re.a),"Dataset_4.csv"===n&&a(Le.a)}}),o.a.createElement(xe.a,{accept:"text/csv",onDrop:function(t,a){e.uploadFile(t),t.forEach(function(t){var a=new FileReader;a.onload=function(){var t=a.result,n=te.g(t);e.setData(n),e.showCalendar(!0)},a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.readAsBinaryString(t)})}},function(e){var a=e.getRootProps,n=e.getInputProps,r=e.isDragActive;return o.a.createElement("div",Object.assign({},a(),{className:Z()("dropzone",{"dropzone--isActive":r,"dropzone--isDone":!!t.length})}),o.a.createElement("input",n()),t.length?o.a.createElement("span",{className:"file-name"},o.a.createElement("i",{className:"fa fa-remove"}),t):o.a.createElement("span",{className:"upload-message"},o.a.createElement("i",{className:"fa fa-upload"}),"Drag & Drop"))})))}),Pe=(a(71),a(73),a(19)),Fe=a.n(Pe),Ue=a(35),Ge=a.n(Ue),qe=a(20),Ke=a.n(qe),Xe=a(36),Je=a.n(Xe),Ze=Object(i.b)(function(e){return{allDays:e.app.allDays,selectedDay:d()(e.calendar.selectedDay).format("YYYY-MM-DD"),isCalendarVisible:e.calendar.isCalendarVisible,isBarChartVisible:e.barChart.isBarChartVisible,isSpinnerVisible:e.app.isSpinnerVisible}})(function(e){var t=function(t){return o.a.createElement(Ie,{data:e.allDays[e.selectedDay],margin:{top:20,right:20,bottom:30,left:40},height:300,showDatasetOverview:t})};return o.a.createElement("div",{className:"app"},o.a.createElement("header",{className:"header"},o.a.createElement("div",{className:"title"}," Visualizing Time-Series Data "),o.a.createElement("div",{className:"icons"},o.a.createElement("a",{href:"https://github.com/diana-tofan/Time-Series-Visualization",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"github-icon",src:Fe.a,alt:"Github",onMouseOver:function(e){return e.currentTarget.src=Ge.a},onMouseLeave:function(e){return e.currentTarget.src=Fe.a}})),o.a.createElement("a",{href:"https://www.overleaf.com/read/vptjwvyzjnvg",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"pdf-icon",src:Ke.a,alt:"Report",onMouseOver:function(e){return e.currentTarget.src=Je.a},onMouseLeave:function(e){return e.currentTarget.src=Ke.a}})))),o.a.createElement("div",{className:"content"},o.a.createElement(Ve,null),e.isCalendarVisible&&o.a.createElement(he,null),e.isBarChartVisible&&o.a.createElement("div",null,o.a.createElement("p",null,"Day overview"),o.a.createElement("div",{className:"charts-container"},t(),t(!0))),e.isSpinnerVisible&&o.a.createElement("div",{className:"spinner"},o.a.createElement("div",{className:"double-bounce1"}),o.a.createElement("div",{className:"double-bounce2"}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e=Object(l.c)(V,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({actionSanitizer:function(e){return"FILE_DOWNLOAD_SUCCESS"===e.type&&e.data?Object(n.a)({},e,{data:"<<LONG_BLOB>>"}):e},stateSanitizer:function(e){return e.data?Object(n.a)({},e,{data:"<<LONG_BLOB>>"}):e}}));c.a.render(o.a.createElement(i.a,{store:$e},o.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,2,1]]]);
//# sourceMappingURL=main.56567027.chunk.js.map